import{a as Ar,b as Er,c as Tr,d as ui,e as Ir,f as pi,g as Rr,h as mi,i as Or,j as Pr,k as Oe,l as gi,m as Mr,n as Fr,o as _i,p as Nr,q as Lr,r as Br,t as Ur,u as Hr,w as jr,x as Wr,y as Vr,z as Zr}from"./chunk-HHXRWK4K.js";import{$ as ri,B as _r,D as vr,K as yr,L as br,O as wr,P as Cr,Q as Re,T as xr,U as zr,V as $t,Y as ii,_ as kr,aa as oi,ba as si,da as ai,ea as li,fa as An,g as qt,ga as Sr,i as pr,j as ti,k as on,l as ei,m as ni,ma as En,na as sn,pa as ci,qa as di,ra as an,sa as ln,t as mr,w as gr,wa as fi,xa as cn,ya as dn,za as hi}from"./chunk-PEJCXX6M.js";import{a as Qr}from"./chunk-HSET2XFC.js";import{i as hr,k as ur,r as Dr}from"./chunk-5VP6XPOA.js";import{$b as Xe,Aa as Ge,Ab as Lt,Ac as rn,Ba as Ke,Cb as gt,D as Xi,Db as Ae,Dc as dr,Ea as qe,Eb as or,Ec as Kt,Fc as ue,Gc as Jn,Hc as fr,I as Ji,Ja as ze,Ka as ir,L as tr,Lb as Ee,M as Gn,Ma as he,N as Ze,Ob as bt,Pb as wt,Ra as rr,Rb as sr,Rc as pe,Sb as $e,T as be,Tb as Ye,Tc as zt,Ub as _t,Uc as Ie,V as er,Vb as ot,Wb as dt,Xb as Pt,a as te,ac as Je,b as Vi,c as We,ca as we,cc as Rt,d as Zi,da as Qe,dc as Yn,e as Qi,ea as ne,f as Gi,fb as ke,g as Zn,ga as nr,gb as Kn,gc as Ct,h as ee,hc as Xn,i as ye,ib as st,ic as lt,jc as ar,k as Ve,kb as Qt,kc as lr,la as de,lb as qn,lc as xn,ma as Ce,mb as bn,mc as tn,n as mt,nc as ie,o as yn,oa as fe,oc as re,p as Ki,pb as wn,pc as zn,qa as nt,qc as Te,rc as Gt,s as qi,sc as en,tc as nn,u as $i,ub as Nt,uc as vt,v as Qn,vb as Se,vc as cr,wa as St,wb as Vt,wc as Ht,xa as Dt,xb as De,xc as kn,y as Yi,yb as Cn,yc as Sn,za as xe,zb as $n,zc as Dn}from"./chunk-ZDOPM4TA.js";var ao=Qi((wi,Ci)=>{"use strict";(function(s,r){typeof define=="function"&&define.amd?define([],r):typeof wi<"u"?r():(r(),s.FileSaver={})})(wi,function(){"use strict";function s(l,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(l.type)?new Blob(["\uFEFF",l],{type:l.type}):l}function r(l,u,g){var d=new XMLHttpRequest;d.open("GET",l),d.responseType="blob",d.onload=function(){o(d.response,u,g)},d.onerror=function(){console.error("could not download file")},d.send()}function e(l){var u=new XMLHttpRequest;u.open("HEAD",l,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function n(l){try{l.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),l.dispatchEvent(u)}}var t=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,i=t.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),o=t.saveAs||(typeof window!="object"||window!==t?function(){}:"download"in HTMLAnchorElement.prototype&&!i?function(l,u,g){var d=t.URL||t.webkitURL,a=document.createElement("a");u=u||l.name||"download",a.download=u,a.rel="noopener",typeof l=="string"?(a.href=l,a.origin===location.origin?n(a):e(a.href)?r(l,u,g):n(a,a.target="_blank")):(a.href=d.createObjectURL(l),setTimeout(function(){d.revokeObjectURL(a.href)},4e4),setTimeout(function(){n(a)},0))}:"msSaveOrOpenBlob"in navigator?function(l,u,g){if(u=u||l.name||"download",typeof l!="string")navigator.msSaveOrOpenBlob(s(l,g),u);else if(e(l))r(l,u,g);else{var d=document.createElement("a");d.href=l,d.target="_blank",setTimeout(function(){n(d)})}}:function(l,u,g,d){if(d=d||open("","_blank"),d&&(d.document.title=d.document.body.innerText="downloading..."),typeof l=="string")return r(l,u,g);var a=l.type==="application/octet-stream",c=/constructor/i.test(t.HTMLElement)||t.safari,f=/CriOS\/[\d]+/.test(navigator.userAgent);if((f||a&&c||i)&&typeof FileReader<"u"){var p=new FileReader;p.onloadend=function(){var b=p.result;b=f?b:b.replace(/^data:[^;]*;/,"data:attachment/file;"),d?d.location.href=b:location=b,d=null},p.readAsDataURL(l)}else{var _=t.URL||t.webkitURL,y=_.createObjectURL(l);d?d.location=y:location.href=y,d=null,setTimeout(function(){_.revokeObjectURL(y)},4e4)}});t.saveAs=o.saveAs=o,typeof Ci<"u"&&(Ci.exports=o)})});var co=Qi((lo,xi)=>{"use strict";(function(s){typeof lo=="object"&&typeof xi<"u"?xi.exports=s():typeof define=="function"&&define.amd?define([],s):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).JSZip=s()})(function(){return(function s(r,e,n){function t(l,u){if(!e[l]){if(!r[l]){var g=typeof We=="function"&&We;if(!u&&g)return g(l,!0);if(i)return i(l,!0);var d=new Error("Cannot find module '"+l+"'");throw d.code="MODULE_NOT_FOUND",d}var a=e[l]={exports:{}};r[l][0].call(a.exports,function(c){var f=r[l][1][c];return t(f||c)},a,a.exports,s,r,e,n)}return e[l].exports}for(var i=typeof We=="function"&&We,o=0;o<n.length;o++)t(n[o]);return t})({1:[function(s,r,e){"use strict";var n=s("./utils"),t=s("./support"),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.encode=function(o){for(var l,u,g,d,a,c,f,p=[],_=0,y=o.length,b=y,O=n.getTypeOf(o)!=="string";_<o.length;)b=y-_,g=O?(l=o[_++],u=_<y?o[_++]:0,_<y?o[_++]:0):(l=o.charCodeAt(_++),u=_<y?o.charCodeAt(_++):0,_<y?o.charCodeAt(_++):0),d=l>>2,a=(3&l)<<4|u>>4,c=1<b?(15&u)<<2|g>>6:64,f=2<b?63&g:64,p.push(i.charAt(d)+i.charAt(a)+i.charAt(c)+i.charAt(f));return p.join("")},e.decode=function(o){var l,u,g,d,a,c,f=0,p=0,_="data:";if(o.substr(0,_.length)===_)throw new Error("Invalid base64 input, it looks like a data url.");var y,b=3*(o=o.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(o.charAt(o.length-1)===i.charAt(64)&&b--,o.charAt(o.length-2)===i.charAt(64)&&b--,b%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=t.uint8array?new Uint8Array(0|b):new Array(0|b);f<o.length;)l=i.indexOf(o.charAt(f++))<<2|(d=i.indexOf(o.charAt(f++)))>>4,u=(15&d)<<4|(a=i.indexOf(o.charAt(f++)))>>2,g=(3&a)<<6|(c=i.indexOf(o.charAt(f++))),y[p++]=l,a!==64&&(y[p++]=u),c!==64&&(y[p++]=g);return y}},{"./support":30,"./utils":32}],2:[function(s,r,e){"use strict";var n=s("./external"),t=s("./stream/DataWorker"),i=s("./stream/Crc32Probe"),o=s("./stream/DataLengthProbe");function l(u,g,d,a,c){this.compressedSize=u,this.uncompressedSize=g,this.crc32=d,this.compression=a,this.compressedContent=c}l.prototype={getContentWorker:function(){var u=new t(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),g=this;return u.on("end",function(){if(this.streamInfo.data_length!==g.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new t(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},l.createWorkerFrom=function(u,g,d){return u.pipe(new i).pipe(new o("uncompressedSize")).pipe(g.compressWorker(d)).pipe(new o("compressedSize")).withStreamInfo("compression",g)},r.exports=l},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(s,r,e){"use strict";var n=s("./stream/GenericWorker");e.STORE={magic:"\0\0",compressWorker:function(){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},e.DEFLATE=s("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(s,r,e){"use strict";var n=s("./utils"),t=(function(){for(var i,o=[],l=0;l<256;l++){i=l;for(var u=0;u<8;u++)i=1&i?3988292384^i>>>1:i>>>1;o[l]=i}return o})();r.exports=function(i,o){return i!==void 0&&i.length?n.getTypeOf(i)!=="string"?(function(l,u,g,d){var a=t,c=d+g;l^=-1;for(var f=d;f<c;f++)l=l>>>8^a[255&(l^u[f])];return-1^l})(0|o,i,i.length,0):(function(l,u,g,d){var a=t,c=d+g;l^=-1;for(var f=d;f<c;f++)l=l>>>8^a[255&(l^u.charCodeAt(f))];return-1^l})(0|o,i,i.length,0):0}},{"./utils":32}],5:[function(s,r,e){"use strict";e.base64=!1,e.binary=!1,e.dir=!1,e.createFolders=!0,e.date=null,e.compression=null,e.compressionOptions=null,e.comment=null,e.unixPermissions=null,e.dosPermissions=null},{}],6:[function(s,r,e){"use strict";var n=null;n=typeof Promise<"u"?Promise:s("lie"),r.exports={Promise:n}},{lie:37}],7:[function(s,r,e){"use strict";var n=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",t=s("pako"),i=s("./utils"),o=s("./stream/GenericWorker"),l=n?"uint8array":"array";function u(g,d){o.call(this,"FlateWorker/"+g),this._pako=null,this._pakoAction=g,this._pakoOptions=d,this.meta={}}e.magic="\b\0",i.inherits(u,o),u.prototype.processChunk=function(g){this.meta=g.meta,this._pako===null&&this._createPako(),this._pako.push(i.transformTo(l,g.data),!1)},u.prototype.flush=function(){o.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new t[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var g=this;this._pako.onData=function(d){g.push({data:d,meta:g.meta})}},e.compressWorker=function(g){return new u("Deflate",g)},e.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(s,r,e){"use strict";function n(a,c){var f,p="";for(f=0;f<c;f++)p+=String.fromCharCode(255&a),a>>>=8;return p}function t(a,c,f,p,_,y){var b,O,E=a.file,P=a.compression,L=y!==l.utf8encode,z=i.transformTo("string",y(E.name)),M=i.transformTo("string",l.utf8encode(E.name)),C=E.comment,x=i.transformTo("string",y(C)),v=i.transformTo("string",l.utf8encode(C)),k=M.length!==E.name.length,h=v.length!==C.length,I="",N="",F="",S=E.dir,w=E.date,H={crc32:0,compressedSize:0,uncompressedSize:0};c&&!f||(H.crc32=a.crc32,H.compressedSize=a.compressedSize,H.uncompressedSize=a.uncompressedSize);var A=0;c&&(A|=8),L||!k&&!h||(A|=2048);var R=0,$=0;S&&(R|=16),_==="UNIX"?($=798,R|=(function(V,q){var Z=V;return V||(Z=q?16893:33204),(65535&Z)<<16})(E.unixPermissions,S)):($=20,R|=(function(V){return 63&(V||0)})(E.dosPermissions)),b=w.getUTCHours(),b<<=6,b|=w.getUTCMinutes(),b<<=5,b|=w.getUTCSeconds()/2,O=w.getUTCFullYear()-1980,O<<=4,O|=w.getUTCMonth()+1,O<<=5,O|=w.getUTCDate(),k&&(N=n(1,1)+n(u(z),4)+M,I+="up"+n(N.length,2)+N),h&&(F=n(1,1)+n(u(x),4)+v,I+="uc"+n(F.length,2)+F);var j="";return j+=`
\0`,j+=n(A,2),j+=P.magic,j+=n(b,2),j+=n(O,2),j+=n(H.crc32,4),j+=n(H.compressedSize,4),j+=n(H.uncompressedSize,4),j+=n(z.length,2),j+=n(I.length,2),{fileRecord:g.LOCAL_FILE_HEADER+j+z+I,dirRecord:g.CENTRAL_FILE_HEADER+n($,2)+j+n(x.length,2)+"\0\0\0\0"+n(R,4)+n(p,4)+z+I+x}}var i=s("../utils"),o=s("../stream/GenericWorker"),l=s("../utf8"),u=s("../crc32"),g=s("../signature");function d(a,c,f,p){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=c,this.zipPlatform=f,this.encodeFileName=p,this.streamFiles=a,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}i.inherits(d,o),d.prototype.push=function(a){var c=a.meta.percent||0,f=this.entriesCount,p=this._sources.length;this.accumulate?this.contentBuffer.push(a):(this.bytesWritten+=a.data.length,o.prototype.push.call(this,{data:a.data,meta:{currentFile:this.currentFile,percent:f?(c+100*(f-p-1))/f:100}}))},d.prototype.openedSource=function(a){this.currentSourceOffset=this.bytesWritten,this.currentFile=a.file.name;var c=this.streamFiles&&!a.file.dir;if(c){var f=t(a,c,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:f.fileRecord,meta:{percent:0}})}else this.accumulate=!0},d.prototype.closedSource=function(a){this.accumulate=!1;var c=this.streamFiles&&!a.file.dir,f=t(a,c,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(f.dirRecord),c)this.push({data:(function(p){return g.DATA_DESCRIPTOR+n(p.crc32,4)+n(p.compressedSize,4)+n(p.uncompressedSize,4)})(a),meta:{percent:100}});else for(this.push({data:f.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},d.prototype.flush=function(){for(var a=this.bytesWritten,c=0;c<this.dirRecords.length;c++)this.push({data:this.dirRecords[c],meta:{percent:100}});var f=this.bytesWritten-a,p=(function(_,y,b,O,E){var P=i.transformTo("string",E(O));return g.CENTRAL_DIRECTORY_END+"\0\0\0\0"+n(_,2)+n(_,2)+n(y,4)+n(b,4)+n(P.length,2)+P})(this.dirRecords.length,f,a,this.zipComment,this.encodeFileName);this.push({data:p,meta:{percent:100}})},d.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},d.prototype.registerPrevious=function(a){this._sources.push(a);var c=this;return a.on("data",function(f){c.processChunk(f)}),a.on("end",function(){c.closedSource(c.previous.streamInfo),c._sources.length?c.prepareNextSource():c.end()}),a.on("error",function(f){c.error(f)}),this},d.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},d.prototype.error=function(a){var c=this._sources;if(!o.prototype.error.call(this,a))return!1;for(var f=0;f<c.length;f++)try{c[f].error(a)}catch{}return!0},d.prototype.lock=function(){o.prototype.lock.call(this);for(var a=this._sources,c=0;c<a.length;c++)a[c].lock()},r.exports=d},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(s,r,e){"use strict";var n=s("../compressions"),t=s("./ZipFileWorker");e.generateWorker=function(i,o,l){var u=new t(o.streamFiles,l,o.platform,o.encodeFileName),g=0;try{i.forEach(function(d,a){g++;var c=(function(y,b){var O=y||b,E=n[O];if(!E)throw new Error(O+" is not a valid compression method !");return E})(a.options.compression,o.compression),f=a.options.compressionOptions||o.compressionOptions||{},p=a.dir,_=a.date;a._compressWorker(c,f).withStreamInfo("file",{name:d,dir:p,date:_,comment:a.comment||"",unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions}).pipe(u)}),u.entriesCount=g}catch(d){u.error(d)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(s,r,e){"use strict";function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var t=new n;for(var i in this)typeof this[i]!="function"&&(t[i]=this[i]);return t}}(n.prototype=s("./object")).loadAsync=s("./load"),n.support=s("./support"),n.defaults=s("./defaults"),n.version="3.10.1",n.loadAsync=function(t,i){return new n().loadAsync(t,i)},n.external=s("./external"),r.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(s,r,e){"use strict";var n=s("./utils"),t=s("./external"),i=s("./utf8"),o=s("./zipEntries"),l=s("./stream/Crc32Probe"),u=s("./nodejsUtils");function g(d){return new t.Promise(function(a,c){var f=d.decompressed.getContentWorker().pipe(new l);f.on("error",function(p){c(p)}).on("end",function(){f.streamInfo.crc32!==d.decompressed.crc32?c(new Error("Corrupted zip : CRC32 mismatch")):a()}).resume()})}r.exports=function(d,a){var c=this;return a=n.extend(a||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:i.utf8decode}),u.isNode&&u.isStream(d)?t.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",d,!0,a.optimizedBinaryString,a.base64).then(function(f){var p=new o(a);return p.load(f),p}).then(function(f){var p=[t.Promise.resolve(f)],_=f.files;if(a.checkCRC32)for(var y=0;y<_.length;y++)p.push(g(_[y]));return t.Promise.all(p)}).then(function(f){for(var p=f.shift(),_=p.files,y=0;y<_.length;y++){var b=_[y],O=b.fileNameStr,E=n.resolve(b.fileNameStr);c.file(E,b.decompressed,{binary:!0,optimizedBinaryString:!0,date:b.date,dir:b.dir,comment:b.fileCommentStr.length?b.fileCommentStr:null,unixPermissions:b.unixPermissions,dosPermissions:b.dosPermissions,createFolders:a.createFolders}),b.dir||(c.file(E).unsafeOriginalName=O)}return p.zipComment.length&&(c.comment=p.zipComment),c})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(s,r,e){"use strict";var n=s("../utils"),t=s("../stream/GenericWorker");function i(o,l){t.call(this,"Nodejs stream input adapter for "+o),this._upstreamEnded=!1,this._bindStream(l)}n.inherits(i,t),i.prototype._bindStream=function(o){var l=this;(this._stream=o).pause(),o.on("data",function(u){l.push({data:u,meta:{percent:0}})}).on("error",function(u){l.isPaused?this.generatedError=u:l.error(u)}).on("end",function(){l.isPaused?l._upstreamEnded=!0:l.end()})},i.prototype.pause=function(){return!!t.prototype.pause.call(this)&&(this._stream.pause(),!0)},i.prototype.resume=function(){return!!t.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=i},{"../stream/GenericWorker":28,"../utils":32}],13:[function(s,r,e){"use strict";var n=s("readable-stream").Readable;function t(i,o,l){n.call(this,o),this._helper=i;var u=this;i.on("data",function(g,d){u.push(g)||u._helper.pause(),l&&l(d)}).on("error",function(g){u.emit("error",g)}).on("end",function(){u.push(null)})}s("../utils").inherits(t,n),t.prototype._read=function(){this._helper.resume()},r.exports=t},{"../utils":32,"readable-stream":16}],14:[function(s,r,e){"use strict";r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(n,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(n,t);if(typeof n=="number")throw new Error('The "data" argument must not be a number');return new Buffer(n,t)},allocBuffer:function(n){if(Buffer.alloc)return Buffer.alloc(n);var t=new Buffer(n);return t.fill(0),t},isBuffer:function(n){return Buffer.isBuffer(n)},isStream:function(n){return n&&typeof n.on=="function"&&typeof n.pause=="function"&&typeof n.resume=="function"}}},{}],15:[function(s,r,e){"use strict";function n(E,P,L){var z,M=i.getTypeOf(P),C=i.extend(L||{},u);C.date=C.date||new Date,C.compression!==null&&(C.compression=C.compression.toUpperCase()),typeof C.unixPermissions=="string"&&(C.unixPermissions=parseInt(C.unixPermissions,8)),C.unixPermissions&&16384&C.unixPermissions&&(C.dir=!0),C.dosPermissions&&16&C.dosPermissions&&(C.dir=!0),C.dir&&(E=_(E)),C.createFolders&&(z=p(E))&&y.call(this,z,!0);var x=M==="string"&&C.binary===!1&&C.base64===!1;L&&L.binary!==void 0||(C.binary=!x),(P instanceof g&&P.uncompressedSize===0||C.dir||!P||P.length===0)&&(C.base64=!1,C.binary=!0,P="",C.compression="STORE",M="string");var v=null;v=P instanceof g||P instanceof o?P:c.isNode&&c.isStream(P)?new f(E,P):i.prepareContent(E,P,C.binary,C.optimizedBinaryString,C.base64);var k=new d(E,v,C);this.files[E]=k}var t=s("./utf8"),i=s("./utils"),o=s("./stream/GenericWorker"),l=s("./stream/StreamHelper"),u=s("./defaults"),g=s("./compressedObject"),d=s("./zipObject"),a=s("./generate"),c=s("./nodejsUtils"),f=s("./nodejs/NodejsStreamInputAdapter"),p=function(E){E.slice(-1)==="/"&&(E=E.substring(0,E.length-1));var P=E.lastIndexOf("/");return 0<P?E.substring(0,P):""},_=function(E){return E.slice(-1)!=="/"&&(E+="/"),E},y=function(E,P){return P=P!==void 0?P:u.createFolders,E=_(E),this.files[E]||n.call(this,E,null,{dir:!0,createFolders:P}),this.files[E]};function b(E){return Object.prototype.toString.call(E)==="[object RegExp]"}var O={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(E){var P,L,z;for(P in this.files)z=this.files[P],(L=P.slice(this.root.length,P.length))&&P.slice(0,this.root.length)===this.root&&E(L,z)},filter:function(E){var P=[];return this.forEach(function(L,z){E(L,z)&&P.push(z)}),P},file:function(E,P,L){if(arguments.length!==1)return E=this.root+E,n.call(this,E,P,L),this;if(b(E)){var z=E;return this.filter(function(C,x){return!x.dir&&z.test(C)})}var M=this.files[this.root+E];return M&&!M.dir?M:null},folder:function(E){if(!E)return this;if(b(E))return this.filter(function(M,C){return C.dir&&E.test(M)});var P=this.root+E,L=y.call(this,P),z=this.clone();return z.root=L.name,z},remove:function(E){E=this.root+E;var P=this.files[E];if(P||(E.slice(-1)!=="/"&&(E+="/"),P=this.files[E]),P&&!P.dir)delete this.files[E];else for(var L=this.filter(function(M,C){return C.name.slice(0,E.length)===E}),z=0;z<L.length;z++)delete this.files[L[z].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(E){var P,L={};try{if((L=i.extend(E||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:t.utf8encode})).type=L.type.toLowerCase(),L.compression=L.compression.toUpperCase(),L.type==="binarystring"&&(L.type="string"),!L.type)throw new Error("No output type specified.");i.checkSupport(L.type),L.platform!=="darwin"&&L.platform!=="freebsd"&&L.platform!=="linux"&&L.platform!=="sunos"||(L.platform="UNIX"),L.platform==="win32"&&(L.platform="DOS");var z=L.comment||this.comment||"";P=a.generateWorker(this,L,z)}catch(M){(P=new o("error")).error(M)}return new l(P,L.type||"string",L.mimeType)},generateAsync:function(E,P){return this.generateInternalStream(E).accumulate(P)},generateNodeStream:function(E,P){return(E=E||{}).type||(E.type="nodebuffer"),this.generateInternalStream(E).toNodejsStream(P)}};r.exports=O},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(s,r,e){"use strict";r.exports=s("stream")},{stream:void 0}],17:[function(s,r,e){"use strict";var n=s("./DataReader");function t(i){n.call(this,i);for(var o=0;o<this.data.length;o++)i[o]=255&i[o]}s("../utils").inherits(t,n),t.prototype.byteAt=function(i){return this.data[this.zero+i]},t.prototype.lastIndexOfSignature=function(i){for(var o=i.charCodeAt(0),l=i.charCodeAt(1),u=i.charCodeAt(2),g=i.charCodeAt(3),d=this.length-4;0<=d;--d)if(this.data[d]===o&&this.data[d+1]===l&&this.data[d+2]===u&&this.data[d+3]===g)return d-this.zero;return-1},t.prototype.readAndCheckSignature=function(i){var o=i.charCodeAt(0),l=i.charCodeAt(1),u=i.charCodeAt(2),g=i.charCodeAt(3),d=this.readData(4);return o===d[0]&&l===d[1]&&u===d[2]&&g===d[3]},t.prototype.readData=function(i){if(this.checkOffset(i),i===0)return[];var o=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,o},r.exports=t},{"../utils":32,"./DataReader":18}],18:[function(s,r,e){"use strict";var n=s("../utils");function t(i){this.data=i,this.length=i.length,this.index=0,this.zero=0}t.prototype={checkOffset:function(i){this.checkIndex(this.index+i)},checkIndex:function(i){if(this.length<this.zero+i||i<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+i+"). Corrupted zip ?")},setIndex:function(i){this.checkIndex(i),this.index=i},skip:function(i){this.setIndex(this.index+i)},byteAt:function(){},readInt:function(i){var o,l=0;for(this.checkOffset(i),o=this.index+i-1;o>=this.index;o--)l=(l<<8)+this.byteAt(o);return this.index+=i,l},readString:function(i){return n.transformTo("string",this.readData(i))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var i=this.readInt(4);return new Date(Date.UTC(1980+(i>>25&127),(i>>21&15)-1,i>>16&31,i>>11&31,i>>5&63,(31&i)<<1))}},r.exports=t},{"../utils":32}],19:[function(s,r,e){"use strict";var n=s("./Uint8ArrayReader");function t(i){n.call(this,i)}s("../utils").inherits(t,n),t.prototype.readData=function(i){this.checkOffset(i);var o=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,o},r.exports=t},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(s,r,e){"use strict";var n=s("./DataReader");function t(i){n.call(this,i)}s("../utils").inherits(t,n),t.prototype.byteAt=function(i){return this.data.charCodeAt(this.zero+i)},t.prototype.lastIndexOfSignature=function(i){return this.data.lastIndexOf(i)-this.zero},t.prototype.readAndCheckSignature=function(i){return i===this.readData(4)},t.prototype.readData=function(i){this.checkOffset(i);var o=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,o},r.exports=t},{"../utils":32,"./DataReader":18}],21:[function(s,r,e){"use strict";var n=s("./ArrayReader");function t(i){n.call(this,i)}s("../utils").inherits(t,n),t.prototype.readData=function(i){if(this.checkOffset(i),i===0)return new Uint8Array(0);var o=this.data.subarray(this.zero+this.index,this.zero+this.index+i);return this.index+=i,o},r.exports=t},{"../utils":32,"./ArrayReader":17}],22:[function(s,r,e){"use strict";var n=s("../utils"),t=s("../support"),i=s("./ArrayReader"),o=s("./StringReader"),l=s("./NodeBufferReader"),u=s("./Uint8ArrayReader");r.exports=function(g){var d=n.getTypeOf(g);return n.checkSupport(d),d!=="string"||t.uint8array?d==="nodebuffer"?new l(g):t.uint8array?new u(n.transformTo("uint8array",g)):new i(n.transformTo("array",g)):new o(g)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(s,r,e){"use strict";e.LOCAL_FILE_HEADER="PK",e.CENTRAL_FILE_HEADER="PK",e.CENTRAL_DIRECTORY_END="PK",e.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",e.ZIP64_CENTRAL_DIRECTORY_END="PK",e.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(s,r,e){"use strict";var n=s("./GenericWorker"),t=s("../utils");function i(o){n.call(this,"ConvertWorker to "+o),this.destType=o}t.inherits(i,n),i.prototype.processChunk=function(o){this.push({data:t.transformTo(this.destType,o.data),meta:o.meta})},r.exports=i},{"../utils":32,"./GenericWorker":28}],25:[function(s,r,e){"use strict";var n=s("./GenericWorker"),t=s("../crc32");function i(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}s("../utils").inherits(i,n),i.prototype.processChunk=function(o){this.streamInfo.crc32=t(o.data,this.streamInfo.crc32||0),this.push(o)},r.exports=i},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(s,r,e){"use strict";var n=s("../utils"),t=s("./GenericWorker");function i(o){t.call(this,"DataLengthProbe for "+o),this.propName=o,this.withStreamInfo(o,0)}n.inherits(i,t),i.prototype.processChunk=function(o){if(o){var l=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=l+o.data.length}t.prototype.processChunk.call(this,o)},r.exports=i},{"../utils":32,"./GenericWorker":28}],27:[function(s,r,e){"use strict";var n=s("../utils"),t=s("./GenericWorker");function i(o){t.call(this,"DataWorker");var l=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,o.then(function(u){l.dataIsReady=!0,l.data=u,l.max=u&&u.length||0,l.type=n.getTypeOf(u),l.isPaused||l._tickAndRepeat()},function(u){l.error(u)})}n.inherits(i,t),i.prototype.cleanUp=function(){t.prototype.cleanUp.call(this),this.data=null},i.prototype.resume=function(){return!!t.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},i.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},i.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var o=null,l=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":o=this.data.substring(this.index,l);break;case"uint8array":o=this.data.subarray(this.index,l);break;case"array":case"nodebuffer":o=this.data.slice(this.index,l)}return this.index=l,this.push({data:o,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=i},{"../utils":32,"./GenericWorker":28}],28:[function(s,r,e){"use strict";function n(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,i){return this._listeners[t].push(i),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,i){if(this._listeners[t])for(var o=0;o<this._listeners[t].length;o++)this._listeners[t][o].call(this,i)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var i=this;return t.on("data",function(o){i.processChunk(o)}),t.on("end",function(){i.end()}),t.on("error",function(o){i.error(o)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var t=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,i){return this.extraStreamInfo[t]=i,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}},r.exports=n},{}],29:[function(s,r,e){"use strict";var n=s("../utils"),t=s("./ConvertWorker"),i=s("./GenericWorker"),o=s("../base64"),l=s("../support"),u=s("../external"),g=null;if(l.nodestream)try{g=s("../nodejs/NodejsStreamOutputAdapter")}catch{}function d(c,f){return new u.Promise(function(p,_){var y=[],b=c._internalType,O=c._outputType,E=c._mimeType;c.on("data",function(P,L){y.push(P),f&&f(L)}).on("error",function(P){y=[],_(P)}).on("end",function(){try{var P=(function(L,z,M){switch(L){case"blob":return n.newBlob(n.transformTo("arraybuffer",z),M);case"base64":return o.encode(z);default:return n.transformTo(L,z)}})(O,(function(L,z){var M,C=0,x=null,v=0;for(M=0;M<z.length;M++)v+=z[M].length;switch(L){case"string":return z.join("");case"array":return Array.prototype.concat.apply([],z);case"uint8array":for(x=new Uint8Array(v),M=0;M<z.length;M++)x.set(z[M],C),C+=z[M].length;return x;case"nodebuffer":return Buffer.concat(z);default:throw new Error("concat : unsupported type '"+L+"'")}})(b,y),E);p(P)}catch(L){_(L)}y=[]}).resume()})}function a(c,f,p){var _=f;switch(f){case"blob":case"arraybuffer":_="uint8array";break;case"base64":_="string"}try{this._internalType=_,this._outputType=f,this._mimeType=p,n.checkSupport(_),this._worker=c.pipe(new t(_)),c.lock()}catch(y){this._worker=new i("error"),this._worker.error(y)}}a.prototype={accumulate:function(c){return d(this,c)},on:function(c,f){var p=this;return c==="data"?this._worker.on(c,function(_){f.call(p,_.data,_.meta)}):this._worker.on(c,function(){n.delay(f,arguments,p)}),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(c){if(n.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new g(this,{objectMode:this._outputType!=="nodebuffer"},c)}},r.exports=a},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(s,r,e){"use strict";if(e.base64=!0,e.array=!0,e.string=!0,e.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",e.nodebuffer=typeof Buffer<"u",e.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")e.blob=!1;else{var n=new ArrayBuffer(0);try{e.blob=new Blob([n],{type:"application/zip"}).size===0}catch{try{var t=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);t.append(n),e.blob=t.getBlob("application/zip").size===0}catch{e.blob=!1}}}try{e.nodestream=!!s("readable-stream").Readable}catch{e.nodestream=!1}},{"readable-stream":16}],31:[function(s,r,e){"use strict";for(var n=s("./utils"),t=s("./support"),i=s("./nodejsUtils"),o=s("./stream/GenericWorker"),l=new Array(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;l[254]=l[254]=1;function g(){o.call(this,"utf-8 decode"),this.leftOver=null}function d(){o.call(this,"utf-8 encode")}e.utf8encode=function(a){return t.nodebuffer?i.newBufferFrom(a,"utf-8"):(function(c){var f,p,_,y,b,O=c.length,E=0;for(y=0;y<O;y++)(64512&(p=c.charCodeAt(y)))==55296&&y+1<O&&(64512&(_=c.charCodeAt(y+1)))==56320&&(p=65536+(p-55296<<10)+(_-56320),y++),E+=p<128?1:p<2048?2:p<65536?3:4;for(f=t.uint8array?new Uint8Array(E):new Array(E),y=b=0;b<E;y++)(64512&(p=c.charCodeAt(y)))==55296&&y+1<O&&(64512&(_=c.charCodeAt(y+1)))==56320&&(p=65536+(p-55296<<10)+(_-56320),y++),p<128?f[b++]=p:(p<2048?f[b++]=192|p>>>6:(p<65536?f[b++]=224|p>>>12:(f[b++]=240|p>>>18,f[b++]=128|p>>>12&63),f[b++]=128|p>>>6&63),f[b++]=128|63&p);return f})(a)},e.utf8decode=function(a){return t.nodebuffer?n.transformTo("nodebuffer",a).toString("utf-8"):(function(c){var f,p,_,y,b=c.length,O=new Array(2*b);for(f=p=0;f<b;)if((_=c[f++])<128)O[p++]=_;else if(4<(y=l[_]))O[p++]=65533,f+=y-1;else{for(_&=y===2?31:y===3?15:7;1<y&&f<b;)_=_<<6|63&c[f++],y--;1<y?O[p++]=65533:_<65536?O[p++]=_:(_-=65536,O[p++]=55296|_>>10&1023,O[p++]=56320|1023&_)}return O.length!==p&&(O.subarray?O=O.subarray(0,p):O.length=p),n.applyFromCharCode(O)})(a=n.transformTo(t.uint8array?"uint8array":"array",a))},n.inherits(g,o),g.prototype.processChunk=function(a){var c=n.transformTo(t.uint8array?"uint8array":"array",a.data);if(this.leftOver&&this.leftOver.length){if(t.uint8array){var f=c;(c=new Uint8Array(f.length+this.leftOver.length)).set(this.leftOver,0),c.set(f,this.leftOver.length)}else c=this.leftOver.concat(c);this.leftOver=null}var p=(function(y,b){var O;for((b=b||y.length)>y.length&&(b=y.length),O=b-1;0<=O&&(192&y[O])==128;)O--;return O<0||O===0?b:O+l[y[O]]>b?O:b})(c),_=c;p!==c.length&&(t.uint8array?(_=c.subarray(0,p),this.leftOver=c.subarray(p,c.length)):(_=c.slice(0,p),this.leftOver=c.slice(p,c.length))),this.push({data:e.utf8decode(_),meta:a.meta})},g.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:e.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},e.Utf8DecodeWorker=g,n.inherits(d,o),d.prototype.processChunk=function(a){this.push({data:e.utf8encode(a.data),meta:a.meta})},e.Utf8EncodeWorker=d},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(s,r,e){"use strict";var n=s("./support"),t=s("./base64"),i=s("./nodejsUtils"),o=s("./external");function l(f){return f}function u(f,p){for(var _=0;_<f.length;++_)p[_]=255&f.charCodeAt(_);return p}s("setimmediate"),e.newBlob=function(f,p){e.checkSupport("blob");try{return new Blob([f],{type:p})}catch{try{var _=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return _.append(f),_.getBlob(p)}catch{throw new Error("Bug : can't construct the Blob.")}}};var g={stringifyByChunk:function(f,p,_){var y=[],b=0,O=f.length;if(O<=_)return String.fromCharCode.apply(null,f);for(;b<O;)p==="array"||p==="nodebuffer"?y.push(String.fromCharCode.apply(null,f.slice(b,Math.min(b+_,O)))):y.push(String.fromCharCode.apply(null,f.subarray(b,Math.min(b+_,O)))),b+=_;return y.join("")},stringifyByChar:function(f){for(var p="",_=0;_<f.length;_++)p+=String.fromCharCode(f[_]);return p},applyCanBeUsed:{uint8array:(function(){try{return n.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return n.nodebuffer&&String.fromCharCode.apply(null,i.allocBuffer(1)).length===1}catch{return!1}})()}};function d(f){var p=65536,_=e.getTypeOf(f),y=!0;if(_==="uint8array"?y=g.applyCanBeUsed.uint8array:_==="nodebuffer"&&(y=g.applyCanBeUsed.nodebuffer),y)for(;1<p;)try{return g.stringifyByChunk(f,_,p)}catch{p=Math.floor(p/2)}return g.stringifyByChar(f)}function a(f,p){for(var _=0;_<f.length;_++)p[_]=f[_];return p}e.applyFromCharCode=d;var c={};c.string={string:l,array:function(f){return u(f,new Array(f.length))},arraybuffer:function(f){return c.string.uint8array(f).buffer},uint8array:function(f){return u(f,new Uint8Array(f.length))},nodebuffer:function(f){return u(f,i.allocBuffer(f.length))}},c.array={string:d,array:l,arraybuffer:function(f){return new Uint8Array(f).buffer},uint8array:function(f){return new Uint8Array(f)},nodebuffer:function(f){return i.newBufferFrom(f)}},c.arraybuffer={string:function(f){return d(new Uint8Array(f))},array:function(f){return a(new Uint8Array(f),new Array(f.byteLength))},arraybuffer:l,uint8array:function(f){return new Uint8Array(f)},nodebuffer:function(f){return i.newBufferFrom(new Uint8Array(f))}},c.uint8array={string:d,array:function(f){return a(f,new Array(f.length))},arraybuffer:function(f){return f.buffer},uint8array:l,nodebuffer:function(f){return i.newBufferFrom(f)}},c.nodebuffer={string:d,array:function(f){return a(f,new Array(f.length))},arraybuffer:function(f){return c.nodebuffer.uint8array(f).buffer},uint8array:function(f){return a(f,new Uint8Array(f.length))},nodebuffer:l},e.transformTo=function(f,p){if(p=p||"",!f)return p;e.checkSupport(f);var _=e.getTypeOf(p);return c[_][f](p)},e.resolve=function(f){for(var p=f.split("/"),_=[],y=0;y<p.length;y++){var b=p[y];b==="."||b===""&&y!==0&&y!==p.length-1||(b===".."?_.pop():_.push(b))}return _.join("/")},e.getTypeOf=function(f){return typeof f=="string"?"string":Object.prototype.toString.call(f)==="[object Array]"?"array":n.nodebuffer&&i.isBuffer(f)?"nodebuffer":n.uint8array&&f instanceof Uint8Array?"uint8array":n.arraybuffer&&f instanceof ArrayBuffer?"arraybuffer":void 0},e.checkSupport=function(f){if(!n[f.toLowerCase()])throw new Error(f+" is not supported by this platform")},e.MAX_VALUE_16BITS=65535,e.MAX_VALUE_32BITS=-1,e.pretty=function(f){var p,_,y="";for(_=0;_<(f||"").length;_++)y+="\\x"+((p=f.charCodeAt(_))<16?"0":"")+p.toString(16).toUpperCase();return y},e.delay=function(f,p,_){setImmediate(function(){f.apply(_||null,p||[])})},e.inherits=function(f,p){function _(){}_.prototype=p.prototype,f.prototype=new _},e.extend=function(){var f,p,_={};for(f=0;f<arguments.length;f++)for(p in arguments[f])Object.prototype.hasOwnProperty.call(arguments[f],p)&&_[p]===void 0&&(_[p]=arguments[f][p]);return _},e.prepareContent=function(f,p,_,y,b){return o.Promise.resolve(p).then(function(O){return n.blob&&(O instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(O))!==-1)&&typeof FileReader<"u"?new o.Promise(function(E,P){var L=new FileReader;L.onload=function(z){E(z.target.result)},L.onerror=function(z){P(z.target.error)},L.readAsArrayBuffer(O)}):O}).then(function(O){var E=e.getTypeOf(O);return E?(E==="arraybuffer"?O=e.transformTo("uint8array",O):E==="string"&&(b?O=t.decode(O):_&&y!==!0&&(O=(function(P){return u(P,n.uint8array?new Uint8Array(P.length):new Array(P.length))})(O))),O):o.Promise.reject(new Error("Can't read the data of '"+f+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(s,r,e){"use strict";var n=s("./reader/readerFor"),t=s("./utils"),i=s("./signature"),o=s("./zipEntry"),l=s("./support");function u(g){this.files=[],this.loadOptions=g}u.prototype={checkSignature:function(g){if(!this.reader.readAndCheckSignature(g)){this.reader.index-=4;var d=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+t.pretty(d)+", expected "+t.pretty(g)+")")}},isSignature:function(g,d){var a=this.reader.index;this.reader.setIndex(g);var c=this.reader.readString(4)===d;return this.reader.setIndex(a),c},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var g=this.reader.readData(this.zipCommentLength),d=l.uint8array?"uint8array":"array",a=t.transformTo(d,g);this.zipComment=this.loadOptions.decodeFileName(a)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var g,d,a,c=this.zip64EndOfCentralSize-44;0<c;)g=this.reader.readInt(2),d=this.reader.readInt(4),a=this.reader.readData(d),this.zip64ExtensibleData[g]={id:g,length:d,value:a}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var g,d;for(g=0;g<this.files.length;g++)d=this.files[g],this.reader.setIndex(d.localHeaderOffset),this.checkSignature(i.LOCAL_FILE_HEADER),d.readLocalPart(this.reader),d.handleUTF8(),d.processAttributes()},readCentralDir:function(){var g;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(i.CENTRAL_FILE_HEADER);)(g=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(g);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var g=this.reader.lastIndexOfSignature(i.CENTRAL_DIRECTORY_END);if(g<0)throw this.isSignature(0,i.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(g);var d=g;if(this.checkSignature(i.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===t.MAX_VALUE_16BITS||this.diskWithCentralDirStart===t.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===t.MAX_VALUE_16BITS||this.centralDirRecords===t.MAX_VALUE_16BITS||this.centralDirSize===t.MAX_VALUE_32BITS||this.centralDirOffset===t.MAX_VALUE_32BITS){if(this.zip64=!0,(g=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(g),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,i.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var a=this.centralDirOffset+this.centralDirSize;this.zip64&&(a+=20,a+=12+this.zip64EndOfCentralSize);var c=d-a;if(0<c)this.isSignature(d,i.CENTRAL_FILE_HEADER)||(this.reader.zero=c);else if(c<0)throw new Error("Corrupted zip: missing "+Math.abs(c)+" bytes.")},prepareReader:function(g){this.reader=n(g)},load:function(g){this.prepareReader(g),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(s,r,e){"use strict";var n=s("./reader/readerFor"),t=s("./utils"),i=s("./compressedObject"),o=s("./crc32"),l=s("./utf8"),u=s("./compressions"),g=s("./support");function d(a,c){this.options=a,this.loadOptions=c}d.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(a){var c,f;if(a.skip(22),this.fileNameLength=a.readInt(2),f=a.readInt(2),this.fileName=a.readData(this.fileNameLength),a.skip(f),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((c=(function(p){for(var _ in u)if(Object.prototype.hasOwnProperty.call(u,_)&&u[_].magic===p)return u[_];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+t.pretty(this.compressionMethod)+" unknown (inner file : "+t.transformTo("string",this.fileName)+")");this.decompressed=new i(this.compressedSize,this.uncompressedSize,this.crc32,c,a.readData(this.compressedSize))},readCentralPart:function(a){this.versionMadeBy=a.readInt(2),a.skip(2),this.bitFlag=a.readInt(2),this.compressionMethod=a.readString(2),this.date=a.readDate(),this.crc32=a.readInt(4),this.compressedSize=a.readInt(4),this.uncompressedSize=a.readInt(4);var c=a.readInt(2);if(this.extraFieldsLength=a.readInt(2),this.fileCommentLength=a.readInt(2),this.diskNumberStart=a.readInt(2),this.internalFileAttributes=a.readInt(2),this.externalFileAttributes=a.readInt(4),this.localHeaderOffset=a.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");a.skip(c),this.readExtraFields(a),this.parseZIP64ExtraField(a),this.fileComment=a.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var a=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),a==0&&(this.dosPermissions=63&this.externalFileAttributes),a==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var a=n(this.extraFields[1].value);this.uncompressedSize===t.MAX_VALUE_32BITS&&(this.uncompressedSize=a.readInt(8)),this.compressedSize===t.MAX_VALUE_32BITS&&(this.compressedSize=a.readInt(8)),this.localHeaderOffset===t.MAX_VALUE_32BITS&&(this.localHeaderOffset=a.readInt(8)),this.diskNumberStart===t.MAX_VALUE_32BITS&&(this.diskNumberStart=a.readInt(4))}},readExtraFields:function(a){var c,f,p,_=a.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});a.index+4<_;)c=a.readInt(2),f=a.readInt(2),p=a.readData(f),this.extraFields[c]={id:c,length:f,value:p};a.setIndex(_)},handleUTF8:function(){var a=g.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=l.utf8decode(this.fileName),this.fileCommentStr=l.utf8decode(this.fileComment);else{var c=this.findExtraFieldUnicodePath();if(c!==null)this.fileNameStr=c;else{var f=t.transformTo(a,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(f)}var p=this.findExtraFieldUnicodeComment();if(p!==null)this.fileCommentStr=p;else{var _=t.transformTo(a,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(_)}}},findExtraFieldUnicodePath:function(){var a=this.extraFields[28789];if(a){var c=n(a.value);return c.readInt(1)!==1||o(this.fileName)!==c.readInt(4)?null:l.utf8decode(c.readData(a.length-5))}return null},findExtraFieldUnicodeComment:function(){var a=this.extraFields[25461];if(a){var c=n(a.value);return c.readInt(1)!==1||o(this.fileComment)!==c.readInt(4)?null:l.utf8decode(c.readData(a.length-5))}return null}},r.exports=d},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(s,r,e){"use strict";function n(c,f,p){this.name=c,this.dir=p.dir,this.date=p.date,this.comment=p.comment,this.unixPermissions=p.unixPermissions,this.dosPermissions=p.dosPermissions,this._data=f,this._dataBinary=p.binary,this.options={compression:p.compression,compressionOptions:p.compressionOptions}}var t=s("./stream/StreamHelper"),i=s("./stream/DataWorker"),o=s("./utf8"),l=s("./compressedObject"),u=s("./stream/GenericWorker");n.prototype={internalStream:function(c){var f=null,p="string";try{if(!c)throw new Error("No output type specified.");var _=(p=c.toLowerCase())==="string"||p==="text";p!=="binarystring"&&p!=="text"||(p="string"),f=this._decompressWorker();var y=!this._dataBinary;y&&!_&&(f=f.pipe(new o.Utf8EncodeWorker)),!y&&_&&(f=f.pipe(new o.Utf8DecodeWorker))}catch(b){(f=new u("error")).error(b)}return new t(f,p,"")},async:function(c,f){return this.internalStream(c).accumulate(f)},nodeStream:function(c,f){return this.internalStream(c||"nodebuffer").toNodejsStream(f)},_compressWorker:function(c,f){if(this._data instanceof l&&this._data.compression.magic===c.magic)return this._data.getCompressedWorker();var p=this._decompressWorker();return this._dataBinary||(p=p.pipe(new o.Utf8EncodeWorker)),l.createWorkerFrom(p,c,f)},_decompressWorker:function(){return this._data instanceof l?this._data.getContentWorker():this._data instanceof u?this._data:new i(this._data)}};for(var g=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],d=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},a=0;a<g.length;a++)n.prototype[g[a]]=d;r.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(s,r,e){(function(n){"use strict";var t,i,o=n.MutationObserver||n.WebKitMutationObserver;if(o){var l=0,u=new o(c),g=n.document.createTextNode("");u.observe(g,{characterData:!0}),t=function(){g.data=l=++l%2}}else if(n.setImmediate||n.MessageChannel===void 0)t="document"in n&&"onreadystatechange"in n.document.createElement("script")?function(){var f=n.document.createElement("script");f.onreadystatechange=function(){c(),f.onreadystatechange=null,f.parentNode.removeChild(f),f=null},n.document.documentElement.appendChild(f)}:function(){setTimeout(c,0)};else{var d=new n.MessageChannel;d.port1.onmessage=c,t=function(){d.port2.postMessage(0)}}var a=[];function c(){var f,p;i=!0;for(var _=a.length;_;){for(p=a,a=[],f=-1;++f<_;)p[f]();_=a.length}i=!1}r.exports=function(f){a.push(f)!==1||i||t()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(s,r,e){"use strict";var n=s("immediate");function t(){}var i={},o=["REJECTED"],l=["FULFILLED"],u=["PENDING"];function g(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,_!==t&&f(this,_)}function d(_,y,b){this.promise=_,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof b=="function"&&(this.onRejected=b,this.callRejected=this.otherCallRejected)}function a(_,y,b){n(function(){var O;try{O=y(b)}catch(E){return i.reject(_,E)}O===_?i.reject(_,new TypeError("Cannot resolve promise with itself")):i.resolve(_,O)})}function c(_){var y=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof y=="function")return function(){y.apply(_,arguments)}}function f(_,y){var b=!1;function O(L){b||(b=!0,i.reject(_,L))}function E(L){b||(b=!0,i.resolve(_,L))}var P=p(function(){y(E,O)});P.status==="error"&&O(P.value)}function p(_,y){var b={};try{b.value=_(y),b.status="success"}catch(O){b.status="error",b.value=O}return b}(r.exports=g).prototype.finally=function(_){if(typeof _!="function")return this;var y=this.constructor;return this.then(function(b){return y.resolve(_()).then(function(){return b})},function(b){return y.resolve(_()).then(function(){throw b})})},g.prototype.catch=function(_){return this.then(null,_)},g.prototype.then=function(_,y){if(typeof _!="function"&&this.state===l||typeof y!="function"&&this.state===o)return this;var b=new this.constructor(t);return this.state!==u?a(b,this.state===l?_:y,this.outcome):this.queue.push(new d(b,_,y)),b},d.prototype.callFulfilled=function(_){i.resolve(this.promise,_)},d.prototype.otherCallFulfilled=function(_){a(this.promise,this.onFulfilled,_)},d.prototype.callRejected=function(_){i.reject(this.promise,_)},d.prototype.otherCallRejected=function(_){a(this.promise,this.onRejected,_)},i.resolve=function(_,y){var b=p(c,y);if(b.status==="error")return i.reject(_,b.value);var O=b.value;if(O)f(_,O);else{_.state=l,_.outcome=y;for(var E=-1,P=_.queue.length;++E<P;)_.queue[E].callFulfilled(y)}return _},i.reject=function(_,y){_.state=o,_.outcome=y;for(var b=-1,O=_.queue.length;++b<O;)_.queue[b].callRejected(y);return _},g.resolve=function(_){return _ instanceof this?_:i.resolve(new this(t),_)},g.reject=function(_){var y=new this(t);return i.reject(y,_)},g.all=function(_){var y=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=_.length,O=!1;if(!b)return this.resolve([]);for(var E=new Array(b),P=0,L=-1,z=new this(t);++L<b;)M(_[L],L);return z;function M(C,x){y.resolve(C).then(function(v){E[x]=v,++P!==b||O||(O=!0,i.resolve(z,E))},function(v){O||(O=!0,i.reject(z,v))})}},g.race=function(_){var y=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=_.length,O=!1;if(!b)return this.resolve([]);for(var E=-1,P=new this(t);++E<b;)L=_[E],y.resolve(L).then(function(z){O||(O=!0,i.resolve(P,z))},function(z){O||(O=!0,i.reject(P,z))});var L;return P}},{immediate:36}],38:[function(s,r,e){"use strict";var n={};(0,s("./lib/utils/common").assign)(n,s("./lib/deflate"),s("./lib/inflate"),s("./lib/zlib/constants")),r.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(s,r,e){"use strict";var n=s("./zlib/deflate"),t=s("./utils/common"),i=s("./utils/strings"),o=s("./zlib/messages"),l=s("./zlib/zstream"),u=Object.prototype.toString,g=0,d=-1,a=0,c=8;function f(_){if(!(this instanceof f))return new f(_);this.options=t.assign({level:d,method:c,chunkSize:16384,windowBits:15,memLevel:8,strategy:a,to:""},_||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var b=n.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(b!==g)throw new Error(o[b]);if(y.header&&n.deflateSetHeader(this.strm,y.header),y.dictionary){var O;if(O=typeof y.dictionary=="string"?i.string2buf(y.dictionary):u.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(b=n.deflateSetDictionary(this.strm,O))!==g)throw new Error(o[b]);this._dict_set=!0}}function p(_,y){var b=new f(y);if(b.push(_,!0),b.err)throw b.msg||o[b.err];return b.result}f.prototype.push=function(_,y){var b,O,E=this.strm,P=this.options.chunkSize;if(this.ended)return!1;O=y===~~y?y:y===!0?4:0,typeof _=="string"?E.input=i.string2buf(_):u.call(_)==="[object ArrayBuffer]"?E.input=new Uint8Array(_):E.input=_,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new t.Buf8(P),E.next_out=0,E.avail_out=P),(b=n.deflate(E,O))!==1&&b!==g)return this.onEnd(b),!(this.ended=!0);E.avail_out!==0&&(E.avail_in!==0||O!==4&&O!==2)||(this.options.to==="string"?this.onData(i.buf2binstring(t.shrinkBuf(E.output,E.next_out))):this.onData(t.shrinkBuf(E.output,E.next_out)))}while((0<E.avail_in||E.avail_out===0)&&b!==1);return O===4?(b=n.deflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===g):O!==2||(this.onEnd(g),!(E.avail_out=0))},f.prototype.onData=function(_){this.chunks.push(_)},f.prototype.onEnd=function(_){_===g&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=t.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg},e.Deflate=f,e.deflate=p,e.deflateRaw=function(_,y){return(y=y||{}).raw=!0,p(_,y)},e.gzip=function(_,y){return(y=y||{}).gzip=!0,p(_,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(s,r,e){"use strict";var n=s("./zlib/inflate"),t=s("./utils/common"),i=s("./utils/strings"),o=s("./zlib/constants"),l=s("./zlib/messages"),u=s("./zlib/zstream"),g=s("./zlib/gzheader"),d=Object.prototype.toString;function a(f){if(!(this instanceof a))return new a(f);this.options=t.assign({chunkSize:16384,windowBits:0,to:""},f||{});var p=this.options;p.raw&&0<=p.windowBits&&p.windowBits<16&&(p.windowBits=-p.windowBits,p.windowBits===0&&(p.windowBits=-15)),!(0<=p.windowBits&&p.windowBits<16)||f&&f.windowBits||(p.windowBits+=32),15<p.windowBits&&p.windowBits<48&&(15&p.windowBits)==0&&(p.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var _=n.inflateInit2(this.strm,p.windowBits);if(_!==o.Z_OK)throw new Error(l[_]);this.header=new g,n.inflateGetHeader(this.strm,this.header)}function c(f,p){var _=new a(p);if(_.push(f,!0),_.err)throw _.msg||l[_.err];return _.result}a.prototype.push=function(f,p){var _,y,b,O,E,P,L=this.strm,z=this.options.chunkSize,M=this.options.dictionary,C=!1;if(this.ended)return!1;y=p===~~p?p:p===!0?o.Z_FINISH:o.Z_NO_FLUSH,typeof f=="string"?L.input=i.binstring2buf(f):d.call(f)==="[object ArrayBuffer]"?L.input=new Uint8Array(f):L.input=f,L.next_in=0,L.avail_in=L.input.length;do{if(L.avail_out===0&&(L.output=new t.Buf8(z),L.next_out=0,L.avail_out=z),(_=n.inflate(L,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&M&&(P=typeof M=="string"?i.string2buf(M):d.call(M)==="[object ArrayBuffer]"?new Uint8Array(M):M,_=n.inflateSetDictionary(this.strm,P)),_===o.Z_BUF_ERROR&&C===!0&&(_=o.Z_OK,C=!1),_!==o.Z_STREAM_END&&_!==o.Z_OK)return this.onEnd(_),!(this.ended=!0);L.next_out&&(L.avail_out!==0&&_!==o.Z_STREAM_END&&(L.avail_in!==0||y!==o.Z_FINISH&&y!==o.Z_SYNC_FLUSH)||(this.options.to==="string"?(b=i.utf8border(L.output,L.next_out),O=L.next_out-b,E=i.buf2string(L.output,b),L.next_out=O,L.avail_out=z-O,O&&t.arraySet(L.output,L.output,b,O,0),this.onData(E)):this.onData(t.shrinkBuf(L.output,L.next_out)))),L.avail_in===0&&L.avail_out===0&&(C=!0)}while((0<L.avail_in||L.avail_out===0)&&_!==o.Z_STREAM_END);return _===o.Z_STREAM_END&&(y=o.Z_FINISH),y===o.Z_FINISH?(_=n.inflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===o.Z_OK):y!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),!(L.avail_out=0))},a.prototype.onData=function(f){this.chunks.push(f)},a.prototype.onEnd=function(f){f===o.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=t.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg},e.Inflate=a,e.inflate=c,e.inflateRaw=function(f,p){return(p=p||{}).raw=!0,c(f,p)},e.ungzip=c},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(s,r,e){"use strict";var n=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";e.assign=function(o){for(var l=Array.prototype.slice.call(arguments,1);l.length;){var u=l.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var g in u)u.hasOwnProperty(g)&&(o[g]=u[g])}}return o},e.shrinkBuf=function(o,l){return o.length===l?o:o.subarray?o.subarray(0,l):(o.length=l,o)};var t={arraySet:function(o,l,u,g,d){if(l.subarray&&o.subarray)o.set(l.subarray(u,u+g),d);else for(var a=0;a<g;a++)o[d+a]=l[u+a]},flattenChunks:function(o){var l,u,g,d,a,c;for(l=g=0,u=o.length;l<u;l++)g+=o[l].length;for(c=new Uint8Array(g),l=d=0,u=o.length;l<u;l++)a=o[l],c.set(a,d),d+=a.length;return c}},i={arraySet:function(o,l,u,g,d){for(var a=0;a<g;a++)o[d+a]=l[u+a]},flattenChunks:function(o){return[].concat.apply([],o)}};e.setTyped=function(o){o?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,t)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,i))},e.setTyped(n)},{}],42:[function(s,r,e){"use strict";var n=s("./common"),t=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch{t=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{i=!1}for(var o=new n.Buf8(256),l=0;l<256;l++)o[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function u(g,d){if(d<65537&&(g.subarray&&i||!g.subarray&&t))return String.fromCharCode.apply(null,n.shrinkBuf(g,d));for(var a="",c=0;c<d;c++)a+=String.fromCharCode(g[c]);return a}o[254]=o[254]=1,e.string2buf=function(g){var d,a,c,f,p,_=g.length,y=0;for(f=0;f<_;f++)(64512&(a=g.charCodeAt(f)))==55296&&f+1<_&&(64512&(c=g.charCodeAt(f+1)))==56320&&(a=65536+(a-55296<<10)+(c-56320),f++),y+=a<128?1:a<2048?2:a<65536?3:4;for(d=new n.Buf8(y),f=p=0;p<y;f++)(64512&(a=g.charCodeAt(f)))==55296&&f+1<_&&(64512&(c=g.charCodeAt(f+1)))==56320&&(a=65536+(a-55296<<10)+(c-56320),f++),a<128?d[p++]=a:(a<2048?d[p++]=192|a>>>6:(a<65536?d[p++]=224|a>>>12:(d[p++]=240|a>>>18,d[p++]=128|a>>>12&63),d[p++]=128|a>>>6&63),d[p++]=128|63&a);return d},e.buf2binstring=function(g){return u(g,g.length)},e.binstring2buf=function(g){for(var d=new n.Buf8(g.length),a=0,c=d.length;a<c;a++)d[a]=g.charCodeAt(a);return d},e.buf2string=function(g,d){var a,c,f,p,_=d||g.length,y=new Array(2*_);for(a=c=0;a<_;)if((f=g[a++])<128)y[c++]=f;else if(4<(p=o[f]))y[c++]=65533,a+=p-1;else{for(f&=p===2?31:p===3?15:7;1<p&&a<_;)f=f<<6|63&g[a++],p--;1<p?y[c++]=65533:f<65536?y[c++]=f:(f-=65536,y[c++]=55296|f>>10&1023,y[c++]=56320|1023&f)}return u(y,c)},e.utf8border=function(g,d){var a;for((d=d||g.length)>g.length&&(d=g.length),a=d-1;0<=a&&(192&g[a])==128;)a--;return a<0||a===0?d:a+o[g[a]]>d?a:d}},{"./common":41}],43:[function(s,r,e){"use strict";r.exports=function(n,t,i,o){for(var l=65535&n|0,u=n>>>16&65535|0,g=0;i!==0;){for(i-=g=2e3<i?2e3:i;u=u+(l=l+t[o++]|0)|0,--g;);l%=65521,u%=65521}return l|u<<16|0}},{}],44:[function(s,r,e){"use strict";r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(s,r,e){"use strict";var n=(function(){for(var t,i=[],o=0;o<256;o++){t=o;for(var l=0;l<8;l++)t=1&t?3988292384^t>>>1:t>>>1;i[o]=t}return i})();r.exports=function(t,i,o,l){var u=n,g=l+o;t^=-1;for(var d=l;d<g;d++)t=t>>>8^u[255&(t^i[d])];return-1^t}},{}],46:[function(s,r,e){"use strict";var n,t=s("../utils/common"),i=s("./trees"),o=s("./adler32"),l=s("./crc32"),u=s("./messages"),g=0,d=4,a=0,c=-2,f=-1,p=4,_=2,y=8,b=9,O=286,E=30,P=19,L=2*O+1,z=15,M=3,C=258,x=C+M+1,v=42,k=113,h=1,I=2,N=3,F=4;function S(m,G){return m.msg=u[G],G}function w(m){return(m<<1)-(4<m?9:0)}function H(m){for(var G=m.length;0<=--G;)m[G]=0}function A(m){var G=m.state,W=G.pending;W>m.avail_out&&(W=m.avail_out),W!==0&&(t.arraySet(m.output,G.pending_buf,G.pending_out,W,m.next_out),m.next_out+=W,G.pending_out+=W,m.total_out+=W,m.avail_out-=W,G.pending-=W,G.pending===0&&(G.pending_out=0))}function R(m,G){i._tr_flush_block(m,0<=m.block_start?m.block_start:-1,m.strstart-m.block_start,G),m.block_start=m.strstart,A(m.strm)}function $(m,G){m.pending_buf[m.pending++]=G}function j(m,G){m.pending_buf[m.pending++]=G>>>8&255,m.pending_buf[m.pending++]=255&G}function V(m,G){var W,T,D=m.max_chain_length,B=m.strstart,Q=m.prev_length,K=m.nice_match,U=m.strstart>m.w_size-x?m.strstart-(m.w_size-x):0,Y=m.window,J=m.w_mask,X=m.prev,et=m.strstart+C,ft=Y[B+Q-1],ct=Y[B+Q];m.prev_length>=m.good_match&&(D>>=2),K>m.lookahead&&(K=m.lookahead);do if(Y[(W=G)+Q]===ct&&Y[W+Q-1]===ft&&Y[W]===Y[B]&&Y[++W]===Y[B+1]){B+=2,W++;do;while(Y[++B]===Y[++W]&&Y[++B]===Y[++W]&&Y[++B]===Y[++W]&&Y[++B]===Y[++W]&&Y[++B]===Y[++W]&&Y[++B]===Y[++W]&&Y[++B]===Y[++W]&&Y[++B]===Y[++W]&&B<et);if(T=C-(et-B),B=et-C,Q<T){if(m.match_start=G,K<=(Q=T))break;ft=Y[B+Q-1],ct=Y[B+Q]}}while((G=X[G&J])>U&&--D!=0);return Q<=m.lookahead?Q:m.lookahead}function q(m){var G,W,T,D,B,Q,K,U,Y,J,X=m.w_size;do{if(D=m.window_size-m.lookahead-m.strstart,m.strstart>=X+(X-x)){for(t.arraySet(m.window,m.window,X,X,0),m.match_start-=X,m.strstart-=X,m.block_start-=X,G=W=m.hash_size;T=m.head[--G],m.head[G]=X<=T?T-X:0,--W;);for(G=W=X;T=m.prev[--G],m.prev[G]=X<=T?T-X:0,--W;);D+=X}if(m.strm.avail_in===0)break;if(Q=m.strm,K=m.window,U=m.strstart+m.lookahead,Y=D,J=void 0,J=Q.avail_in,Y<J&&(J=Y),W=J===0?0:(Q.avail_in-=J,t.arraySet(K,Q.input,Q.next_in,J,U),Q.state.wrap===1?Q.adler=o(Q.adler,K,J,U):Q.state.wrap===2&&(Q.adler=l(Q.adler,K,J,U)),Q.next_in+=J,Q.total_in+=J,J),m.lookahead+=W,m.lookahead+m.insert>=M)for(B=m.strstart-m.insert,m.ins_h=m.window[B],m.ins_h=(m.ins_h<<m.hash_shift^m.window[B+1])&m.hash_mask;m.insert&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[B+M-1])&m.hash_mask,m.prev[B&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=B,B++,m.insert--,!(m.lookahead+m.insert<M)););}while(m.lookahead<x&&m.strm.avail_in!==0)}function Z(m,G){for(var W,T;;){if(m.lookahead<x){if(q(m),m.lookahead<x&&G===g)return h;if(m.lookahead===0)break}if(W=0,m.lookahead>=M&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+M-1])&m.hash_mask,W=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart),W!==0&&m.strstart-W<=m.w_size-x&&(m.match_length=V(m,W)),m.match_length>=M)if(T=i._tr_tally(m,m.strstart-m.match_start,m.match_length-M),m.lookahead-=m.match_length,m.match_length<=m.max_lazy_match&&m.lookahead>=M){for(m.match_length--;m.strstart++,m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+M-1])&m.hash_mask,W=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart,--m.match_length!=0;);m.strstart++}else m.strstart+=m.match_length,m.match_length=0,m.ins_h=m.window[m.strstart],m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+1])&m.hash_mask;else T=i._tr_tally(m,0,m.window[m.strstart]),m.lookahead--,m.strstart++;if(T&&(R(m,!1),m.strm.avail_out===0))return h}return m.insert=m.strstart<M-1?m.strstart:M-1,G===d?(R(m,!0),m.strm.avail_out===0?N:F):m.last_lit&&(R(m,!1),m.strm.avail_out===0)?h:I}function tt(m,G){for(var W,T,D;;){if(m.lookahead<x){if(q(m),m.lookahead<x&&G===g)return h;if(m.lookahead===0)break}if(W=0,m.lookahead>=M&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+M-1])&m.hash_mask,W=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart),m.prev_length=m.match_length,m.prev_match=m.match_start,m.match_length=M-1,W!==0&&m.prev_length<m.max_lazy_match&&m.strstart-W<=m.w_size-x&&(m.match_length=V(m,W),m.match_length<=5&&(m.strategy===1||m.match_length===M&&4096<m.strstart-m.match_start)&&(m.match_length=M-1)),m.prev_length>=M&&m.match_length<=m.prev_length){for(D=m.strstart+m.lookahead-M,T=i._tr_tally(m,m.strstart-1-m.prev_match,m.prev_length-M),m.lookahead-=m.prev_length-1,m.prev_length-=2;++m.strstart<=D&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+M-1])&m.hash_mask,W=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart),--m.prev_length!=0;);if(m.match_available=0,m.match_length=M-1,m.strstart++,T&&(R(m,!1),m.strm.avail_out===0))return h}else if(m.match_available){if((T=i._tr_tally(m,0,m.window[m.strstart-1]))&&R(m,!1),m.strstart++,m.lookahead--,m.strm.avail_out===0)return h}else m.match_available=1,m.strstart++,m.lookahead--}return m.match_available&&(T=i._tr_tally(m,0,m.window[m.strstart-1]),m.match_available=0),m.insert=m.strstart<M-1?m.strstart:M-1,G===d?(R(m,!0),m.strm.avail_out===0?N:F):m.last_lit&&(R(m,!1),m.strm.avail_out===0)?h:I}function it(m,G,W,T,D){this.good_length=m,this.max_lazy=G,this.nice_length=W,this.max_chain=T,this.func=D}function at(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new t.Buf16(2*L),this.dyn_dtree=new t.Buf16(2*(2*E+1)),this.bl_tree=new t.Buf16(2*(2*P+1)),H(this.dyn_ltree),H(this.dyn_dtree),H(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new t.Buf16(z+1),this.heap=new t.Buf16(2*O+1),H(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new t.Buf16(2*O+1),H(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function rt(m){var G;return m&&m.state?(m.total_in=m.total_out=0,m.data_type=_,(G=m.state).pending=0,G.pending_out=0,G.wrap<0&&(G.wrap=-G.wrap),G.status=G.wrap?v:k,m.adler=G.wrap===2?0:1,G.last_flush=g,i._tr_init(G),a):S(m,c)}function ht(m){var G=rt(m);return G===a&&(function(W){W.window_size=2*W.w_size,H(W.head),W.max_lazy_match=n[W.level].max_lazy,W.good_match=n[W.level].good_length,W.nice_match=n[W.level].nice_length,W.max_chain_length=n[W.level].max_chain,W.strstart=0,W.block_start=0,W.lookahead=0,W.insert=0,W.match_length=W.prev_length=M-1,W.match_available=0,W.ins_h=0})(m.state),G}function ut(m,G,W,T,D,B){if(!m)return c;var Q=1;if(G===f&&(G=6),T<0?(Q=0,T=-T):15<T&&(Q=2,T-=16),D<1||b<D||W!==y||T<8||15<T||G<0||9<G||B<0||p<B)return S(m,c);T===8&&(T=9);var K=new at;return(m.state=K).strm=m,K.wrap=Q,K.gzhead=null,K.w_bits=T,K.w_size=1<<K.w_bits,K.w_mask=K.w_size-1,K.hash_bits=D+7,K.hash_size=1<<K.hash_bits,K.hash_mask=K.hash_size-1,K.hash_shift=~~((K.hash_bits+M-1)/M),K.window=new t.Buf8(2*K.w_size),K.head=new t.Buf16(K.hash_size),K.prev=new t.Buf16(K.w_size),K.lit_bufsize=1<<D+6,K.pending_buf_size=4*K.lit_bufsize,K.pending_buf=new t.Buf8(K.pending_buf_size),K.d_buf=1*K.lit_bufsize,K.l_buf=3*K.lit_bufsize,K.level=G,K.strategy=B,K.method=W,ht(m)}n=[new it(0,0,0,0,function(m,G){var W=65535;for(W>m.pending_buf_size-5&&(W=m.pending_buf_size-5);;){if(m.lookahead<=1){if(q(m),m.lookahead===0&&G===g)return h;if(m.lookahead===0)break}m.strstart+=m.lookahead,m.lookahead=0;var T=m.block_start+W;if((m.strstart===0||m.strstart>=T)&&(m.lookahead=m.strstart-T,m.strstart=T,R(m,!1),m.strm.avail_out===0)||m.strstart-m.block_start>=m.w_size-x&&(R(m,!1),m.strm.avail_out===0))return h}return m.insert=0,G===d?(R(m,!0),m.strm.avail_out===0?N:F):(m.strstart>m.block_start&&(R(m,!1),m.strm.avail_out),h)}),new it(4,4,8,4,Z),new it(4,5,16,8,Z),new it(4,6,32,32,Z),new it(4,4,16,16,tt),new it(8,16,32,32,tt),new it(8,16,128,128,tt),new it(8,32,128,256,tt),new it(32,128,258,1024,tt),new it(32,258,258,4096,tt)],e.deflateInit=function(m,G){return ut(m,G,y,15,8,0)},e.deflateInit2=ut,e.deflateReset=ht,e.deflateResetKeep=rt,e.deflateSetHeader=function(m,G){return m&&m.state?m.state.wrap!==2?c:(m.state.gzhead=G,a):c},e.deflate=function(m,G){var W,T,D,B;if(!m||!m.state||5<G||G<0)return m?S(m,c):c;if(T=m.state,!m.output||!m.input&&m.avail_in!==0||T.status===666&&G!==d)return S(m,m.avail_out===0?-5:c);if(T.strm=m,W=T.last_flush,T.last_flush=G,T.status===v)if(T.wrap===2)m.adler=0,$(T,31),$(T,139),$(T,8),T.gzhead?($(T,(T.gzhead.text?1:0)+(T.gzhead.hcrc?2:0)+(T.gzhead.extra?4:0)+(T.gzhead.name?8:0)+(T.gzhead.comment?16:0)),$(T,255&T.gzhead.time),$(T,T.gzhead.time>>8&255),$(T,T.gzhead.time>>16&255),$(T,T.gzhead.time>>24&255),$(T,T.level===9?2:2<=T.strategy||T.level<2?4:0),$(T,255&T.gzhead.os),T.gzhead.extra&&T.gzhead.extra.length&&($(T,255&T.gzhead.extra.length),$(T,T.gzhead.extra.length>>8&255)),T.gzhead.hcrc&&(m.adler=l(m.adler,T.pending_buf,T.pending,0)),T.gzindex=0,T.status=69):($(T,0),$(T,0),$(T,0),$(T,0),$(T,0),$(T,T.level===9?2:2<=T.strategy||T.level<2?4:0),$(T,3),T.status=k);else{var Q=y+(T.w_bits-8<<4)<<8;Q|=(2<=T.strategy||T.level<2?0:T.level<6?1:T.level===6?2:3)<<6,T.strstart!==0&&(Q|=32),Q+=31-Q%31,T.status=k,j(T,Q),T.strstart!==0&&(j(T,m.adler>>>16),j(T,65535&m.adler)),m.adler=1}if(T.status===69)if(T.gzhead.extra){for(D=T.pending;T.gzindex<(65535&T.gzhead.extra.length)&&(T.pending!==T.pending_buf_size||(T.gzhead.hcrc&&T.pending>D&&(m.adler=l(m.adler,T.pending_buf,T.pending-D,D)),A(m),D=T.pending,T.pending!==T.pending_buf_size));)$(T,255&T.gzhead.extra[T.gzindex]),T.gzindex++;T.gzhead.hcrc&&T.pending>D&&(m.adler=l(m.adler,T.pending_buf,T.pending-D,D)),T.gzindex===T.gzhead.extra.length&&(T.gzindex=0,T.status=73)}else T.status=73;if(T.status===73)if(T.gzhead.name){D=T.pending;do{if(T.pending===T.pending_buf_size&&(T.gzhead.hcrc&&T.pending>D&&(m.adler=l(m.adler,T.pending_buf,T.pending-D,D)),A(m),D=T.pending,T.pending===T.pending_buf_size)){B=1;break}B=T.gzindex<T.gzhead.name.length?255&T.gzhead.name.charCodeAt(T.gzindex++):0,$(T,B)}while(B!==0);T.gzhead.hcrc&&T.pending>D&&(m.adler=l(m.adler,T.pending_buf,T.pending-D,D)),B===0&&(T.gzindex=0,T.status=91)}else T.status=91;if(T.status===91)if(T.gzhead.comment){D=T.pending;do{if(T.pending===T.pending_buf_size&&(T.gzhead.hcrc&&T.pending>D&&(m.adler=l(m.adler,T.pending_buf,T.pending-D,D)),A(m),D=T.pending,T.pending===T.pending_buf_size)){B=1;break}B=T.gzindex<T.gzhead.comment.length?255&T.gzhead.comment.charCodeAt(T.gzindex++):0,$(T,B)}while(B!==0);T.gzhead.hcrc&&T.pending>D&&(m.adler=l(m.adler,T.pending_buf,T.pending-D,D)),B===0&&(T.status=103)}else T.status=103;if(T.status===103&&(T.gzhead.hcrc?(T.pending+2>T.pending_buf_size&&A(m),T.pending+2<=T.pending_buf_size&&($(T,255&m.adler),$(T,m.adler>>8&255),m.adler=0,T.status=k)):T.status=k),T.pending!==0){if(A(m),m.avail_out===0)return T.last_flush=-1,a}else if(m.avail_in===0&&w(G)<=w(W)&&G!==d)return S(m,-5);if(T.status===666&&m.avail_in!==0)return S(m,-5);if(m.avail_in!==0||T.lookahead!==0||G!==g&&T.status!==666){var K=T.strategy===2?(function(U,Y){for(var J;;){if(U.lookahead===0&&(q(U),U.lookahead===0)){if(Y===g)return h;break}if(U.match_length=0,J=i._tr_tally(U,0,U.window[U.strstart]),U.lookahead--,U.strstart++,J&&(R(U,!1),U.strm.avail_out===0))return h}return U.insert=0,Y===d?(R(U,!0),U.strm.avail_out===0?N:F):U.last_lit&&(R(U,!1),U.strm.avail_out===0)?h:I})(T,G):T.strategy===3?(function(U,Y){for(var J,X,et,ft,ct=U.window;;){if(U.lookahead<=C){if(q(U),U.lookahead<=C&&Y===g)return h;if(U.lookahead===0)break}if(U.match_length=0,U.lookahead>=M&&0<U.strstart&&(X=ct[et=U.strstart-1])===ct[++et]&&X===ct[++et]&&X===ct[++et]){ft=U.strstart+C;do;while(X===ct[++et]&&X===ct[++et]&&X===ct[++et]&&X===ct[++et]&&X===ct[++et]&&X===ct[++et]&&X===ct[++et]&&X===ct[++et]&&et<ft);U.match_length=C-(ft-et),U.match_length>U.lookahead&&(U.match_length=U.lookahead)}if(U.match_length>=M?(J=i._tr_tally(U,1,U.match_length-M),U.lookahead-=U.match_length,U.strstart+=U.match_length,U.match_length=0):(J=i._tr_tally(U,0,U.window[U.strstart]),U.lookahead--,U.strstart++),J&&(R(U,!1),U.strm.avail_out===0))return h}return U.insert=0,Y===d?(R(U,!0),U.strm.avail_out===0?N:F):U.last_lit&&(R(U,!1),U.strm.avail_out===0)?h:I})(T,G):n[T.level].func(T,G);if(K!==N&&K!==F||(T.status=666),K===h||K===N)return m.avail_out===0&&(T.last_flush=-1),a;if(K===I&&(G===1?i._tr_align(T):G!==5&&(i._tr_stored_block(T,0,0,!1),G===3&&(H(T.head),T.lookahead===0&&(T.strstart=0,T.block_start=0,T.insert=0))),A(m),m.avail_out===0))return T.last_flush=-1,a}return G!==d?a:T.wrap<=0?1:(T.wrap===2?($(T,255&m.adler),$(T,m.adler>>8&255),$(T,m.adler>>16&255),$(T,m.adler>>24&255),$(T,255&m.total_in),$(T,m.total_in>>8&255),$(T,m.total_in>>16&255),$(T,m.total_in>>24&255)):(j(T,m.adler>>>16),j(T,65535&m.adler)),A(m),0<T.wrap&&(T.wrap=-T.wrap),T.pending!==0?a:1)},e.deflateEnd=function(m){var G;return m&&m.state?(G=m.state.status)!==v&&G!==69&&G!==73&&G!==91&&G!==103&&G!==k&&G!==666?S(m,c):(m.state=null,G===k?S(m,-3):a):c},e.deflateSetDictionary=function(m,G){var W,T,D,B,Q,K,U,Y,J=G.length;if(!m||!m.state||(B=(W=m.state).wrap)===2||B===1&&W.status!==v||W.lookahead)return c;for(B===1&&(m.adler=o(m.adler,G,J,0)),W.wrap=0,J>=W.w_size&&(B===0&&(H(W.head),W.strstart=0,W.block_start=0,W.insert=0),Y=new t.Buf8(W.w_size),t.arraySet(Y,G,J-W.w_size,W.w_size,0),G=Y,J=W.w_size),Q=m.avail_in,K=m.next_in,U=m.input,m.avail_in=J,m.next_in=0,m.input=G,q(W);W.lookahead>=M;){for(T=W.strstart,D=W.lookahead-(M-1);W.ins_h=(W.ins_h<<W.hash_shift^W.window[T+M-1])&W.hash_mask,W.prev[T&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=T,T++,--D;);W.strstart=T,W.lookahead=M-1,q(W)}return W.strstart+=W.lookahead,W.block_start=W.strstart,W.insert=W.lookahead,W.lookahead=0,W.match_length=W.prev_length=M-1,W.match_available=0,m.next_in=K,m.input=U,m.avail_in=Q,W.wrap=B,a},e.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(s,r,e){"use strict";r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(s,r,e){"use strict";r.exports=function(n,t){var i,o,l,u,g,d,a,c,f,p,_,y,b,O,E,P,L,z,M,C,x,v,k,h,I;i=n.state,o=n.next_in,h=n.input,l=o+(n.avail_in-5),u=n.next_out,I=n.output,g=u-(t-n.avail_out),d=u+(n.avail_out-257),a=i.dmax,c=i.wsize,f=i.whave,p=i.wnext,_=i.window,y=i.hold,b=i.bits,O=i.lencode,E=i.distcode,P=(1<<i.lenbits)-1,L=(1<<i.distbits)-1;t:do{b<15&&(y+=h[o++]<<b,b+=8,y+=h[o++]<<b,b+=8),z=O[y&P];e:for(;;){if(y>>>=M=z>>>24,b-=M,(M=z>>>16&255)===0)I[u++]=65535&z;else{if(!(16&M)){if((64&M)==0){z=O[(65535&z)+(y&(1<<M)-1)];continue e}if(32&M){i.mode=12;break t}n.msg="invalid literal/length code",i.mode=30;break t}C=65535&z,(M&=15)&&(b<M&&(y+=h[o++]<<b,b+=8),C+=y&(1<<M)-1,y>>>=M,b-=M),b<15&&(y+=h[o++]<<b,b+=8,y+=h[o++]<<b,b+=8),z=E[y&L];n:for(;;){if(y>>>=M=z>>>24,b-=M,!(16&(M=z>>>16&255))){if((64&M)==0){z=E[(65535&z)+(y&(1<<M)-1)];continue n}n.msg="invalid distance code",i.mode=30;break t}if(x=65535&z,b<(M&=15)&&(y+=h[o++]<<b,(b+=8)<M&&(y+=h[o++]<<b,b+=8)),a<(x+=y&(1<<M)-1)){n.msg="invalid distance too far back",i.mode=30;break t}if(y>>>=M,b-=M,(M=u-g)<x){if(f<(M=x-M)&&i.sane){n.msg="invalid distance too far back",i.mode=30;break t}if(k=_,(v=0)===p){if(v+=c-M,M<C){for(C-=M;I[u++]=_[v++],--M;);v=u-x,k=I}}else if(p<M){if(v+=c+p-M,(M-=p)<C){for(C-=M;I[u++]=_[v++],--M;);if(v=0,p<C){for(C-=M=p;I[u++]=_[v++],--M;);v=u-x,k=I}}}else if(v+=p-M,M<C){for(C-=M;I[u++]=_[v++],--M;);v=u-x,k=I}for(;2<C;)I[u++]=k[v++],I[u++]=k[v++],I[u++]=k[v++],C-=3;C&&(I[u++]=k[v++],1<C&&(I[u++]=k[v++]))}else{for(v=u-x;I[u++]=I[v++],I[u++]=I[v++],I[u++]=I[v++],2<(C-=3););C&&(I[u++]=I[v++],1<C&&(I[u++]=I[v++]))}break}}break}}while(o<l&&u<d);o-=C=b>>3,y&=(1<<(b-=C<<3))-1,n.next_in=o,n.next_out=u,n.avail_in=o<l?l-o+5:5-(o-l),n.avail_out=u<d?d-u+257:257-(u-d),i.hold=y,i.bits=b}},{}],49:[function(s,r,e){"use strict";var n=s("../utils/common"),t=s("./adler32"),i=s("./crc32"),o=s("./inffast"),l=s("./inftrees"),u=1,g=2,d=0,a=-2,c=1,f=852,p=592;function _(v){return(v>>>24&255)+(v>>>8&65280)+((65280&v)<<8)+((255&v)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function b(v){var k;return v&&v.state?(k=v.state,v.total_in=v.total_out=k.total=0,v.msg="",k.wrap&&(v.adler=1&k.wrap),k.mode=c,k.last=0,k.havedict=0,k.dmax=32768,k.head=null,k.hold=0,k.bits=0,k.lencode=k.lendyn=new n.Buf32(f),k.distcode=k.distdyn=new n.Buf32(p),k.sane=1,k.back=-1,d):a}function O(v){var k;return v&&v.state?((k=v.state).wsize=0,k.whave=0,k.wnext=0,b(v)):a}function E(v,k){var h,I;return v&&v.state?(I=v.state,k<0?(h=0,k=-k):(h=1+(k>>4),k<48&&(k&=15)),k&&(k<8||15<k)?a:(I.window!==null&&I.wbits!==k&&(I.window=null),I.wrap=h,I.wbits=k,O(v))):a}function P(v,k){var h,I;return v?(I=new y,(v.state=I).window=null,(h=E(v,k))!==d&&(v.state=null),h):a}var L,z,M=!0;function C(v){if(M){var k;for(L=new n.Buf32(512),z=new n.Buf32(32),k=0;k<144;)v.lens[k++]=8;for(;k<256;)v.lens[k++]=9;for(;k<280;)v.lens[k++]=7;for(;k<288;)v.lens[k++]=8;for(l(u,v.lens,0,288,L,0,v.work,{bits:9}),k=0;k<32;)v.lens[k++]=5;l(g,v.lens,0,32,z,0,v.work,{bits:5}),M=!1}v.lencode=L,v.lenbits=9,v.distcode=z,v.distbits=5}function x(v,k,h,I){var N,F=v.state;return F.window===null&&(F.wsize=1<<F.wbits,F.wnext=0,F.whave=0,F.window=new n.Buf8(F.wsize)),I>=F.wsize?(n.arraySet(F.window,k,h-F.wsize,F.wsize,0),F.wnext=0,F.whave=F.wsize):(I<(N=F.wsize-F.wnext)&&(N=I),n.arraySet(F.window,k,h-I,N,F.wnext),(I-=N)?(n.arraySet(F.window,k,h-I,I,0),F.wnext=I,F.whave=F.wsize):(F.wnext+=N,F.wnext===F.wsize&&(F.wnext=0),F.whave<F.wsize&&(F.whave+=N))),0}e.inflateReset=O,e.inflateReset2=E,e.inflateResetKeep=b,e.inflateInit=function(v){return P(v,15)},e.inflateInit2=P,e.inflate=function(v,k){var h,I,N,F,S,w,H,A,R,$,j,V,q,Z,tt,it,at,rt,ht,ut,m,G,W,T,D=0,B=new n.Buf8(4),Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!v||!v.state||!v.output||!v.input&&v.avail_in!==0)return a;(h=v.state).mode===12&&(h.mode=13),S=v.next_out,N=v.output,H=v.avail_out,F=v.next_in,I=v.input,w=v.avail_in,A=h.hold,R=h.bits,$=w,j=H,G=d;t:for(;;)switch(h.mode){case c:if(h.wrap===0){h.mode=13;break}for(;R<16;){if(w===0)break t;w--,A+=I[F++]<<R,R+=8}if(2&h.wrap&&A===35615){B[h.check=0]=255&A,B[1]=A>>>8&255,h.check=i(h.check,B,2,0),R=A=0,h.mode=2;break}if(h.flags=0,h.head&&(h.head.done=!1),!(1&h.wrap)||(((255&A)<<8)+(A>>8))%31){v.msg="incorrect header check",h.mode=30;break}if((15&A)!=8){v.msg="unknown compression method",h.mode=30;break}if(R-=4,m=8+(15&(A>>>=4)),h.wbits===0)h.wbits=m;else if(m>h.wbits){v.msg="invalid window size",h.mode=30;break}h.dmax=1<<m,v.adler=h.check=1,h.mode=512&A?10:12,R=A=0;break;case 2:for(;R<16;){if(w===0)break t;w--,A+=I[F++]<<R,R+=8}if(h.flags=A,(255&h.flags)!=8){v.msg="unknown compression method",h.mode=30;break}if(57344&h.flags){v.msg="unknown header flags set",h.mode=30;break}h.head&&(h.head.text=A>>8&1),512&h.flags&&(B[0]=255&A,B[1]=A>>>8&255,h.check=i(h.check,B,2,0)),R=A=0,h.mode=3;case 3:for(;R<32;){if(w===0)break t;w--,A+=I[F++]<<R,R+=8}h.head&&(h.head.time=A),512&h.flags&&(B[0]=255&A,B[1]=A>>>8&255,B[2]=A>>>16&255,B[3]=A>>>24&255,h.check=i(h.check,B,4,0)),R=A=0,h.mode=4;case 4:for(;R<16;){if(w===0)break t;w--,A+=I[F++]<<R,R+=8}h.head&&(h.head.xflags=255&A,h.head.os=A>>8),512&h.flags&&(B[0]=255&A,B[1]=A>>>8&255,h.check=i(h.check,B,2,0)),R=A=0,h.mode=5;case 5:if(1024&h.flags){for(;R<16;){if(w===0)break t;w--,A+=I[F++]<<R,R+=8}h.length=A,h.head&&(h.head.extra_len=A),512&h.flags&&(B[0]=255&A,B[1]=A>>>8&255,h.check=i(h.check,B,2,0)),R=A=0}else h.head&&(h.head.extra=null);h.mode=6;case 6:if(1024&h.flags&&(w<(V=h.length)&&(V=w),V&&(h.head&&(m=h.head.extra_len-h.length,h.head.extra||(h.head.extra=new Array(h.head.extra_len)),n.arraySet(h.head.extra,I,F,V,m)),512&h.flags&&(h.check=i(h.check,I,V,F)),w-=V,F+=V,h.length-=V),h.length))break t;h.length=0,h.mode=7;case 7:if(2048&h.flags){if(w===0)break t;for(V=0;m=I[F+V++],h.head&&m&&h.length<65536&&(h.head.name+=String.fromCharCode(m)),m&&V<w;);if(512&h.flags&&(h.check=i(h.check,I,V,F)),w-=V,F+=V,m)break t}else h.head&&(h.head.name=null);h.length=0,h.mode=8;case 8:if(4096&h.flags){if(w===0)break t;for(V=0;m=I[F+V++],h.head&&m&&h.length<65536&&(h.head.comment+=String.fromCharCode(m)),m&&V<w;);if(512&h.flags&&(h.check=i(h.check,I,V,F)),w-=V,F+=V,m)break t}else h.head&&(h.head.comment=null);h.mode=9;case 9:if(512&h.flags){for(;R<16;){if(w===0)break t;w--,A+=I[F++]<<R,R+=8}if(A!==(65535&h.check)){v.msg="header crc mismatch",h.mode=30;break}R=A=0}h.head&&(h.head.hcrc=h.flags>>9&1,h.head.done=!0),v.adler=h.check=0,h.mode=12;break;case 10:for(;R<32;){if(w===0)break t;w--,A+=I[F++]<<R,R+=8}v.adler=h.check=_(A),R=A=0,h.mode=11;case 11:if(h.havedict===0)return v.next_out=S,v.avail_out=H,v.next_in=F,v.avail_in=w,h.hold=A,h.bits=R,2;v.adler=h.check=1,h.mode=12;case 12:if(k===5||k===6)break t;case 13:if(h.last){A>>>=7&R,R-=7&R,h.mode=27;break}for(;R<3;){if(w===0)break t;w--,A+=I[F++]<<R,R+=8}switch(h.last=1&A,R-=1,3&(A>>>=1)){case 0:h.mode=14;break;case 1:if(C(h),h.mode=20,k!==6)break;A>>>=2,R-=2;break t;case 2:h.mode=17;break;case 3:v.msg="invalid block type",h.mode=30}A>>>=2,R-=2;break;case 14:for(A>>>=7&R,R-=7&R;R<32;){if(w===0)break t;w--,A+=I[F++]<<R,R+=8}if((65535&A)!=(A>>>16^65535)){v.msg="invalid stored block lengths",h.mode=30;break}if(h.length=65535&A,R=A=0,h.mode=15,k===6)break t;case 15:h.mode=16;case 16:if(V=h.length){if(w<V&&(V=w),H<V&&(V=H),V===0)break t;n.arraySet(N,I,F,V,S),w-=V,F+=V,H-=V,S+=V,h.length-=V;break}h.mode=12;break;case 17:for(;R<14;){if(w===0)break t;w--,A+=I[F++]<<R,R+=8}if(h.nlen=257+(31&A),A>>>=5,R-=5,h.ndist=1+(31&A),A>>>=5,R-=5,h.ncode=4+(15&A),A>>>=4,R-=4,286<h.nlen||30<h.ndist){v.msg="too many length or distance symbols",h.mode=30;break}h.have=0,h.mode=18;case 18:for(;h.have<h.ncode;){for(;R<3;){if(w===0)break t;w--,A+=I[F++]<<R,R+=8}h.lens[Q[h.have++]]=7&A,A>>>=3,R-=3}for(;h.have<19;)h.lens[Q[h.have++]]=0;if(h.lencode=h.lendyn,h.lenbits=7,W={bits:h.lenbits},G=l(0,h.lens,0,19,h.lencode,0,h.work,W),h.lenbits=W.bits,G){v.msg="invalid code lengths set",h.mode=30;break}h.have=0,h.mode=19;case 19:for(;h.have<h.nlen+h.ndist;){for(;it=(D=h.lencode[A&(1<<h.lenbits)-1])>>>16&255,at=65535&D,!((tt=D>>>24)<=R);){if(w===0)break t;w--,A+=I[F++]<<R,R+=8}if(at<16)A>>>=tt,R-=tt,h.lens[h.have++]=at;else{if(at===16){for(T=tt+2;R<T;){if(w===0)break t;w--,A+=I[F++]<<R,R+=8}if(A>>>=tt,R-=tt,h.have===0){v.msg="invalid bit length repeat",h.mode=30;break}m=h.lens[h.have-1],V=3+(3&A),A>>>=2,R-=2}else if(at===17){for(T=tt+3;R<T;){if(w===0)break t;w--,A+=I[F++]<<R,R+=8}R-=tt,m=0,V=3+(7&(A>>>=tt)),A>>>=3,R-=3}else{for(T=tt+7;R<T;){if(w===0)break t;w--,A+=I[F++]<<R,R+=8}R-=tt,m=0,V=11+(127&(A>>>=tt)),A>>>=7,R-=7}if(h.have+V>h.nlen+h.ndist){v.msg="invalid bit length repeat",h.mode=30;break}for(;V--;)h.lens[h.have++]=m}}if(h.mode===30)break;if(h.lens[256]===0){v.msg="invalid code -- missing end-of-block",h.mode=30;break}if(h.lenbits=9,W={bits:h.lenbits},G=l(u,h.lens,0,h.nlen,h.lencode,0,h.work,W),h.lenbits=W.bits,G){v.msg="invalid literal/lengths set",h.mode=30;break}if(h.distbits=6,h.distcode=h.distdyn,W={bits:h.distbits},G=l(g,h.lens,h.nlen,h.ndist,h.distcode,0,h.work,W),h.distbits=W.bits,G){v.msg="invalid distances set",h.mode=30;break}if(h.mode=20,k===6)break t;case 20:h.mode=21;case 21:if(6<=w&&258<=H){v.next_out=S,v.avail_out=H,v.next_in=F,v.avail_in=w,h.hold=A,h.bits=R,o(v,j),S=v.next_out,N=v.output,H=v.avail_out,F=v.next_in,I=v.input,w=v.avail_in,A=h.hold,R=h.bits,h.mode===12&&(h.back=-1);break}for(h.back=0;it=(D=h.lencode[A&(1<<h.lenbits)-1])>>>16&255,at=65535&D,!((tt=D>>>24)<=R);){if(w===0)break t;w--,A+=I[F++]<<R,R+=8}if(it&&(240&it)==0){for(rt=tt,ht=it,ut=at;it=(D=h.lencode[ut+((A&(1<<rt+ht)-1)>>rt)])>>>16&255,at=65535&D,!(rt+(tt=D>>>24)<=R);){if(w===0)break t;w--,A+=I[F++]<<R,R+=8}A>>>=rt,R-=rt,h.back+=rt}if(A>>>=tt,R-=tt,h.back+=tt,h.length=at,it===0){h.mode=26;break}if(32&it){h.back=-1,h.mode=12;break}if(64&it){v.msg="invalid literal/length code",h.mode=30;break}h.extra=15&it,h.mode=22;case 22:if(h.extra){for(T=h.extra;R<T;){if(w===0)break t;w--,A+=I[F++]<<R,R+=8}h.length+=A&(1<<h.extra)-1,A>>>=h.extra,R-=h.extra,h.back+=h.extra}h.was=h.length,h.mode=23;case 23:for(;it=(D=h.distcode[A&(1<<h.distbits)-1])>>>16&255,at=65535&D,!((tt=D>>>24)<=R);){if(w===0)break t;w--,A+=I[F++]<<R,R+=8}if((240&it)==0){for(rt=tt,ht=it,ut=at;it=(D=h.distcode[ut+((A&(1<<rt+ht)-1)>>rt)])>>>16&255,at=65535&D,!(rt+(tt=D>>>24)<=R);){if(w===0)break t;w--,A+=I[F++]<<R,R+=8}A>>>=rt,R-=rt,h.back+=rt}if(A>>>=tt,R-=tt,h.back+=tt,64&it){v.msg="invalid distance code",h.mode=30;break}h.offset=at,h.extra=15&it,h.mode=24;case 24:if(h.extra){for(T=h.extra;R<T;){if(w===0)break t;w--,A+=I[F++]<<R,R+=8}h.offset+=A&(1<<h.extra)-1,A>>>=h.extra,R-=h.extra,h.back+=h.extra}if(h.offset>h.dmax){v.msg="invalid distance too far back",h.mode=30;break}h.mode=25;case 25:if(H===0)break t;if(V=j-H,h.offset>V){if((V=h.offset-V)>h.whave&&h.sane){v.msg="invalid distance too far back",h.mode=30;break}q=V>h.wnext?(V-=h.wnext,h.wsize-V):h.wnext-V,V>h.length&&(V=h.length),Z=h.window}else Z=N,q=S-h.offset,V=h.length;for(H<V&&(V=H),H-=V,h.length-=V;N[S++]=Z[q++],--V;);h.length===0&&(h.mode=21);break;case 26:if(H===0)break t;N[S++]=h.length,H--,h.mode=21;break;case 27:if(h.wrap){for(;R<32;){if(w===0)break t;w--,A|=I[F++]<<R,R+=8}if(j-=H,v.total_out+=j,h.total+=j,j&&(v.adler=h.check=h.flags?i(h.check,N,j,S-j):t(h.check,N,j,S-j)),j=H,(h.flags?A:_(A))!==h.check){v.msg="incorrect data check",h.mode=30;break}R=A=0}h.mode=28;case 28:if(h.wrap&&h.flags){for(;R<32;){if(w===0)break t;w--,A+=I[F++]<<R,R+=8}if(A!==(4294967295&h.total)){v.msg="incorrect length check",h.mode=30;break}R=A=0}h.mode=29;case 29:G=1;break t;case 30:G=-3;break t;case 31:return-4;case 32:default:return a}return v.next_out=S,v.avail_out=H,v.next_in=F,v.avail_in=w,h.hold=A,h.bits=R,(h.wsize||j!==v.avail_out&&h.mode<30&&(h.mode<27||k!==4))&&x(v,v.output,v.next_out,j-v.avail_out)?(h.mode=31,-4):($-=v.avail_in,j-=v.avail_out,v.total_in+=$,v.total_out+=j,h.total+=j,h.wrap&&j&&(v.adler=h.check=h.flags?i(h.check,N,j,v.next_out-j):t(h.check,N,j,v.next_out-j)),v.data_type=h.bits+(h.last?64:0)+(h.mode===12?128:0)+(h.mode===20||h.mode===15?256:0),($==0&&j===0||k===4)&&G===d&&(G=-5),G)},e.inflateEnd=function(v){if(!v||!v.state)return a;var k=v.state;return k.window&&(k.window=null),v.state=null,d},e.inflateGetHeader=function(v,k){var h;return v&&v.state?(2&(h=v.state).wrap)==0?a:((h.head=k).done=!1,d):a},e.inflateSetDictionary=function(v,k){var h,I=k.length;return v&&v.state?(h=v.state).wrap!==0&&h.mode!==11?a:h.mode===11&&t(1,k,I,0)!==h.check?-3:x(v,k,I,I)?(h.mode=31,-4):(h.havedict=1,d):a},e.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(s,r,e){"use strict";var n=s("../utils/common"),t=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(u,g,d,a,c,f,p,_){var y,b,O,E,P,L,z,M,C,x=_.bits,v=0,k=0,h=0,I=0,N=0,F=0,S=0,w=0,H=0,A=0,R=null,$=0,j=new n.Buf16(16),V=new n.Buf16(16),q=null,Z=0;for(v=0;v<=15;v++)j[v]=0;for(k=0;k<a;k++)j[g[d+k]]++;for(N=x,I=15;1<=I&&j[I]===0;I--);if(I<N&&(N=I),I===0)return c[f++]=20971520,c[f++]=20971520,_.bits=1,0;for(h=1;h<I&&j[h]===0;h++);for(N<h&&(N=h),v=w=1;v<=15;v++)if(w<<=1,(w-=j[v])<0)return-1;if(0<w&&(u===0||I!==1))return-1;for(V[1]=0,v=1;v<15;v++)V[v+1]=V[v]+j[v];for(k=0;k<a;k++)g[d+k]!==0&&(p[V[g[d+k]]++]=k);if(L=u===0?(R=q=p,19):u===1?(R=t,$-=257,q=i,Z-=257,256):(R=o,q=l,-1),v=h,P=f,S=k=A=0,O=-1,E=(H=1<<(F=N))-1,u===1&&852<H||u===2&&592<H)return 1;for(;;){for(z=v-S,C=p[k]<L?(M=0,p[k]):p[k]>L?(M=q[Z+p[k]],R[$+p[k]]):(M=96,0),y=1<<v-S,h=b=1<<F;c[P+(A>>S)+(b-=y)]=z<<24|M<<16|C|0,b!==0;);for(y=1<<v-1;A&y;)y>>=1;if(y!==0?(A&=y-1,A+=y):A=0,k++,--j[v]==0){if(v===I)break;v=g[d+p[k]]}if(N<v&&(A&E)!==O){for(S===0&&(S=N),P+=h,w=1<<(F=v-S);F+S<I&&!((w-=j[F+S])<=0);)F++,w<<=1;if(H+=1<<F,u===1&&852<H||u===2&&592<H)return 1;c[O=A&E]=N<<24|F<<16|P-f|0}}return A!==0&&(c[P+A]=v-S<<24|64<<16|0),_.bits=N,0}},{"../utils/common":41}],51:[function(s,r,e){"use strict";r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(s,r,e){"use strict";var n=s("../utils/common"),t=0,i=1;function o(D){for(var B=D.length;0<=--B;)D[B]=0}var l=0,u=29,g=256,d=g+1+u,a=30,c=19,f=2*d+1,p=15,_=16,y=7,b=256,O=16,E=17,P=18,L=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],M=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],C=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],x=new Array(2*(d+2));o(x);var v=new Array(2*a);o(v);var k=new Array(512);o(k);var h=new Array(256);o(h);var I=new Array(u);o(I);var N,F,S,w=new Array(a);function H(D,B,Q,K,U){this.static_tree=D,this.extra_bits=B,this.extra_base=Q,this.elems=K,this.max_length=U,this.has_stree=D&&D.length}function A(D,B){this.dyn_tree=D,this.max_code=0,this.stat_desc=B}function R(D){return D<256?k[D]:k[256+(D>>>7)]}function $(D,B){D.pending_buf[D.pending++]=255&B,D.pending_buf[D.pending++]=B>>>8&255}function j(D,B,Q){D.bi_valid>_-Q?(D.bi_buf|=B<<D.bi_valid&65535,$(D,D.bi_buf),D.bi_buf=B>>_-D.bi_valid,D.bi_valid+=Q-_):(D.bi_buf|=B<<D.bi_valid&65535,D.bi_valid+=Q)}function V(D,B,Q){j(D,Q[2*B],Q[2*B+1])}function q(D,B){for(var Q=0;Q|=1&D,D>>>=1,Q<<=1,0<--B;);return Q>>>1}function Z(D,B,Q){var K,U,Y=new Array(p+1),J=0;for(K=1;K<=p;K++)Y[K]=J=J+Q[K-1]<<1;for(U=0;U<=B;U++){var X=D[2*U+1];X!==0&&(D[2*U]=q(Y[X]++,X))}}function tt(D){var B;for(B=0;B<d;B++)D.dyn_ltree[2*B]=0;for(B=0;B<a;B++)D.dyn_dtree[2*B]=0;for(B=0;B<c;B++)D.bl_tree[2*B]=0;D.dyn_ltree[2*b]=1,D.opt_len=D.static_len=0,D.last_lit=D.matches=0}function it(D){8<D.bi_valid?$(D,D.bi_buf):0<D.bi_valid&&(D.pending_buf[D.pending++]=D.bi_buf),D.bi_buf=0,D.bi_valid=0}function at(D,B,Q,K){var U=2*B,Y=2*Q;return D[U]<D[Y]||D[U]===D[Y]&&K[B]<=K[Q]}function rt(D,B,Q){for(var K=D.heap[Q],U=Q<<1;U<=D.heap_len&&(U<D.heap_len&&at(B,D.heap[U+1],D.heap[U],D.depth)&&U++,!at(B,K,D.heap[U],D.depth));)D.heap[Q]=D.heap[U],Q=U,U<<=1;D.heap[Q]=K}function ht(D,B,Q){var K,U,Y,J,X=0;if(D.last_lit!==0)for(;K=D.pending_buf[D.d_buf+2*X]<<8|D.pending_buf[D.d_buf+2*X+1],U=D.pending_buf[D.l_buf+X],X++,K===0?V(D,U,B):(V(D,(Y=h[U])+g+1,B),(J=L[Y])!==0&&j(D,U-=I[Y],J),V(D,Y=R(--K),Q),(J=z[Y])!==0&&j(D,K-=w[Y],J)),X<D.last_lit;);V(D,b,B)}function ut(D,B){var Q,K,U,Y=B.dyn_tree,J=B.stat_desc.static_tree,X=B.stat_desc.has_stree,et=B.stat_desc.elems,ft=-1;for(D.heap_len=0,D.heap_max=f,Q=0;Q<et;Q++)Y[2*Q]!==0?(D.heap[++D.heap_len]=ft=Q,D.depth[Q]=0):Y[2*Q+1]=0;for(;D.heap_len<2;)Y[2*(U=D.heap[++D.heap_len]=ft<2?++ft:0)]=1,D.depth[U]=0,D.opt_len--,X&&(D.static_len-=J[2*U+1]);for(B.max_code=ft,Q=D.heap_len>>1;1<=Q;Q--)rt(D,Y,Q);for(U=et;Q=D.heap[1],D.heap[1]=D.heap[D.heap_len--],rt(D,Y,1),K=D.heap[1],D.heap[--D.heap_max]=Q,D.heap[--D.heap_max]=K,Y[2*U]=Y[2*Q]+Y[2*K],D.depth[U]=(D.depth[Q]>=D.depth[K]?D.depth[Q]:D.depth[K])+1,Y[2*Q+1]=Y[2*K+1]=U,D.heap[1]=U++,rt(D,Y,1),2<=D.heap_len;);D.heap[--D.heap_max]=D.heap[1],(function(ct,Et){var yt,At,xt,pt,Tt,Ft,kt=Et.dyn_tree,Wt=Et.max_code,Be=Et.stat_desc.static_tree,Vn=Et.stat_desc.has_stree,Ue=Et.stat_desc.extra_bits,He=Et.stat_desc.extra_base,Ut=Et.stat_desc.max_length,_e=0;for(pt=0;pt<=p;pt++)ct.bl_count[pt]=0;for(kt[2*ct.heap[ct.heap_max]+1]=0,yt=ct.heap_max+1;yt<f;yt++)Ut<(pt=kt[2*kt[2*(At=ct.heap[yt])+1]+1]+1)&&(pt=Ut,_e++),kt[2*At+1]=pt,Wt<At||(ct.bl_count[pt]++,Tt=0,He<=At&&(Tt=Ue[At-He]),Ft=kt[2*At],ct.opt_len+=Ft*(pt+Tt),Vn&&(ct.static_len+=Ft*(Be[2*At+1]+Tt)));if(_e!==0){do{for(pt=Ut-1;ct.bl_count[pt]===0;)pt--;ct.bl_count[pt]--,ct.bl_count[pt+1]+=2,ct.bl_count[Ut]--,_e-=2}while(0<_e);for(pt=Ut;pt!==0;pt--)for(At=ct.bl_count[pt];At!==0;)Wt<(xt=ct.heap[--yt])||(kt[2*xt+1]!==pt&&(ct.opt_len+=(pt-kt[2*xt+1])*kt[2*xt],kt[2*xt+1]=pt),At--)}})(D,B),Z(Y,ft,D.bl_count)}function m(D,B,Q){var K,U,Y=-1,J=B[1],X=0,et=7,ft=4;for(J===0&&(et=138,ft=3),B[2*(Q+1)+1]=65535,K=0;K<=Q;K++)U=J,J=B[2*(K+1)+1],++X<et&&U===J||(X<ft?D.bl_tree[2*U]+=X:U!==0?(U!==Y&&D.bl_tree[2*U]++,D.bl_tree[2*O]++):X<=10?D.bl_tree[2*E]++:D.bl_tree[2*P]++,Y=U,ft=(X=0)===J?(et=138,3):U===J?(et=6,3):(et=7,4))}function G(D,B,Q){var K,U,Y=-1,J=B[1],X=0,et=7,ft=4;for(J===0&&(et=138,ft=3),K=0;K<=Q;K++)if(U=J,J=B[2*(K+1)+1],!(++X<et&&U===J)){if(X<ft)for(;V(D,U,D.bl_tree),--X!=0;);else U!==0?(U!==Y&&(V(D,U,D.bl_tree),X--),V(D,O,D.bl_tree),j(D,X-3,2)):X<=10?(V(D,E,D.bl_tree),j(D,X-3,3)):(V(D,P,D.bl_tree),j(D,X-11,7));Y=U,ft=(X=0)===J?(et=138,3):U===J?(et=6,3):(et=7,4)}}o(w);var W=!1;function T(D,B,Q,K){j(D,(l<<1)+(K?1:0),3),(function(U,Y,J,X){it(U),X&&($(U,J),$(U,~J)),n.arraySet(U.pending_buf,U.window,Y,J,U.pending),U.pending+=J})(D,B,Q,!0)}e._tr_init=function(D){W||((function(){var B,Q,K,U,Y,J=new Array(p+1);for(U=K=0;U<u-1;U++)for(I[U]=K,B=0;B<1<<L[U];B++)h[K++]=U;for(h[K-1]=U,U=Y=0;U<16;U++)for(w[U]=Y,B=0;B<1<<z[U];B++)k[Y++]=U;for(Y>>=7;U<a;U++)for(w[U]=Y<<7,B=0;B<1<<z[U]-7;B++)k[256+Y++]=U;for(Q=0;Q<=p;Q++)J[Q]=0;for(B=0;B<=143;)x[2*B+1]=8,B++,J[8]++;for(;B<=255;)x[2*B+1]=9,B++,J[9]++;for(;B<=279;)x[2*B+1]=7,B++,J[7]++;for(;B<=287;)x[2*B+1]=8,B++,J[8]++;for(Z(x,d+1,J),B=0;B<a;B++)v[2*B+1]=5,v[2*B]=q(B,5);N=new H(x,L,g+1,d,p),F=new H(v,z,0,a,p),S=new H(new Array(0),M,0,c,y)})(),W=!0),D.l_desc=new A(D.dyn_ltree,N),D.d_desc=new A(D.dyn_dtree,F),D.bl_desc=new A(D.bl_tree,S),D.bi_buf=0,D.bi_valid=0,tt(D)},e._tr_stored_block=T,e._tr_flush_block=function(D,B,Q,K){var U,Y,J=0;0<D.level?(D.strm.data_type===2&&(D.strm.data_type=(function(X){var et,ft=4093624447;for(et=0;et<=31;et++,ft>>>=1)if(1&ft&&X.dyn_ltree[2*et]!==0)return t;if(X.dyn_ltree[18]!==0||X.dyn_ltree[20]!==0||X.dyn_ltree[26]!==0)return i;for(et=32;et<g;et++)if(X.dyn_ltree[2*et]!==0)return i;return t})(D)),ut(D,D.l_desc),ut(D,D.d_desc),J=(function(X){var et;for(m(X,X.dyn_ltree,X.l_desc.max_code),m(X,X.dyn_dtree,X.d_desc.max_code),ut(X,X.bl_desc),et=c-1;3<=et&&X.bl_tree[2*C[et]+1]===0;et--);return X.opt_len+=3*(et+1)+5+5+4,et})(D),U=D.opt_len+3+7>>>3,(Y=D.static_len+3+7>>>3)<=U&&(U=Y)):U=Y=Q+5,Q+4<=U&&B!==-1?T(D,B,Q,K):D.strategy===4||Y===U?(j(D,2+(K?1:0),3),ht(D,x,v)):(j(D,4+(K?1:0),3),(function(X,et,ft,ct){var Et;for(j(X,et-257,5),j(X,ft-1,5),j(X,ct-4,4),Et=0;Et<ct;Et++)j(X,X.bl_tree[2*C[Et]+1],3);G(X,X.dyn_ltree,et-1),G(X,X.dyn_dtree,ft-1)})(D,D.l_desc.max_code+1,D.d_desc.max_code+1,J+1),ht(D,D.dyn_ltree,D.dyn_dtree)),tt(D),K&&it(D)},e._tr_tally=function(D,B,Q){return D.pending_buf[D.d_buf+2*D.last_lit]=B>>>8&255,D.pending_buf[D.d_buf+2*D.last_lit+1]=255&B,D.pending_buf[D.l_buf+D.last_lit]=255&Q,D.last_lit++,B===0?D.dyn_ltree[2*Q]++:(D.matches++,B--,D.dyn_ltree[2*(h[Q]+g+1)]++,D.dyn_dtree[2*R(B)]++),D.last_lit===D.lit_bufsize-1},e._tr_align=function(D){j(D,2,3),V(D,b,x),(function(B){B.bi_valid===16?($(B,B.bi_buf),B.bi_buf=0,B.bi_valid=0):8<=B.bi_valid&&(B.pending_buf[B.pending++]=255&B.bi_buf,B.bi_buf>>=8,B.bi_valid-=8)})(D)}},{"../utils/common":41}],53:[function(s,r,e){"use strict";r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(s,r,e){(function(n){(function(t,i){"use strict";if(!t.setImmediate){var o,l,u,g,d=1,a={},c=!1,f=t.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(t);p=p&&p.setTimeout?p:t,o={}.toString.call(t.process)==="[object process]"?function(O){process.nextTick(function(){y(O)})}:(function(){if(t.postMessage&&!t.importScripts){var O=!0,E=t.onmessage;return t.onmessage=function(){O=!1},t.postMessage("","*"),t.onmessage=E,O}})()?(g="setImmediate$"+Math.random()+"$",t.addEventListener?t.addEventListener("message",b,!1):t.attachEvent("onmessage",b),function(O){t.postMessage(g+O,"*")}):t.MessageChannel?((u=new MessageChannel).port1.onmessage=function(O){y(O.data)},function(O){u.port2.postMessage(O)}):f&&"onreadystatechange"in f.createElement("script")?(l=f.documentElement,function(O){var E=f.createElement("script");E.onreadystatechange=function(){y(O),E.onreadystatechange=null,l.removeChild(E),E=null},l.appendChild(E)}):function(O){setTimeout(y,0,O)},p.setImmediate=function(O){typeof O!="function"&&(O=new Function(""+O));for(var E=new Array(arguments.length-1),P=0;P<E.length;P++)E[P]=arguments[P+1];var L={callback:O,args:E};return a[d]=L,o(d),d++},p.clearImmediate=_}function _(O){delete a[O]}function y(O){if(c)setTimeout(y,0,O);else{var E=a[O];if(E){c=!0;try{(function(P){var L=P.callback,z=P.args;switch(z.length){case 0:L();break;case 1:L(z[0]);break;case 2:L(z[0],z[1]);break;case 3:L(z[0],z[1],z[2]);break;default:L.apply(i,z)}})(E)}finally{_(O),c=!1}}}}function b(O){O.source===t&&typeof O.data=="string"&&O.data.indexOf(g)===0&&y(+O.data.slice(g.length))}})(typeof self>"u"?n===void 0?this:n:self)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})});var $o=["*"];function Yo(s,r){s&1&&(ot(0,"span",2),Pt(1,"i",3)(2,"i",3)(3,"i",3)(4,"i",3),dt())}function Xo(s,r){}function Jo(s,r){if(s&1&&(ot(0,"div",6),vt(1),dt()),s&2){let e=lt(2);st(),cr(e.nzTip)}}function ts(s,r){if(s&1&&(ot(0,"div")(1,"div",4),Lt(2,Xo,0,0,"ng-template",5),bt(3,Jo,2,1,"div",6),dt()()),s&2){let e=lt(),n=zn(1);st(),Gt("ant-spin-rtl",e.dir==="rtl")("ant-spin-lg",e.nzSize==="large")("ant-spin-sm",e.nzSize==="small")("ant-spin-show-text",e.nzTip),st(),_t("ngTemplateOutlet",e.nzIndicator||n),st(),wt(e.nzTip?3:-1)}}function es(s,r){if(s&1&&(ot(0,"div",7),lr(1),dt()),s&2){let e=lt();Gt("ant-spin-blur",e.isLoading())}}var Gr="spin",Kr=(()=>{var n;let s,r=[],e=[];return n=class{_nzModuleName=Gr;cdr=nt(pe);directionality=nt(Re);destroyRef=nt(Ke);nzIndicator=Qn(this,r,null);nzSize=(Qn(this,e),"default");nzTip=null;nzDelay=0;nzSimple=!1;nzSpinning=!0;spinning$=new yn(this.nzSpinning);delay$=new Ki(1);isLoading=qe(!1);dir="ltr";constructor(){An(Gr,()=>this.cdr.markForCheck())}ngOnInit(){this.delay$.pipe(we(this.nzDelay),er(),Qe(i=>this.spinning$.pipe(Qe(o=>i===0||!o?Yi(o):new Ve(l=>{let u=setTimeout(()=>l.next(o),i);return()=>clearTimeout(u)})))),qt(this.destroyRef)).subscribe(i=>{this.isLoading.set(i)}),this.directionality.change?.pipe(qt(this.destroyRef)).subscribe(i=>{this.dir=i,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(i){let{nzSpinning:o,nzDelay:l}=i;o&&this.spinning$.next(this.nzSpinning),l&&this.delay$.next(this.nzDelay)}},(()=>{let i=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;s=[Sr()],$i(null,null,s,{kind:"field",name:"nzIndicator",static:!1,private:!1,access:{has:o=>"nzIndicator"in o,get:o=>o.nzIndicator,set:(o,l)=>{o.nzIndicator=l}},metadata:i},r,e),i&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:i})})(),Zn(n,"\u0275fac",function(o){return new(o||n)}),Zn(n,"\u0275cmp",Nt({type:n,selectors:[["nz-spin"]],hostVars:2,hostBindings:function(o,l){o&2&&Gt("ant-spin-nested-loading",!l.nzSimple)},inputs:{nzIndicator:"nzIndicator",nzSize:"nzSize",nzTip:"nzTip",nzDelay:[2,"nzDelay","nzDelay",Ie],nzSimple:[2,"nzSimple","nzSimple",zt],nzSpinning:[2,"nzSpinning","nzSpinning",zt]},exportAs:["nzSpin"],features:[ze],ngContentSelectors:$o,decls:4,vars:2,consts:[["defaultTemplate",""],[1,"ant-spin-container",3,"ant-spin-blur"],[1,"ant-spin-dot","ant-spin-dot-spin"],[1,"ant-spin-dot-item"],[1,"ant-spin","ant-spin-spinning"],[3,"ngTemplateOutlet"],[1,"ant-spin-text"],[1,"ant-spin-container"]],template:function(o,l){o&1&&(ar(),Lt(0,Yo,5,0,"ng-template",null,0,fr),bt(2,ts,4,10,"div"),bt(3,es,2,2,"div",1)),o&2&&(st(2),wt(l.isLoading()?2:-1),st(),wt(l.nzSimple?-1:3))},dependencies:[hr],encapsulation:2})),n})();var Tn=class s{transform(r){return URL.createObjectURL(r)}static \u0275fac=function(e){return new(e||s)};static \u0275pipe=De({name:"fileSrc",type:s,pure:!0})},In=class s{transform(r){return r.size/1024/1024}static \u0275fac=function(e){return new(e||s)};static \u0275pipe=De({name:"fileSize",type:s,pure:!0})};function ns(s,r){return r.forEach(function(e){e&&typeof e!="string"&&!Array.isArray(e)&&Object.keys(e).forEach(function(n){if(n!=="default"&&!(n in s)){var t=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(s,n,t.get?t:{enumerable:!0,get:function(){return e[n]}})}})}),Object.freeze(s)}function $r(s,r){return new Promise(function(e,n){let t;return is(s).then(function(i){try{return t=i,e(new Blob([r.slice(0,2),t,r.slice(2)],{type:"image/jpeg"}))}catch(o){return n(o)}},n)})}var is=s=>new Promise((r,e)=>{let n=new FileReader;n.addEventListener("load",({target:{result:t}})=>{let i=new DataView(t),o=0;if(i.getUint16(o)!==65496)return e("not a valid JPEG");for(o+=2;;){let l=i.getUint16(o);if(l===65498)break;let u=i.getUint16(o+2);if(l===65505&&i.getUint32(o+4)===1165519206){let g=o+10,d;switch(i.getUint16(g)){case 18761:d=!0;break;case 19789:d=!1;break;default:return e("TIFF header contains invalid endian")}if(i.getUint16(g+2,d)!==42)return e("TIFF header contains invalid version");let a=i.getUint32(g+4,d),c=g+a+2+12*i.getUint16(g+a,d);for(let f=g+a+2;f<c;f+=12)if(i.getUint16(f,d)==274){if(i.getUint16(f+2,d)!==3)return e("Orientation data type is invalid");if(i.getUint32(f+4,d)!==1)return e("Orientation data count is invalid");i.setUint16(f+8,1,d);break}return r(t.slice(o,o+2+u))}o+=2+u}return r(new Blob)}),n.readAsArrayBuffer(s)}),On={},rs={get exports(){return On},set exports(s){On=s}};(function(s){var r,e,n={};rs.exports=n,n.parse=function(t,i){for(var o=n.bin.readUshort,l=n.bin.readUint,u=0,g={},d=new Uint8Array(t),a=d.length-4;l(d,a)!=101010256;)a--;u=a,u+=4;var c=o(d,u+=4);o(d,u+=2);var f=l(d,u+=2),p=l(d,u+=4);u+=4,u=p;for(var _=0;_<c;_++){l(d,u),u+=4,u+=4,u+=4,l(d,u+=4),f=l(d,u+=4);var y=l(d,u+=4),b=o(d,u+=4),O=o(d,u+2),E=o(d,u+4);u+=6;var P=l(d,u+=8);u+=4,u+=b+O+E,n._readLocal(d,P,g,f,y,i)}return g},n._readLocal=function(t,i,o,l,u,g){var d=n.bin.readUshort,a=n.bin.readUint;a(t,i),d(t,i+=4),d(t,i+=2);var c=d(t,i+=2);a(t,i+=2),a(t,i+=4),i+=4;var f=d(t,i+=8),p=d(t,i+=2);i+=2;var _=n.bin.readUTF8(t,i,f);if(i+=f,i+=p,g)o[_]={size:u,csize:l};else{var y=new Uint8Array(t.buffer,i);if(c==0)o[_]=new Uint8Array(y.buffer.slice(i,i+l));else{if(c!=8)throw"unknown compression method: "+c;var b=new Uint8Array(u);n.inflateRaw(y,b),o[_]=b}}},n.inflateRaw=function(t,i){return n.F.inflate(t,i)},n.inflate=function(t,i){return t[0],t[1],n.inflateRaw(new Uint8Array(t.buffer,t.byteOffset+2,t.length-6),i)},n.deflate=function(t,i){i==null&&(i={level:6});var o=0,l=new Uint8Array(50+Math.floor(1.1*t.length));l[o]=120,l[o+1]=156,o+=2,o=n.F.deflateRaw(t,l,o,i.level);var u=n.adler(t,0,t.length);return l[o+0]=u>>>24&255,l[o+1]=u>>>16&255,l[o+2]=u>>>8&255,l[o+3]=u>>>0&255,new Uint8Array(l.buffer,0,o+4)},n.deflateRaw=function(t,i){i==null&&(i={level:6});var o=new Uint8Array(50+Math.floor(1.1*t.length)),l=n.F.deflateRaw(t,o,l,i.level);return new Uint8Array(o.buffer,0,l)},n.encode=function(t,i){i==null&&(i=!1);var o=0,l=n.bin.writeUint,u=n.bin.writeUshort,g={};for(var d in t){var a=!n._noNeed(d)&&!i,c=t[d],f=n.crc.crc(c,0,c.length);g[d]={cpr:a,usize:c.length,crc:f,file:a?n.deflateRaw(c):c}}for(var d in g)o+=g[d].file.length+30+46+2*n.bin.sizeUTF8(d);o+=22;var p=new Uint8Array(o),_=0,y=[];for(var d in g){var b=g[d];y.push(_),_=n._writeHeader(p,_,d,b,0)}var O=0,E=_;for(var d in g)b=g[d],y.push(_),_=n._writeHeader(p,_,d,b,1,y[O++]);var P=_-E;return l(p,_,101010256),_+=4,u(p,_+=4,O),u(p,_+=2,O),l(p,_+=2,P),l(p,_+=4,E),_+=4,_+=2,p.buffer},n._noNeed=function(t){var i=t.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(i)!=-1},n._writeHeader=function(t,i,o,l,u,g){var d=n.bin.writeUint,a=n.bin.writeUshort,c=l.file;return d(t,i,u==0?67324752:33639248),i+=4,u==1&&(i+=2),a(t,i,20),a(t,i+=2,0),a(t,i+=2,l.cpr?8:0),d(t,i+=2,0),d(t,i+=4,l.crc),d(t,i+=4,c.length),d(t,i+=4,l.usize),a(t,i+=4,n.bin.sizeUTF8(o)),a(t,i+=2,0),i+=2,u==1&&(i+=2,i+=2,d(t,i+=6,g),i+=4),i+=n.bin.writeUTF8(t,i,o),u==0&&(t.set(c,i),i+=c.length),i},n.crc={table:(function(){for(var t=new Uint32Array(256),i=0;i<256;i++){for(var o=i,l=0;l<8;l++)1&o?o=3988292384^o>>>1:o>>>=1;t[i]=o}return t})(),update:function(t,i,o,l){for(var u=0;u<l;u++)t=n.crc.table[255&(t^i[o+u])]^t>>>8;return t},crc:function(t,i,o){return 4294967295^n.crc.update(4294967295,t,i,o)}},n.adler=function(t,i,o){for(var l=1,u=0,g=i,d=i+o;g<d;){for(var a=Math.min(g+5552,d);g<a;)u+=l+=t[g++];l%=65521,u%=65521}return u<<16|l},n.bin={readUshort:function(t,i){return t[i]|t[i+1]<<8},writeUshort:function(t,i,o){t[i]=255&o,t[i+1]=o>>8&255},readUint:function(t,i){return 16777216*t[i+3]+(t[i+2]<<16|t[i+1]<<8|t[i])},writeUint:function(t,i,o){t[i]=255&o,t[i+1]=o>>8&255,t[i+2]=o>>16&255,t[i+3]=o>>24&255},readASCII:function(t,i,o){for(var l="",u=0;u<o;u++)l+=String.fromCharCode(t[i+u]);return l},writeASCII:function(t,i,o){for(var l=0;l<o.length;l++)t[i+l]=o.charCodeAt(l)},pad:function(t){return t.length<2?"0"+t:t},readUTF8:function(t,i,o){for(var l,u="",g=0;g<o;g++)u+="%"+n.bin.pad(t[i+g].toString(16));try{l=decodeURIComponent(u)}catch{return n.bin.readASCII(t,i,o)}return l},writeUTF8:function(t,i,o){for(var l=o.length,u=0,g=0;g<l;g++){var d=o.charCodeAt(g);if((4294967168&d)==0)t[i+u]=d,u++;else if((4294965248&d)==0)t[i+u]=192|d>>6,t[i+u+1]=128|d>>0&63,u+=2;else if((4294901760&d)==0)t[i+u]=224|d>>12,t[i+u+1]=128|d>>6&63,t[i+u+2]=128|d>>0&63,u+=3;else{if((4292870144&d)!=0)throw"e";t[i+u]=240|d>>18,t[i+u+1]=128|d>>12&63,t[i+u+2]=128|d>>6&63,t[i+u+3]=128|d>>0&63,u+=4}}return u},sizeUTF8:function(t){for(var i=t.length,o=0,l=0;l<i;l++){var u=t.charCodeAt(l);if((4294967168&u)==0)o++;else if((4294965248&u)==0)o+=2;else if((4294901760&u)==0)o+=3;else{if((4292870144&u)!=0)throw"e";o+=4}}return o}},n.F={},n.F.deflateRaw=function(t,i,o,l){var u=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][l],g=n.F.U,d=n.F._goodIndex;n.F._hash;var a=n.F._putsE,c=0,f=o<<3,p=0,_=t.length;if(l==0){for(;c<_;)a(i,f,c+(k=Math.min(65535,_-c))==_?1:0),f=n.F._copyExact(t,c,k,i,f+8),c+=k;return f>>>3}var y=g.lits,b=g.strt,O=g.prev,E=0,P=0,L=0,z=0,M=0,C=0;for(_>2&&(b[C=n.F._hash(t,0)]=0),c=0;c<_;c++){if(M=C,c+1<_-2){C=n.F._hash(t,c+1);var x=c+1&32767;O[x]=b[C],b[C]=x}if(p<=c){(E>14e3||P>26697)&&_-c>100&&(p<c&&(y[E]=c-p,E+=2,p=c),f=n.F._writeBlock(c==_-1||p==_?1:0,y,E,z,t,L,c-L,i,f),E=P=z=0,L=c);var v=0;c<_-2&&(v=n.F._bestMatch(t,c,O,M,Math.min(u[2],_-c),u[3]));var k=v>>>16,h=65535&v;if(v!=0){h=65535&v;var I=d(k=v>>>16,g.of0);g.lhst[257+I]++;var N=d(h,g.df0);g.dhst[N]++,z+=g.exb[I]+g.dxb[N],y[E]=k<<23|c-p,y[E+1]=h<<16|I<<8|N,E+=2,p=c+k}else g.lhst[t[c]]++;P++}}for(L==c&&t.length!=0||(p<c&&(y[E]=c-p,E+=2,p=c),f=n.F._writeBlock(1,y,E,z,t,L,c-L,i,f),E=0,P=0,E=P=z=0,L=c);(7&f)!=0;)f++;return f>>>3},n.F._bestMatch=function(t,i,o,l,u,g){var d=32767&i,a=o[d],c=d-a+32768&32767;if(a==d||l!=n.F._hash(t,i-c))return 0;for(var f=0,p=0,_=Math.min(32767,i);c<=_&&--g!=0&&a!=d;){if(f==0||t[i+f]==t[i+f-c]){var y=n.F._howLong(t,i,c);if(y>f){if(p=c,(f=y)>=u)break;c+2<y&&(y=c+2);for(var b=0,O=0;O<y-2;O++){var E=i-c+O+32768&32767,P=E-o[E]+32768&32767;P>b&&(b=P,a=E)}}}c+=(d=a)-(a=o[d])+32768&32767}return f<<16|p},n.F._howLong=function(t,i,o){if(t[i]!=t[i-o]||t[i+1]!=t[i+1-o]||t[i+2]!=t[i+2-o])return 0;var l=i,u=Math.min(t.length,i+258);for(i+=3;i<u&&t[i]==t[i-o];)i++;return i-l},n.F._hash=function(t,i){return(t[i]<<8|t[i+1])+(t[i+2]<<4)&65535},n.saved=0,n.F._writeBlock=function(t,i,o,l,u,g,d,a,c){var f,p,_,y,b,O,E,P,L,z=n.F.U,M=n.F._putsF,C=n.F._putsE;z.lhst[256]++,p=(f=n.F.getTrees())[0],_=f[1],y=f[2],b=f[3],O=f[4],E=f[5],P=f[6],L=f[7];var x=32+((c+3&7)==0?0:8-(c+3&7))+(d<<3),v=l+n.F.contSize(z.fltree,z.lhst)+n.F.contSize(z.fdtree,z.dhst),k=l+n.F.contSize(z.ltree,z.lhst)+n.F.contSize(z.dtree,z.dhst);k+=14+3*E+n.F.contSize(z.itree,z.ihst)+(2*z.ihst[16]+3*z.ihst[17]+7*z.ihst[18]);for(var h=0;h<286;h++)z.lhst[h]=0;for(h=0;h<30;h++)z.dhst[h]=0;for(h=0;h<19;h++)z.ihst[h]=0;var I=x<v&&x<k?0:v<k?1:2;if(M(a,c,t),M(a,c+1,I),c+=3,I==0){for(;(7&c)!=0;)c++;c=n.F._copyExact(u,g,d,a,c)}else{var N,F;if(I==1&&(N=z.fltree,F=z.fdtree),I==2){n.F.makeCodes(z.ltree,p),n.F.revCodes(z.ltree,p),n.F.makeCodes(z.dtree,_),n.F.revCodes(z.dtree,_),n.F.makeCodes(z.itree,y),n.F.revCodes(z.itree,y),N=z.ltree,F=z.dtree,C(a,c,b-257),C(a,c+=5,O-1),C(a,c+=5,E-4),c+=4;for(var S=0;S<E;S++)C(a,c+3*S,z.itree[1+(z.ordr[S]<<1)]);c+=3*E,c=n.F._codeTiny(P,z.itree,a,c),c=n.F._codeTiny(L,z.itree,a,c)}for(var w=g,H=0;H<o;H+=2){for(var A=i[H],R=A>>>23,$=w+(8388607&A);w<$;)c=n.F._writeLit(u[w++],N,a,c);if(R!=0){var j=i[H+1],V=j>>16,q=j>>8&255,Z=255&j;C(a,c=n.F._writeLit(257+q,N,a,c),R-z.of0[q]),c+=z.exb[q],M(a,c=n.F._writeLit(Z,F,a,c),V-z.df0[Z]),c+=z.dxb[Z],w+=R}}c=n.F._writeLit(256,N,a,c)}return c},n.F._copyExact=function(t,i,o,l,u){var g=u>>>3;return l[g]=o,l[g+1]=o>>>8,l[g+2]=255-l[g],l[g+3]=255-l[g+1],g+=4,l.set(new Uint8Array(t.buffer,i,o),g),u+(o+4<<3)},n.F.getTrees=function(){for(var t=n.F.U,i=n.F._hufTree(t.lhst,t.ltree,15),o=n.F._hufTree(t.dhst,t.dtree,15),l=[],u=n.F._lenCodes(t.ltree,l),g=[],d=n.F._lenCodes(t.dtree,g),a=0;a<l.length;a+=2)t.ihst[l[a]]++;for(a=0;a<g.length;a+=2)t.ihst[g[a]]++;for(var c=n.F._hufTree(t.ihst,t.itree,7),f=19;f>4&&t.itree[1+(t.ordr[f-1]<<1)]==0;)f--;return[i,o,c,u,d,f,l,g]},n.F.getSecond=function(t){for(var i=[],o=0;o<t.length;o+=2)i.push(t[o+1]);return i},n.F.nonZero=function(t){for(var i="",o=0;o<t.length;o+=2)t[o+1]!=0&&(i+=(o>>1)+",");return i},n.F.contSize=function(t,i){for(var o=0,l=0;l<i.length;l++)o+=i[l]*t[1+(l<<1)];return o},n.F._codeTiny=function(t,i,o,l){for(var u=0;u<t.length;u+=2){var g=t[u],d=t[u+1];l=n.F._writeLit(g,i,o,l);var a=g==16?2:g==17?3:7;g>15&&(n.F._putsE(o,l,d,a),l+=a)}return l},n.F._lenCodes=function(t,i){for(var o=t.length;o!=2&&t[o-1]==0;)o-=2;for(var l=0;l<o;l+=2){var u=t[l+1],g=l+3<o?t[l+3]:-1,d=l+5<o?t[l+5]:-1,a=l==0?-1:t[l-1];if(u==0&&g==u&&d==u){for(var c=l+5;c+2<o&&t[c+2]==u;)c+=2;(f=Math.min(c+1-l>>>1,138))<11?i.push(17,f-3):i.push(18,f-11),l+=2*f-2}else if(u==a&&g==u&&d==u){for(c=l+5;c+2<o&&t[c+2]==u;)c+=2;var f=Math.min(c+1-l>>>1,6);i.push(16,f-3),l+=2*f-2}else i.push(u,0)}return o>>>1},n.F._hufTree=function(t,i,o){var l=[],u=t.length,g=i.length,d=0;for(d=0;d<g;d+=2)i[d]=0,i[d+1]=0;for(d=0;d<u;d++)t[d]!=0&&l.push({lit:d,f:t[d]});var a=l.length,c=l.slice(0);if(a==0)return 0;if(a==1){var f=l[0].lit;return c=f==0?1:0,i[1+(f<<1)]=1,i[1+(c<<1)]=1,1}l.sort(function(P,L){return P.f-L.f});var p=l[0],_=l[1],y=0,b=1,O=2;for(l[0]={lit:-1,f:p.f+_.f,l:p,r:_,d:0};b!=a-1;)p=y!=b&&(O==a||l[y].f<l[O].f)?l[y++]:l[O++],_=y!=b&&(O==a||l[y].f<l[O].f)?l[y++]:l[O++],l[b++]={lit:-1,f:p.f+_.f,l:p,r:_};var E=n.F.setDepth(l[b-1],0);for(E>o&&(n.F.restrictDepth(c,o,E),E=o),d=0;d<a;d++)i[1+(c[d].lit<<1)]=c[d].d;return E},n.F.setDepth=function(t,i){return t.lit!=-1?(t.d=i,i):Math.max(n.F.setDepth(t.l,i+1),n.F.setDepth(t.r,i+1))},n.F.restrictDepth=function(t,i,o){var l=0,u=1<<o-i,g=0;for(t.sort(function(a,c){return c.d==a.d?a.f-c.f:c.d-a.d}),l=0;l<t.length&&t[l].d>i;l++){var d=t[l].d;t[l].d=i,g+=u-(1<<o-d)}for(g>>>=o-i;g>0;)(d=t[l].d)<i?(t[l].d++,g-=1<<i-d-1):l++;for(;l>=0;l--)t[l].d==i&&g<0&&(t[l].d--,g++);g!=0&&console.log("debt left")},n.F._goodIndex=function(t,i){var o=0;return i[16|o]<=t&&(o|=16),i[8|o]<=t&&(o|=8),i[4|o]<=t&&(o|=4),i[2|o]<=t&&(o|=2),i[1|o]<=t&&(o|=1),o},n.F._writeLit=function(t,i,o,l){return n.F._putsF(o,l,i[t<<1]),l+i[1+(t<<1)]},n.F.inflate=function(t,i){var o=Uint8Array;if(t[0]==3&&t[1]==0)return i||new o(0);var l=n.F,u=l._bitsF,g=l._bitsE,d=l._decodeTiny,a=l.makeCodes,c=l.codes2map,f=l._get17,p=l.U,_=i==null;_&&(i=new o(t.length>>>2<<3));for(var y,b,O=0,E=0,P=0,L=0,z=0,M=0,C=0,x=0,v=0;O==0;)if(O=u(t,v,1),E=u(t,v+1,2),v+=3,E!=0){if(_&&(i=n.F._check(i,x+(1<<17))),E==1&&(y=p.flmap,b=p.fdmap,M=511,C=31),E==2){P=g(t,v,5)+257,L=g(t,v+5,5)+1,z=g(t,v+10,4)+4,v+=14;for(var k=0;k<38;k+=2)p.itree[k]=0,p.itree[k+1]=0;var h=1;for(k=0;k<z;k++){var I=g(t,v+3*k,3);p.itree[1+(p.ordr[k]<<1)]=I,I>h&&(h=I)}v+=3*z,a(p.itree,h),c(p.itree,h,p.imap),y=p.lmap,b=p.dmap,v=d(p.imap,(1<<h)-1,P+L,t,v,p.ttree);var N=l._copyOut(p.ttree,0,P,p.ltree);M=(1<<N)-1;var F=l._copyOut(p.ttree,P,L,p.dtree);C=(1<<F)-1,a(p.ltree,N),c(p.ltree,N,y),a(p.dtree,F),c(p.dtree,F,b)}for(;;){var S=y[f(t,v)&M];v+=15&S;var w=S>>>4;if(!(w>>>8))i[x++]=w;else{if(w==256)break;var H=x+w-254;if(w>264){var A=p.ldef[w-257];H=x+(A>>>3)+g(t,v,7&A),v+=7&A}var R=b[f(t,v)&C];v+=15&R;var $=R>>>4,j=p.ddef[$],V=(j>>>4)+u(t,v,15&j);for(v+=15&j,_&&(i=n.F._check(i,x+(1<<17)));x<H;)i[x]=i[x++-V],i[x]=i[x++-V],i[x]=i[x++-V],i[x]=i[x++-V];x=H}}}else{(7&v)!=0&&(v+=8-(7&v));var q=4+(v>>>3),Z=t[q-4]|t[q-3]<<8;_&&(i=n.F._check(i,x+Z)),i.set(new o(t.buffer,t.byteOffset+q,Z),x),v=q+Z<<3,x+=Z}return i.length==x?i:i.slice(0,x)},n.F._check=function(t,i){var o=t.length;if(i<=o)return t;var l=new Uint8Array(Math.max(o<<1,i));return l.set(t,0),l},n.F._decodeTiny=function(t,i,o,l,u,g){for(var d=n.F._bitsE,a=n.F._get17,c=0;c<o;){var f=t[a(l,u)&i];u+=15&f;var p=f>>>4;if(p<=15)g[c]=p,c++;else{var _=0,y=0;p==16?(y=3+d(l,u,2),u+=2,_=g[c-1]):p==17?(y=3+d(l,u,3),u+=3):p==18&&(y=11+d(l,u,7),u+=7);for(var b=c+y;c<b;)g[c]=_,c++}}return u},n.F._copyOut=function(t,i,o,l){for(var u=0,g=0,d=l.length>>>1;g<o;){var a=t[g+i];l[g<<1]=0,l[1+(g<<1)]=a,a>u&&(u=a),g++}for(;g<d;)l[g<<1]=0,l[1+(g<<1)]=0,g++;return u},n.F.makeCodes=function(t,i){for(var o,l,u,g,d=n.F.U,a=t.length,c=d.bl_count,f=0;f<=i;f++)c[f]=0;for(f=1;f<a;f+=2)c[t[f]]++;var p=d.next_code;for(o=0,c[0]=0,l=1;l<=i;l++)o=o+c[l-1]<<1,p[l]=o;for(u=0;u<a;u+=2)(g=t[u+1])!=0&&(t[u]=p[g],p[g]++)},n.F.codes2map=function(t,i,o){for(var l=t.length,u=n.F.U.rev15,g=0;g<l;g+=2)if(t[g+1]!=0)for(var d=g>>1,a=t[g+1],c=d<<4|a,f=i-a,p=t[g]<<f,_=p+(1<<f);p!=_;)o[u[p]>>>15-i]=c,p++},n.F.revCodes=function(t,i){for(var o=n.F.U.rev15,l=15-i,u=0;u<t.length;u+=2){var g=t[u]<<i-t[u+1];t[u]=o[g]>>>l}},n.F._putsE=function(t,i,o){o<<=7&i;var l=i>>>3;t[l]|=o,t[l+1]|=o>>>8},n.F._putsF=function(t,i,o){o<<=7&i;var l=i>>>3;t[l]|=o,t[l+1]|=o>>>8,t[l+2]|=o>>>16},n.F._bitsE=function(t,i,o){return(t[i>>>3]|t[1+(i>>>3)]<<8)>>>(7&i)&(1<<o)-1},n.F._bitsF=function(t,i,o){return(t[i>>>3]|t[1+(i>>>3)]<<8|t[2+(i>>>3)]<<16)>>>(7&i)&(1<<o)-1},n.F._get17=function(t,i){return(t[i>>>3]|t[1+(i>>>3)]<<8|t[2+(i>>>3)]<<16)>>>(7&i)},n.F._get25=function(t,i){return(t[i>>>3]|t[1+(i>>>3)]<<8|t[2+(i>>>3)]<<16|t[3+(i>>>3)]<<24)>>>(7&i)},n.F.U=(r=Uint16Array,e=Uint32Array,{next_code:new r(16),bl_count:new r(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new r(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new e(32),flmap:new r(512),fltree:[],fdmap:new r(32),fdtree:[],lmap:new r(32768),ltree:[],ttree:[],dmap:new r(32768),dtree:[],imap:new r(512),itree:[],rev15:new r(32768),lhst:new e(286),dhst:new e(30),ihst:new e(19),lits:new e(15e3),strt:new r(65536),prev:new r(32768)}),(function(){for(var t=n.F.U,i=0;i<32768;i++){var o=i;o=(4278255360&(o=(4042322160&(o=(3435973836&(o=(2863311530&o)>>>1|(1431655765&o)<<1))>>>2|(858993459&o)<<2))>>>4|(252645135&o)<<4))>>>8|(16711935&o)<<8,t.rev15[i]=(o>>>16|o<<16)>>>17}function l(u,g,d){for(;g--!=0;)u.push(0,d)}for(i=0;i<32;i++)t.ldef[i]=t.of0[i]<<3|t.exb[i],t.ddef[i]=t.df0[i]<<4|t.dxb[i];l(t.fltree,144,8),l(t.fltree,112,9),l(t.fltree,24,7),l(t.fltree,8,8),n.F.makeCodes(t.fltree,9),n.F.codes2map(t.fltree,9,t.flmap),n.F.revCodes(t.fltree,9),l(t.fdtree,32,5),n.F.makeCodes(t.fdtree,5),n.F.codes2map(t.fdtree,5,t.fdmap),n.F.revCodes(t.fdtree,5),l(t.itree,19,0),l(t.ltree,286,0),l(t.dtree,30,0),l(t.ttree,320,0)})()})();var os=ns({__proto__:null,default:On},[On]),jt=(function(){var s={nextZero(d,a){for(;d[a]!=0;)a++;return a},readUshort:(d,a)=>d[a]<<8|d[a+1],writeUshort(d,a,c){d[a]=c>>8&255,d[a+1]=255&c},readUint:(d,a)=>16777216*d[a]+(d[a+1]<<16|d[a+2]<<8|d[a+3]),writeUint(d,a,c){d[a]=c>>24&255,d[a+1]=c>>16&255,d[a+2]=c>>8&255,d[a+3]=255&c},readASCII(d,a,c){let f="";for(let p=0;p<c;p++)f+=String.fromCharCode(d[a+p]);return f},writeASCII(d,a,c){for(let f=0;f<c.length;f++)d[a+f]=c.charCodeAt(f)},readBytes(d,a,c){let f=[];for(let p=0;p<c;p++)f.push(d[a+p]);return f},pad:d=>d.length<2?`0${d}`:d,readUTF8(d,a,c){let f,p="";for(let _=0;_<c;_++)p+=`%${s.pad(d[a+_].toString(16))}`;try{f=decodeURIComponent(p)}catch{return s.readASCII(d,a,c)}return f}};function r(d,a,c,f){let p=a*c,_=i(f),y=Math.ceil(a*_/8),b=new Uint8Array(4*p),O=new Uint32Array(b.buffer),{ctype:E}=f,{depth:P}=f,L=s.readUshort;if(E==6){let A=p<<2;if(P==8)for(var z=0;z<A;z+=4)b[z]=d[z],b[z+1]=d[z+1],b[z+2]=d[z+2],b[z+3]=d[z+3];if(P==16)for(z=0;z<A;z++)b[z]=d[z<<1]}else if(E==2){let A=f.tabs.tRNS;if(A==null){if(P==8)for(z=0;z<p;z++){var M=3*z;O[z]=255<<24|d[M+2]<<16|d[M+1]<<8|d[M]}if(P==16)for(z=0;z<p;z++)M=6*z,O[z]=255<<24|d[M+4]<<16|d[M+2]<<8|d[M]}else{var C=A[0];let R=A[1],$=A[2];if(P==8)for(z=0;z<p;z++){var x=z<<2;M=3*z,O[z]=255<<24|d[M+2]<<16|d[M+1]<<8|d[M],d[M]==C&&d[M+1]==R&&d[M+2]==$&&(b[x+3]=0)}if(P==16)for(z=0;z<p;z++)x=z<<2,M=6*z,O[z]=255<<24|d[M+4]<<16|d[M+2]<<8|d[M],L(d,M)==C&&L(d,M+2)==R&&L(d,M+4)==$&&(b[x+3]=0)}}else if(E==3){let A=f.tabs.PLTE,R=f.tabs.tRNS,$=R?R.length:0;if(P==1)for(var v=0;v<c;v++){var k=v*y,h=v*a;for(z=0;z<a;z++){x=h+z<<2;var I=3*(N=d[k+(z>>3)]>>7-((7&z)<<0)&1);b[x]=A[I],b[x+1]=A[I+1],b[x+2]=A[I+2],b[x+3]=N<$?R[N]:255}}if(P==2)for(v=0;v<c;v++)for(k=v*y,h=v*a,z=0;z<a;z++)x=h+z<<2,I=3*(N=d[k+(z>>2)]>>6-((3&z)<<1)&3),b[x]=A[I],b[x+1]=A[I+1],b[x+2]=A[I+2],b[x+3]=N<$?R[N]:255;if(P==4)for(v=0;v<c;v++)for(k=v*y,h=v*a,z=0;z<a;z++)x=h+z<<2,I=3*(N=d[k+(z>>1)]>>4-((1&z)<<2)&15),b[x]=A[I],b[x+1]=A[I+1],b[x+2]=A[I+2],b[x+3]=N<$?R[N]:255;if(P==8)for(z=0;z<p;z++){var N;x=z<<2,I=3*(N=d[z]),b[x]=A[I],b[x+1]=A[I+1],b[x+2]=A[I+2],b[x+3]=N<$?R[N]:255}}else if(E==4){if(P==8)for(z=0;z<p;z++){x=z<<2;var F=d[S=z<<1];b[x]=F,b[x+1]=F,b[x+2]=F,b[x+3]=d[S+1]}if(P==16)for(z=0;z<p;z++){var S;x=z<<2,F=d[S=z<<2],b[x]=F,b[x+1]=F,b[x+2]=F,b[x+3]=d[S+2]}}else if(E==0)for(C=f.tabs.tRNS?f.tabs.tRNS:-1,v=0;v<c;v++){let A=v*y,R=v*a;if(P==1)for(var w=0;w<a;w++){var H=(F=255*(d[A+(w>>>3)]>>>7-(7&w)&1))==255*C?0:255;O[R+w]=H<<24|F<<16|F<<8|F}else if(P==2)for(w=0;w<a;w++)H=(F=85*(d[A+(w>>>2)]>>>6-((3&w)<<1)&3))==85*C?0:255,O[R+w]=H<<24|F<<16|F<<8|F;else if(P==4)for(w=0;w<a;w++)H=(F=17*(d[A+(w>>>1)]>>>4-((1&w)<<2)&15))==17*C?0:255,O[R+w]=H<<24|F<<16|F<<8|F;else if(P==8)for(w=0;w<a;w++)H=(F=d[A+w])==C?0:255,O[R+w]=H<<24|F<<16|F<<8|F;else if(P==16)for(w=0;w<a;w++)F=d[A+(w<<1)],H=L(d,A+(w<<1))==C?0:255,O[R+w]=H<<24|F<<16|F<<8|F}return b}function e(d,a,c,f){let p=i(d),_=Math.ceil(c*p/8),y=new Uint8Array((_+1+d.interlace)*f);return a=d.tabs.CgBI?t(a,y):n(a,y),d.interlace==0?a=o(a,d,0,c,f):d.interlace==1&&(a=(function(O,E){let P=E.width,L=E.height,z=i(E),M=z>>3,C=Math.ceil(P*z/8),x=new Uint8Array(L*C),v=0,k=[0,0,4,0,2,0,1],h=[0,4,0,2,0,1,0],I=[8,8,8,4,4,2,2],N=[8,8,4,4,2,2,1],F=0;for(;F<7;){let w=I[F],H=N[F],A=0,R=0,$=k[F];for(;$<L;)$+=w,R++;let j=h[F];for(;j<P;)j+=H,A++;let V=Math.ceil(A*z/8);o(O,E,v,A,R);let q=0,Z=k[F];for(;Z<L;){let tt=h[F],it=v+q*V<<3;for(;tt<P;){var S;if(z==1&&(S=(S=O[it>>3])>>7-(7&it)&1,x[Z*C+(tt>>3)]|=S<<7-((7&tt)<<0)),z==2&&(S=(S=O[it>>3])>>6-(7&it)&3,x[Z*C+(tt>>2)]|=S<<6-((3&tt)<<1)),z==4&&(S=(S=O[it>>3])>>4-(7&it)&15,x[Z*C+(tt>>1)]|=S<<4-((1&tt)<<2)),z>=8){let at=Z*C+tt*M;for(let rt=0;rt<M;rt++)x[at+rt]=O[(it>>3)+rt]}it+=z,tt+=H}q++,Z+=w}A*R!=0&&(v+=R*(1+V)),F+=1}return x})(a,d)),a}function n(d,a){return t(new Uint8Array(d.buffer,2,d.length-6),a)}var t=(function(){let d={H:{}};return d.H.N=function(a,c){let f=Uint8Array,p,_,y=0,b=0,O=0,E=0,P=0,L=0,z=0,M=0,C=0;if(a[0]==3&&a[1]==0)return c||new f(0);let x=d.H,v=x.b,k=x.e,h=x.R,I=x.n,N=x.A,F=x.Z,S=x.m,w=c==null;for(w&&(c=new f(a.length>>>2<<5));y==0;)if(y=v(a,C,1),b=v(a,C+1,2),C+=3,b!=0){if(w&&(c=d.H.W(c,M+(1<<17))),b==1&&(p=S.J,_=S.h,L=511,z=31),b==2){O=k(a,C,5)+257,E=k(a,C+5,5)+1,P=k(a,C+10,4)+4,C+=14;let A=1;for(var H=0;H<38;H+=2)S.Q[H]=0,S.Q[H+1]=0;for(H=0;H<P;H++){let j=k(a,C+3*H,3);S.Q[1+(S.X[H]<<1)]=j,j>A&&(A=j)}C+=3*P,I(S.Q,A),N(S.Q,A,S.u),p=S.w,_=S.d,C=h(S.u,(1<<A)-1,O+E,a,C,S.v);let R=x.V(S.v,0,O,S.C);L=(1<<R)-1;let $=x.V(S.v,O,E,S.D);z=(1<<$)-1,I(S.C,R),N(S.C,R,p),I(S.D,$),N(S.D,$,_)}for(;;){let A=p[F(a,C)&L];C+=15&A;let R=A>>>4;if(!(R>>>8))c[M++]=R;else{if(R==256)break;{let $=M+R-254;if(R>264){let tt=S.q[R-257];$=M+(tt>>>3)+k(a,C,7&tt),C+=7&tt}let j=_[F(a,C)&z];C+=15&j;let V=j>>>4,q=S.c[V],Z=(q>>>4)+v(a,C,15&q);for(C+=15&q;M<$;)c[M]=c[M++-Z],c[M]=c[M++-Z],c[M]=c[M++-Z],c[M]=c[M++-Z];M=$}}}}else{(7&C)!=0&&(C+=8-(7&C));let A=4+(C>>>3),R=a[A-4]|a[A-3]<<8;w&&(c=d.H.W(c,M+R)),c.set(new f(a.buffer,a.byteOffset+A,R),M),C=A+R<<3,M+=R}return c.length==M?c:c.slice(0,M)},d.H.W=function(a,c){let f=a.length;if(c<=f)return a;let p=new Uint8Array(f<<1);return p.set(a,0),p},d.H.R=function(a,c,f,p,_,y){let b=d.H.e,O=d.H.Z,E=0;for(;E<f;){let P=a[O(p,_)&c];_+=15&P;let L=P>>>4;if(L<=15)y[E]=L,E++;else{let z=0,M=0;L==16?(M=3+b(p,_,2),_+=2,z=y[E-1]):L==17?(M=3+b(p,_,3),_+=3):L==18&&(M=11+b(p,_,7),_+=7);let C=E+M;for(;E<C;)y[E]=z,E++}}return _},d.H.V=function(a,c,f,p){let _=0,y=0,b=p.length>>>1;for(;y<f;){let O=a[y+c];p[y<<1]=0,p[1+(y<<1)]=O,O>_&&(_=O),y++}for(;y<b;)p[y<<1]=0,p[1+(y<<1)]=0,y++;return _},d.H.n=function(a,c){let f=d.H.m,p=a.length,_,y,b,O,E=f.j;for(var P=0;P<=c;P++)E[P]=0;for(P=1;P<p;P+=2)E[a[P]]++;let L=f.K;for(_=0,E[0]=0,y=1;y<=c;y++)_=_+E[y-1]<<1,L[y]=_;for(b=0;b<p;b+=2)O=a[b+1],O!=0&&(a[b]=L[O],L[O]++)},d.H.A=function(a,c,f){let p=a.length,_=d.H.m.r;for(let y=0;y<p;y+=2)if(a[y+1]!=0){let b=y>>1,O=a[y+1],E=b<<4|O,P=c-O,L=a[y]<<P,z=L+(1<<P);for(;L!=z;)f[_[L]>>>15-c]=E,L++}},d.H.l=function(a,c){let f=d.H.m.r,p=15-c;for(let _=0;_<a.length;_+=2){let y=a[_]<<c-a[_+1];a[_]=f[y]>>>p}},d.H.M=function(a,c,f){f<<=7&c;let p=c>>>3;a[p]|=f,a[p+1]|=f>>>8},d.H.I=function(a,c,f){f<<=7&c;let p=c>>>3;a[p]|=f,a[p+1]|=f>>>8,a[p+2]|=f>>>16},d.H.e=function(a,c,f){return(a[c>>>3]|a[1+(c>>>3)]<<8)>>>(7&c)&(1<<f)-1},d.H.b=function(a,c,f){return(a[c>>>3]|a[1+(c>>>3)]<<8|a[2+(c>>>3)]<<16)>>>(7&c)&(1<<f)-1},d.H.Z=function(a,c){return(a[c>>>3]|a[1+(c>>>3)]<<8|a[2+(c>>>3)]<<16)>>>(7&c)},d.H.i=function(a,c){return(a[c>>>3]|a[1+(c>>>3)]<<8|a[2+(c>>>3)]<<16|a[3+(c>>>3)]<<24)>>>(7&c)},d.H.m=(function(){let a=Uint16Array,c=Uint32Array;return{K:new a(16),j:new a(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new a(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new c(32),J:new a(512),_:[],h:new a(32),$:[],w:new a(32768),C:[],v:[],d:new a(32768),D:[],u:new a(512),Q:[],r:new a(32768),s:new c(286),Y:new c(30),a:new c(19),t:new c(15e3),k:new a(65536),g:new a(32768)}})(),(function(){let a=d.H.m;for(var c=0;c<32768;c++){let p=c;p=(2863311530&p)>>>1|(1431655765&p)<<1,p=(3435973836&p)>>>2|(858993459&p)<<2,p=(4042322160&p)>>>4|(252645135&p)<<4,p=(4278255360&p)>>>8|(16711935&p)<<8,a.r[c]=(p>>>16|p<<16)>>>17}function f(p,_,y){for(;_--!=0;)p.push(0,y)}for(c=0;c<32;c++)a.q[c]=a.S[c]<<3|a.T[c],a.c[c]=a.p[c]<<4|a.z[c];f(a._,144,8),f(a._,112,9),f(a._,24,7),f(a._,8,8),d.H.n(a._,9),d.H.A(a._,9,a.J),d.H.l(a._,9),f(a.$,32,5),d.H.n(a.$,5),d.H.A(a.$,5,a.h),d.H.l(a.$,5),f(a.Q,19,0),f(a.C,286,0),f(a.D,30,0),f(a.v,320,0)})(),d.H.N})();function i(d){return[1,null,3,1,2,null,4][d.ctype]*d.depth}function o(d,a,c,f,p){let _=i(a),y=Math.ceil(f*_/8),b,O;_=Math.ceil(_/8);let E=d[c],P=0;if(E>1&&(d[c]=[0,0,1][E-2]),E==3)for(P=_;P<y;P++)d[P+1]=d[P+1]+(d[P+1-_]>>>1)&255;for(let L=0;L<p;L++)if(b=c+L*y,O=b+L+1,E=d[O-1],P=0,E==0)for(;P<y;P++)d[b+P]=d[O+P];else if(E==1){for(;P<_;P++)d[b+P]=d[O+P];for(;P<y;P++)d[b+P]=d[O+P]+d[b+P-_]}else if(E==2)for(;P<y;P++)d[b+P]=d[O+P]+d[b+P-y];else if(E==3){for(;P<_;P++)d[b+P]=d[O+P]+(d[b+P-y]>>>1);for(;P<y;P++)d[b+P]=d[O+P]+(d[b+P-y]+d[b+P-_]>>>1)}else{for(;P<_;P++)d[b+P]=d[O+P]+l(0,d[b+P-y],0);for(;P<y;P++)d[b+P]=d[O+P]+l(d[b+P-_],d[b+P-y],d[b+P-_-y])}return d}function l(d,a,c){let f=d+a-c,p=f-d,_=f-a,y=f-c;return p*p<=_*_&&p*p<=y*y?d:_*_<=y*y?a:c}function u(d,a,c){c.width=s.readUint(d,a),a+=4,c.height=s.readUint(d,a),a+=4,c.depth=d[a],a++,c.ctype=d[a],a++,c.compress=d[a],a++,c.filter=d[a],a++,c.interlace=d[a],a++}function g(d,a,c,f,p,_,y,b,O){let E=Math.min(a,p),P=Math.min(c,_),L=0,z=0;for(let F=0;F<P;F++)for(let S=0;S<E;S++)if(y>=0&&b>=0?(L=F*a+S<<2,z=(b+F)*p+y+S<<2):(L=(-b+F)*a-y+S<<2,z=F*p+S<<2),O==0)f[z]=d[L],f[z+1]=d[L+1],f[z+2]=d[L+2],f[z+3]=d[L+3];else if(O==1){var M=d[L+3]*.00392156862745098,C=d[L]*M,x=d[L+1]*M,v=d[L+2]*M,k=f[z+3]*(1/255),h=f[z]*k,I=f[z+1]*k,N=f[z+2]*k;let w=1-M,H=M+k*w,A=H==0?0:1/H;f[z+3]=255*H,f[z+0]=(C+h*w)*A,f[z+1]=(x+I*w)*A,f[z+2]=(v+N*w)*A}else if(O==2)M=d[L+3],C=d[L],x=d[L+1],v=d[L+2],k=f[z+3],h=f[z],I=f[z+1],N=f[z+2],M==k&&C==h&&x==I&&v==N?(f[z]=0,f[z+1]=0,f[z+2]=0,f[z+3]=0):(f[z]=C,f[z+1]=x,f[z+2]=v,f[z+3]=M);else if(O==3){if(M=d[L+3],C=d[L],x=d[L+1],v=d[L+2],k=f[z+3],h=f[z],I=f[z+1],N=f[z+2],M==k&&C==h&&x==I&&v==N)continue;if(M<220&&k>20)return!1}return!0}return{decode:function(a){let c=new Uint8Array(a),f=8,p=s,_=p.readUshort,y=p.readUint,b={tabs:{},frames:[]},O=new Uint8Array(c.length),E,P=0,L=0,z=[137,80,78,71,13,10,26,10];for(var M=0;M<8;M++)if(c[M]!=z[M])throw"The input is not a PNG file!";for(;f<c.length;){let F=p.readUint(c,f);f+=4;let S=p.readASCII(c,f,4);if(f+=4,S=="IHDR")u(c,f,b);else if(S=="iCCP"){for(var C=f;c[C]!=0;)C++;p.readASCII(c,f,C-f),c[C+1];let w=c.slice(C+2,f+F),H=null;try{H=n(w)}catch{H=t(w)}b.tabs[S]=H}else if(S=="CgBI")b.tabs[S]=c.slice(f,f+4);else if(S=="IDAT"){for(M=0;M<F;M++)O[P+M]=c[f+M];P+=F}else if(S=="acTL")b.tabs[S]={num_frames:y(c,f),num_plays:y(c,f+4)},E=new Uint8Array(c.length);else if(S=="fcTL"){L!=0&&((N=b.frames[b.frames.length-1]).data=e(b,E.slice(0,L),N.rect.width,N.rect.height),L=0);let w={x:y(c,f+12),y:y(c,f+16),width:y(c,f+4),height:y(c,f+8)},H=_(c,f+22);H=_(c,f+20)/(H==0?100:H);let A={rect:w,delay:Math.round(1e3*H),dispose:c[f+24],blend:c[f+25]};b.frames.push(A)}else if(S=="fdAT"){for(M=0;M<F-4;M++)E[L+M]=c[f+M+4];L+=F-4}else if(S=="pHYs")b.tabs[S]=[p.readUint(c,f),p.readUint(c,f+4),c[f+8]];else if(S=="cHRM")for(b.tabs[S]=[],M=0;M<8;M++)b.tabs[S].push(p.readUint(c,f+4*M));else if(S=="tEXt"||S=="zTXt"){b.tabs[S]==null&&(b.tabs[S]={});var x=p.nextZero(c,f),v=p.readASCII(c,f,x-f),k=f+F-x-1;if(S=="tEXt")I=p.readASCII(c,x+1,k);else{var h=n(c.slice(x+2,x+2+k));I=p.readUTF8(h,0,h.length)}b.tabs[S][v]=I}else if(S=="iTXt"){b.tabs[S]==null&&(b.tabs[S]={}),x=0,C=f,x=p.nextZero(c,C),v=p.readASCII(c,C,x-C);let w=c[C=x+1];var I;c[C+1],C+=2,x=p.nextZero(c,C),p.readASCII(c,C,x-C),C=x+1,x=p.nextZero(c,C),p.readUTF8(c,C,x-C),k=F-((C=x+1)-f),w==0?I=p.readUTF8(c,C,k):(h=n(c.slice(C,C+k)),I=p.readUTF8(h,0,h.length)),b.tabs[S][v]=I}else if(S=="PLTE")b.tabs[S]=p.readBytes(c,f,F);else if(S=="hIST"){let w=b.tabs.PLTE.length/3;for(b.tabs[S]=[],M=0;M<w;M++)b.tabs[S].push(_(c,f+2*M))}else if(S=="tRNS")b.ctype==3?b.tabs[S]=p.readBytes(c,f,F):b.ctype==0?b.tabs[S]=_(c,f):b.ctype==2&&(b.tabs[S]=[_(c,f),_(c,f+2),_(c,f+4)]);else if(S=="gAMA")b.tabs[S]=p.readUint(c,f)/1e5;else if(S=="sRGB")b.tabs[S]=c[f];else if(S=="bKGD")b.ctype==0||b.ctype==4?b.tabs[S]=[_(c,f)]:b.ctype==2||b.ctype==6?b.tabs[S]=[_(c,f),_(c,f+2),_(c,f+4)]:b.ctype==3&&(b.tabs[S]=c[f]);else if(S=="IEND")break;f+=F,p.readUint(c,f),f+=4}var N;return L!=0&&((N=b.frames[b.frames.length-1]).data=e(b,E.slice(0,L),N.rect.width,N.rect.height)),b.data=e(b,O,b.width,b.height),delete b.compress,delete b.interlace,delete b.filter,b},toRGBA8:function(a){let c=a.width,f=a.height;if(a.tabs.acTL==null)return[r(a.data,c,f,a).buffer];let p=[];a.frames[0].data==null&&(a.frames[0].data=a.data);let _=c*f*4,y=new Uint8Array(_),b=new Uint8Array(_),O=new Uint8Array(_);for(let P=0;P<a.frames.length;P++){let L=a.frames[P],z=L.rect.x,M=L.rect.y,C=L.rect.width,x=L.rect.height,v=r(L.data,C,x,a);if(P!=0)for(var E=0;E<_;E++)O[E]=y[E];if(L.blend==0?g(v,C,x,y,c,f,z,M,0):L.blend==1&&g(v,C,x,y,c,f,z,M,1),p.push(y.buffer.slice(0)),L.dispose!=0){if(L.dispose==1)g(b,C,x,y,c,f,z,M,0);else if(L.dispose==2)for(E=0;E<_;E++)y[E]=O[E]}}return p},_paeth:l,_copyTile:g,_bin:s}})();(function(){let{_copyTile:s}=jt,{_bin:r}=jt,e=jt._paeth;var n={table:(function(){let C=new Uint32Array(256);for(let x=0;x<256;x++){let v=x;for(let k=0;k<8;k++)1&v?v=3988292384^v>>>1:v>>>=1;C[x]=v}return C})(),update(C,x,v,k){for(let h=0;h<k;h++)C=n.table[255&(C^x[v+h])]^C>>>8;return C},crc:(C,x,v)=>4294967295^n.update(4294967295,C,x,v)};function t(C,x,v,k){x[v]+=C[0]*k>>4,x[v+1]+=C[1]*k>>4,x[v+2]+=C[2]*k>>4,x[v+3]+=C[3]*k>>4}function i(C){return Math.max(0,Math.min(255,C))}function o(C,x){let v=C[0]-x[0],k=C[1]-x[1],h=C[2]-x[2],I=C[3]-x[3];return v*v+k*k+h*h+I*I}function l(C,x,v,k,h,I,N){N==null&&(N=1);let F=k.length,S=[];for(var w=0;w<F;w++){let Z=k[w];S.push([Z>>>0&255,Z>>>8&255,Z>>>16&255,Z>>>24&255])}for(w=0;w<F;w++){let Z=4294967295;for(var H=0,A=0;A<F;A++){var R=o(S[w],S[A]);A!=w&&R<Z&&(Z=R,H=A)}}let $=new Uint32Array(h.buffer),j=new Int16Array(x*v*4),V=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(w=0;w<V.length;w++)V[w]=255*((V[w]+.5)/16-.5);for(let Z=0;Z<v;Z++)for(let tt=0;tt<x;tt++){var q;w=4*(Z*x+tt),N!=2?q=[i(C[w]+j[w]),i(C[w+1]+j[w+1]),i(C[w+2]+j[w+2]),i(C[w+3]+j[w+3])]:(R=V[4*(3&Z)+(3&tt)],q=[i(C[w]+R),i(C[w+1]+R),i(C[w+2]+R),i(C[w+3]+R)]),H=0;let it=16777215;for(A=0;A<F;A++){let ht=o(q,S[A]);ht<it&&(it=ht,H=A)}let at=S[H],rt=[q[0]-at[0],q[1]-at[1],q[2]-at[2],q[3]-at[3]];N==1&&(tt!=x-1&&t(rt,j,w+4,7),Z!=v-1&&(tt!=0&&t(rt,j,w+4*x-4,3),t(rt,j,w+4*x,5),tt!=x-1&&t(rt,j,w+4*x+4,1))),I[w>>2]=H,$[w>>2]=k[H]}}function u(C,x,v,k,h){h==null&&(h={});let{crc:I}=n,N=r.writeUint,F=r.writeUshort,S=r.writeASCII,w=8,H=C.frames.length>1,A,R=!1,$=33+(H?20:0);if(h.sRGB!=null&&($+=13),h.pHYs!=null&&($+=21),h.iCCP!=null&&(A=pako.deflate(h.iCCP),$+=21+A.length+4),C.ctype==3){for(var j=C.plte.length,V=0;V<j;V++)C.plte[V]>>>24!=255&&(R=!0);$+=8+3*j+4+(R?8+1*j+4:0)}for(var q=0;q<C.frames.length;q++)H&&($+=38),$+=(at=C.frames[q]).cimg.length+12,q!=0&&($+=4);$+=12;let Z=new Uint8Array($),tt=[137,80,78,71,13,10,26,10];for(V=0;V<8;V++)Z[V]=tt[V];if(N(Z,w,13),w+=4,S(Z,w,"IHDR"),w+=4,N(Z,w,x),w+=4,N(Z,w,v),w+=4,Z[w]=C.depth,w++,Z[w]=C.ctype,w++,Z[w]=0,w++,Z[w]=0,w++,Z[w]=0,w++,N(Z,w,I(Z,w-17,17)),w+=4,h.sRGB!=null&&(N(Z,w,1),w+=4,S(Z,w,"sRGB"),w+=4,Z[w]=h.sRGB,w++,N(Z,w,I(Z,w-5,5)),w+=4),h.iCCP!=null){let rt=13+A.length;N(Z,w,rt),w+=4,S(Z,w,"iCCP"),w+=4,S(Z,w,"ICC profile"),w+=11,w+=2,Z.set(A,w),w+=A.length,N(Z,w,I(Z,w-(rt+4),rt+4)),w+=4}if(h.pHYs!=null&&(N(Z,w,9),w+=4,S(Z,w,"pHYs"),w+=4,N(Z,w,h.pHYs[0]),w+=4,N(Z,w,h.pHYs[1]),w+=4,Z[w]=h.pHYs[2],w++,N(Z,w,I(Z,w-13,13)),w+=4),H&&(N(Z,w,8),w+=4,S(Z,w,"acTL"),w+=4,N(Z,w,C.frames.length),w+=4,N(Z,w,h.loop!=null?h.loop:0),w+=4,N(Z,w,I(Z,w-12,12)),w+=4),C.ctype==3){for(N(Z,w,3*(j=C.plte.length)),w+=4,S(Z,w,"PLTE"),w+=4,V=0;V<j;V++){let rt=3*V,ht=C.plte[V],ut=255&ht,m=ht>>>8&255,G=ht>>>16&255;Z[w+rt+0]=ut,Z[w+rt+1]=m,Z[w+rt+2]=G}if(w+=3*j,N(Z,w,I(Z,w-3*j-4,3*j+4)),w+=4,R){for(N(Z,w,j),w+=4,S(Z,w,"tRNS"),w+=4,V=0;V<j;V++)Z[w+V]=C.plte[V]>>>24&255;w+=j,N(Z,w,I(Z,w-j-4,j+4)),w+=4}}let it=0;for(q=0;q<C.frames.length;q++){var at=C.frames[q];H&&(N(Z,w,26),w+=4,S(Z,w,"fcTL"),w+=4,N(Z,w,it++),w+=4,N(Z,w,at.rect.width),w+=4,N(Z,w,at.rect.height),w+=4,N(Z,w,at.rect.x),w+=4,N(Z,w,at.rect.y),w+=4,F(Z,w,k[q]),w+=2,F(Z,w,1e3),w+=2,Z[w]=at.dispose,w++,Z[w]=at.blend,w++,N(Z,w,I(Z,w-30,30)),w+=4);let rt=at.cimg;N(Z,w,(j=rt.length)+(q==0?0:4)),w+=4;let ht=w;S(Z,w,q==0?"IDAT":"fdAT"),w+=4,q!=0&&(N(Z,w,it++),w+=4),Z.set(rt,w),w+=j,N(Z,w,I(Z,ht,w-ht)),w+=4}return N(Z,w,0),w+=4,S(Z,w,"IEND"),w+=4,N(Z,w,I(Z,w-4,4)),w+=4,Z.buffer}function g(C,x,v){for(let k=0;k<C.frames.length;k++){let h=C.frames[k];h.rect.width;let I=h.rect.height,N=new Uint8Array(I*h.bpl+I);h.cimg=f(h.img,I,h.bpp,h.bpl,N,x,v)}}function d(C,x,v,k,h){let I=h[0],N=h[1],F=h[2],S=h[3],w=h[4],H=h[5],A=6,R=8,$=255;for(var j=0;j<C.length;j++){let D=new Uint8Array(C[j]);for(var V=D.length,q=0;q<V;q+=4)$&=D[q+3]}let Z=$!=255,tt=(function(B,Q,K,U,Y,J){let X=[];for(var et=0;et<B.length;et++){let xt=new Uint8Array(B[et]),pt=new Uint32Array(xt.buffer);var ft;let Tt=0,Ft=0,kt=Q,Wt=K,Be=U?1:0;if(et!=0){let Vn=J||U||et==1||X[et-2].dispose!=0?1:2,Ue=0,He=1e9;for(let Ut=0;Ut<Vn;Ut++){var ct=new Uint8Array(B[et-1-Ut]);let _e=new Uint32Array(B[et-1-Ut]),Xt=Q,Jt=K,ve=-1,je=-1;for(let le=0;le<K;le++)for(let ce=0;ce<Q;ce++)pt[yt=le*Q+ce]!=_e[yt]&&(ce<Xt&&(Xt=ce),ce>ve&&(ve=ce),le<Jt&&(Jt=le),le>je&&(je=le));ve==-1&&(Xt=Jt=ve=je=0),Y&&((1&Xt)==1&&Xt--,(1&Jt)==1&&Jt--);let Wi=(ve-Xt+1)*(je-Jt+1);Wi<He&&(He=Wi,Ue=Ut,Tt=Xt,Ft=Jt,kt=ve-Xt+1,Wt=je-Jt+1)}ct=new Uint8Array(B[et-1-Ue]),Ue==1&&(X[et-1].dispose=2),ft=new Uint8Array(kt*Wt*4),s(ct,Q,K,ft,kt,Wt,-Tt,-Ft,0),Be=s(xt,Q,K,ft,kt,Wt,-Tt,-Ft,3)?1:0,Be==1?c(xt,Q,K,ft,{x:Tt,y:Ft,width:kt,height:Wt}):s(xt,Q,K,ft,kt,Wt,-Tt,-Ft,0)}else ft=xt.slice(0);X.push({rect:{x:Tt,y:Ft,width:kt,height:Wt},img:ft,blend:Be,dispose:0})}if(U)for(et=0;et<X.length;et++){if((At=X[et]).blend==1)continue;let xt=At.rect,pt=X[et-1].rect,Tt=Math.min(xt.x,pt.x),Ft=Math.min(xt.y,pt.y),kt={x:Tt,y:Ft,width:Math.max(xt.x+xt.width,pt.x+pt.width)-Tt,height:Math.max(xt.y+xt.height,pt.y+pt.height)-Ft};X[et-1].dispose=1,et-1!=0&&a(B,Q,K,X,et-1,kt,Y),a(B,Q,K,X,et,kt,Y)}let Et=0;if(B.length!=1)for(var yt=0;yt<X.length;yt++){var At;Et+=(At=X[yt]).rect.width*At.rect.height}return X})(C,x,v,I,N,F),it={},at=[],rt=[];if(k!=0){let D=[];for(q=0;q<tt.length;q++)D.push(tt[q].img.buffer);let B=(function(Y){let J=0;for(var X=0;X<Y.length;X++)J+=Y[X].byteLength;let et=new Uint8Array(J),ft=0;for(X=0;X<Y.length;X++){let ct=new Uint8Array(Y[X]),Et=ct.length;for(let yt=0;yt<Et;yt+=4){let At=ct[yt],xt=ct[yt+1],pt=ct[yt+2],Tt=ct[yt+3];Tt==0&&(At=xt=pt=0),et[ft+yt]=At,et[ft+yt+1]=xt,et[ft+yt+2]=pt,et[ft+yt+3]=Tt}ft+=Et}return et.buffer})(D),Q=_(B,k);for(q=0;q<Q.plte.length;q++)at.push(Q.plte[q].est.rgba);let K=0;for(q=0;q<tt.length;q++){let U=(ut=tt[q]).img.length;var ht=new Uint8Array(Q.inds.buffer,K>>2,U>>2);rt.push(ht);let Y=new Uint8Array(Q.abuf,K,U);H&&l(ut.img,ut.rect.width,ut.rect.height,at,Y,ht),ut.img.set(Y),K+=U}}else for(j=0;j<tt.length;j++){var ut=tt[j];let D=new Uint32Array(ut.img.buffer);var m=ut.rect.width;for(V=D.length,ht=new Uint8Array(V),rt.push(ht),q=0;q<V;q++){let B=D[q];if(q!=0&&B==D[q-1])ht[q]=ht[q-1];else if(q>m&&B==D[q-m])ht[q]=ht[q-m];else{let Q=it[B];if(Q==null&&(it[B]=Q=at.length,at.push(B),at.length>=300))break;ht[q]=Q}}}let G=at.length;for(G<=256&&w==0&&(R=G<=2?1:G<=4?2:G<=16?4:8,R=Math.max(R,S)),j=0;j<tt.length;j++){(ut=tt[j]).rect.x,ut.rect.y,m=ut.rect.width;let D=ut.rect.height,B=ut.img;new Uint32Array(B.buffer);let Q=4*m,K=4;if(G<=256&&w==0){Q=Math.ceil(R*m/8);var W=new Uint8Array(Q*D);let U=rt[j];for(let Y=0;Y<D;Y++){q=Y*Q;let J=Y*m;if(R==8)for(var T=0;T<m;T++)W[q+T]=U[J+T];else if(R==4)for(T=0;T<m;T++)W[q+(T>>1)]|=U[J+T]<<4-4*(1&T);else if(R==2)for(T=0;T<m;T++)W[q+(T>>2)]|=U[J+T]<<6-2*(3&T);else if(R==1)for(T=0;T<m;T++)W[q+(T>>3)]|=U[J+T]<<7-1*(7&T)}B=W,A=3,K=1}else if(Z==0&&tt.length==1){W=new Uint8Array(m*D*3);let U=m*D;for(q=0;q<U;q++){let Y=3*q,J=4*q;W[Y]=B[J],W[Y+1]=B[J+1],W[Y+2]=B[J+2]}B=W,A=2,K=3,Q=3*m}ut.img=B,ut.bpl=Q,ut.bpp=K}return{ctype:A,depth:R,plte:at,frames:tt}}function a(C,x,v,k,h,I,N){let F=Uint8Array,S=Uint32Array,w=new F(C[h-1]),H=new S(C[h-1]),A=h+1<C.length?new F(C[h+1]):null,R=new F(C[h]),$=new S(R.buffer),j=x,V=v,q=-1,Z=-1;for(let it=0;it<I.height;it++)for(let at=0;at<I.width;at++){let rt=I.x+at,ht=I.y+it,ut=ht*x+rt,m=$[ut];m==0||k[h-1].dispose==0&&H[ut]==m&&(A==null||A[4*ut+3]!=0)||(rt<j&&(j=rt),rt>q&&(q=rt),ht<V&&(V=ht),ht>Z&&(Z=ht))}q==-1&&(j=V=q=Z=0),N&&((1&j)==1&&j--,(1&V)==1&&V--),I={x:j,y:V,width:q-j+1,height:Z-V+1};let tt=k[h];tt.rect=I,tt.blend=1,tt.img=new Uint8Array(I.width*I.height*4),k[h-1].dispose==0?(s(w,x,v,tt.img,I.width,I.height,-I.x,-I.y,0),c(R,x,v,tt.img,I)):s(R,x,v,tt.img,I.width,I.height,-I.x,-I.y,0)}function c(C,x,v,k,h){s(C,x,v,k,h.width,h.height,-h.x,-h.y,2)}function f(C,x,v,k,h,I,N){let F=[],S,w=[0,1,2,3,4];I!=-1?w=[I]:(x*k>5e5||v==1)&&(w=[0]),N&&(S={level:0});let H=os;for(var A=0;A<w.length;A++){for(let j=0;j<x;j++)p(h,C,j,k,v,w[A]);F.push(H.deflate(h,S))}let R,$=1e9;for(A=0;A<F.length;A++)F[A].length<$&&(R=A,$=F[A].length);return F[R]}function p(C,x,v,k,h,I){let N=v*k,F=N+v;if(C[F]=I,F++,I==0)if(k<500)for(var S=0;S<k;S++)C[F+S]=x[N+S];else C.set(new Uint8Array(x.buffer,N,k),F);else if(I==1){for(S=0;S<h;S++)C[F+S]=x[N+S];for(S=h;S<k;S++)C[F+S]=x[N+S]-x[N+S-h]+256&255}else if(v==0){for(S=0;S<h;S++)C[F+S]=x[N+S];if(I==2)for(S=h;S<k;S++)C[F+S]=x[N+S];if(I==3)for(S=h;S<k;S++)C[F+S]=x[N+S]-(x[N+S-h]>>1)+256&255;if(I==4)for(S=h;S<k;S++)C[F+S]=x[N+S]-e(x[N+S-h],0,0)+256&255}else{if(I==2)for(S=0;S<k;S++)C[F+S]=x[N+S]+256-x[N+S-k]&255;if(I==3){for(S=0;S<h;S++)C[F+S]=x[N+S]+256-(x[N+S-k]>>1)&255;for(S=h;S<k;S++)C[F+S]=x[N+S]+256-(x[N+S-k]+x[N+S-h]>>1)&255}if(I==4){for(S=0;S<h;S++)C[F+S]=x[N+S]+256-e(0,x[N+S-k],0)&255;for(S=h;S<k;S++)C[F+S]=x[N+S]+256-e(x[N+S-h],x[N+S-k],x[N+S-h-k])&255}}}function _(C,x){let v=new Uint8Array(C),k=v.slice(0),h=new Uint32Array(k.buffer),I=y(k,x),N=I[0],F=I[1],S=v.length,w=new Uint8Array(S>>2),H;if(v.length<2e7)for(var A=0;A<S;A+=4)H=b(N,R=v[A]*(1/255),$=v[A+1]*(1/255),j=v[A+2]*(1/255),V=v[A+3]*(1/255)),w[A>>2]=H.ind,h[A>>2]=H.est.rgba;else for(A=0;A<S;A+=4){var R=v[A]*.00392156862745098,$=v[A+1]*(1/255),j=v[A+2]*(1/255),V=v[A+3]*(1/255);for(H=N;H.left;)H=O(H.est,R,$,j,V)<=0?H.left:H.right;w[A>>2]=H.ind,h[A>>2]=H.est.rgba}return{abuf:k.buffer,inds:w,plte:F}}function y(C,x,v){v==null&&(v=1e-4);let k=new Uint32Array(C.buffer),h={i0:0,i1:C.length,bst:null,est:null,tdst:0,left:null,right:null};h.bst=L(C,h.i0,h.i1),h.est=z(h.bst);let I=[h];for(;I.length<x;){let F=0,S=0;for(var N=0;N<I.length;N++)I[N].est.L>F&&(F=I[N].est.L,S=N);if(F<v)break;let w=I[S],H=E(C,k,w.i0,w.i1,w.est.e,w.est.eMq255);if(w.i0>=H||w.i1<=H){w.est.L=0;continue}let A={i0:w.i0,i1:H,bst:null,est:null,tdst:0,left:null,right:null};A.bst=L(C,A.i0,A.i1),A.est=z(A.bst);let R={i0:H,i1:w.i1,bst:null,est:null,tdst:0,left:null,right:null};for(R.bst={R:[],m:[],N:w.bst.N-A.bst.N},N=0;N<16;N++)R.bst.R[N]=w.bst.R[N]-A.bst.R[N];for(N=0;N<4;N++)R.bst.m[N]=w.bst.m[N]-A.bst.m[N];R.est=z(R.bst),w.left=A,w.right=R,I[S]=A,I.push(R)}for(I.sort((F,S)=>S.bst.N-F.bst.N),N=0;N<I.length;N++)I[N].ind=N;return[h,I]}function b(C,x,v,k,h){if(C.left==null)return C.tdst=(function(A,R,$,j,V){let q=R-A[0],Z=$-A[1],tt=j-A[2],it=V-A[3];return q*q+Z*Z+tt*tt+it*it})(C.est.q,x,v,k,h),C;let I=O(C.est,x,v,k,h),N=C.left,F=C.right;I>0&&(N=C.right,F=C.left);let S=b(N,x,v,k,h);if(S.tdst<=I*I)return S;let w=b(F,x,v,k,h);return w.tdst<S.tdst?w:S}function O(C,x,v,k,h){let{e:I}=C;return I[0]*x+I[1]*v+I[2]*k+I[3]*h-C.eMq}function E(C,x,v,k,h,I){for(k-=4;v<k;){for(;P(C,v,h)<=I;)v+=4;for(;P(C,k,h)>I;)k-=4;if(v>=k)break;let N=x[v>>2];x[v>>2]=x[k>>2],x[k>>2]=N,v+=4,k-=4}for(;P(C,v,h)>I;)v-=4;return v+4}function P(C,x,v){return C[x]*v[0]+C[x+1]*v[1]+C[x+2]*v[2]+C[x+3]*v[3]}function L(C,x,v){let k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],h=[0,0,0,0],I=v-x>>2;for(let N=x;N<v;N+=4){let F=C[N]*.00392156862745098,S=C[N+1]*(1/255),w=C[N+2]*(1/255),H=C[N+3]*(1/255);h[0]+=F,h[1]+=S,h[2]+=w,h[3]+=H,k[0]+=F*F,k[1]+=F*S,k[2]+=F*w,k[3]+=F*H,k[5]+=S*S,k[6]+=S*w,k[7]+=S*H,k[10]+=w*w,k[11]+=w*H,k[15]+=H*H}return k[4]=k[1],k[8]=k[2],k[9]=k[6],k[12]=k[3],k[13]=k[7],k[14]=k[11],{R:k,m:h,N:I}}function z(C){let{R:x}=C,{m:v}=C,{N:k}=C,h=v[0],I=v[1],N=v[2],F=v[3],S=k==0?0:1/k,w=[x[0]-h*h*S,x[1]-h*I*S,x[2]-h*N*S,x[3]-h*F*S,x[4]-I*h*S,x[5]-I*I*S,x[6]-I*N*S,x[7]-I*F*S,x[8]-N*h*S,x[9]-N*I*S,x[10]-N*N*S,x[11]-N*F*S,x[12]-F*h*S,x[13]-F*I*S,x[14]-F*N*S,x[15]-F*F*S],H=w,A=M,R=[Math.random(),Math.random(),Math.random(),Math.random()],$=0,j=0;if(k!=0)for(let q=0;q<16&&(R=A.multVec(H,R),j=Math.sqrt(A.dot(R,R)),R=A.sml(1/j,R),!(q!=0&&Math.abs(j-$)<1e-9));q++)$=j;let V=[h*S,I*S,N*S,F*S];return{Cov:w,q:V,e:R,L:$,eMq255:A.dot(A.sml(255,V),R),eMq:A.dot(R,V),rgba:(Math.round(255*V[3])<<24|Math.round(255*V[2])<<16|Math.round(255*V[1])<<8|Math.round(255*V[0])<<0)>>>0}}var M={multVec:(C,x)=>[C[0]*x[0]+C[1]*x[1]+C[2]*x[2]+C[3]*x[3],C[4]*x[0]+C[5]*x[1]+C[6]*x[2]+C[7]*x[3],C[8]*x[0]+C[9]*x[1]+C[10]*x[2]+C[11]*x[3],C[12]*x[0]+C[13]*x[1]+C[14]*x[2]+C[15]*x[3]],dot:(C,x)=>C[0]*x[0]+C[1]*x[1]+C[2]*x[2]+C[3]*x[3],sml:(C,x)=>[C*x[0],C*x[1],C*x[2],C*x[3]]};jt.encode=function(x,v,k,h,I,N,F){h==null&&(h=0),F==null&&(F=!1);let S=d(x,v,k,h,[!1,!1,!1,0,F,!1]);return g(S,-1),u(S,v,k,I,N)},jt.encodeLL=function(x,v,k,h,I,N,F,S){let w={ctype:0+(h==1?0:2)+(I==0?0:4),depth:N,frames:[]},H=(h+I)*N,A=H*v;for(let R=0;R<x.length;R++)w.frames.push({rect:{x:0,y:0,width:v,height:k},img:new Uint8Array(x[R]),blend:0,dispose:1,bpp:Math.ceil(H/8),bpl:Math.ceil(A/8)});return g(w,0,!0),u(w,v,k,F,S)},jt.encode.compress=d,jt.encode.dither=l,jt.quantize=_,jt.quantize.getKDtree=y,jt.quantize.getNearest=b})();var Yr={toArrayBuffer(s,r){let e=s.width,n=s.height,t=e<<2,i=s.getContext("2d").getImageData(0,0,e,n),o=new Uint32Array(i.data.buffer),l=(32*e+31)/32<<2,u=l*n,g=122+u,d=new ArrayBuffer(g),a=new DataView(d),c=1<<20,f,p,_,y,b=c,O=0,E=0,P=0;function L(C){a.setUint16(E,C,!0),E+=2}function z(C){a.setUint32(E,C,!0),E+=4}function M(C){E+=C}L(19778),z(g),M(4),z(122),z(108),z(e),z(-n>>>0),L(1),L(32),z(3),z(u),z(2835),z(2835),M(8),z(16711680),z(65280),z(255),z(4278190080),z(1466527264),(function C(){for(;O<n&&b>0;){for(y=122+O*l,f=0;f<t;)b--,p=o[P++],_=p>>>24,a.setUint32(y+f,p<<8|_),f+=4;O++}P<o.length?(b=c,setTimeout(C,Yr._dly)):r(d)})()},toBlob(s,r){this.toArrayBuffer(s,e=>{r(new Blob([e],{type:"image/bmp"}))})},_dly:9},Mt={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},ss={[Mt.CHROME]:16384,[Mt.FIREFOX]:11180,[Mt.DESKTOP_SAFARI]:16384,[Mt.IE]:8192,[Mt.IOS]:4096,[Mt.ETC]:8192},yi=typeof window<"u",Xr=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Pn=yi&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),as=(yi||Xr)&&(Pn&&Pn.getOriginalSymbol(window,"File")||typeof File<"u"&&File),Jr=(yi||Xr)&&(Pn&&Pn.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function bi(s,r,e=Date.now()){return new Promise(n=>{let t=s.split(","),i=t[0].match(/:(.*?);/)[1],o=globalThis.atob(t[1]),l=o.length,u=new Uint8Array(l);for(;l--;)u[l]=o.charCodeAt(l);let g=new Blob([u],{type:i});g.name=r,g.lastModified=e,n(g)})}function to(s){return new Promise((r,e)=>{let n=new Jr;n.onload=()=>r(n.result),n.onerror=t=>e(t),n.readAsDataURL(s)})}function eo(s){return new Promise((r,e)=>{let n=new Image;n.onload=()=>r(n),n.onerror=t=>e(t),n.src=s})}function ge(){if(ge.cachedResult!==void 0)return ge.cachedResult;let s=Mt.ETC,{userAgent:r}=navigator;return/Chrom(e|ium)/i.test(r)?s=Mt.CHROME:/iP(ad|od|hone)/i.test(r)&&/WebKit/i.test(r)?s=Mt.IOS:/Safari/i.test(r)?s=Mt.DESKTOP_SAFARI:/Firefox/i.test(r)?s=Mt.FIREFOX:(/MSIE/i.test(r)||document.documentMode)&&(s=Mt.IE),ge.cachedResult=s,ge.cachedResult}function no(s,r){let e=ge(),n=ss[e],t=s,i=r,o=t*i,l=t>i?i/t:t/i;for(;o>n*n;){let u=(n+t)/2,g=(n+i)/2;u<g?(i=g,t=g*l):(i=u*l,t=u),o=t*i}return{width:t,height:i}}function Nn(s,r){let e,n;try{if(e=new OffscreenCanvas(s,r),n=e.getContext("2d"),n===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{e=document.createElement("canvas"),n=e.getContext("2d")}return e.width=s,e.height=r,[e,n]}function io(s,r){let{width:e,height:n}=no(s.width,s.height),[t,i]=Nn(e,n);return r&&/jpe?g/.test(r)&&(i.fillStyle="white",i.fillRect(0,0,t.width,t.height)),i.drawImage(s,0,0,t.width,t.height),t}function Rn(){return Rn.cachedResult!==void 0||(Rn.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Rn.cachedResult}function Mn(s,r={}){return new Promise(function(e,n){let t,i;var o=function(){try{return i=io(t,r.fileType||s.type),e([t,i])}catch(u){return n(u)}},l=function(u){try{var g=function(d){try{throw d}catch(a){return n(a)}};try{let d;return to(s).then(function(a){try{return d=a,eo(d).then(function(c){try{return t=c,(function(){try{return o()}catch(f){return n(f)}})()}catch(f){return g(f)}},g)}catch(c){return g(c)}},g)}catch(d){g(d)}}catch(d){return n(d)}};try{if(Rn()||[Mt.DESKTOP_SAFARI,Mt.MOBILE_SAFARI].includes(ge()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(s).then(function(u){try{return t=u,o()}catch{return l()}},l)}catch{l()}})}function Fn(s,r,e,n,t=1){return new Promise(function(i,o){let l;if(r==="image/png"){let a,c,f;return a=s.getContext("2d"),{data:c}=a.getImageData(0,0,s.width,s.height),f=jt.encode([c.buffer],s.width,s.height,4096*t),l=new Blob([f],{type:r}),l.name=e,l.lastModified=n,u.call(this)}{let a=function(){return u.call(this)};var g=a;if(r==="image/bmp")return new Promise(c=>Yr.toBlob(s,c)).then((function(c){try{return l=c,l.name=e,l.lastModified=n,a.call(this)}catch(f){return o(f)}}).bind(this),o);{let c=function(){return a.call(this)};var d=c;if(typeof OffscreenCanvas=="function"&&s instanceof OffscreenCanvas)return s.convertToBlob({type:r,quality:t}).then((function(f){try{return l=f,l.name=e,l.lastModified=n,c.call(this)}catch(p){return o(p)}}).bind(this),o);{let f;return f=s.toDataURL(r,t),bi(f,e,n).then((function(p){try{return l=p,c.call(this)}catch(_){return o(_)}}).bind(this),o)}}}function u(){return i(l)}})}function Zt(s){s.width=0,s.height=0}function Pe(){return new Promise(function(s,r){let e,n,t,i,o;return Pe.cachedResult!==void 0?s(Pe.cachedResult):(e="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==",bi("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(l){try{return n=l,Mn(n).then(function(u){try{return t=u[1],Fn(t,n.type,n.name,n.lastModified).then(function(g){try{return i=g,Zt(t),Mn(i).then(function(d){try{return o=d[0],Pe.cachedResult=o.width===1&&o.height===2,s(Pe.cachedResult)}catch(a){return r(a)}},r)}catch(d){return r(d)}},r)}catch(g){return r(g)}},r)}catch(u){return r(u)}},r))})}function ro(s){return new Promise((r,e)=>{let n=new Jr;n.onload=t=>{let i=new DataView(t.target.result);if(i.getUint16(0,!1)!=65496)return r(-2);let o=i.byteLength,l=2;for(;l<o;){if(i.getUint16(l+2,!1)<=8)return r(-1);let u=i.getUint16(l,!1);if(l+=2,u==65505){if(i.getUint32(l+=2,!1)!=1165519206)return r(-1);let g=i.getUint16(l+=6,!1)==18761;l+=i.getUint32(l+4,g);let d=i.getUint16(l,g);l+=2;for(let a=0;a<d;a++)if(i.getUint16(l+12*a,g)==274)return r(i.getUint16(l+12*a+8,g))}else{if((65280&u)!=65280)break;l+=i.getUint16(l,!1)}}return r(-1)},n.onerror=t=>e(t),n.readAsArrayBuffer(s)})}function oo(s,r){let{width:e}=s,{height:n}=s,{maxWidthOrHeight:t}=r,i,o=s;return isFinite(t)&&(e>t||n>t)&&([o,i]=Nn(e,n),e>n?(o.width=t,o.height=n/e*t):(o.width=e/n*t,o.height=t),i.drawImage(s,0,0,o.width,o.height),Zt(s)),o}function so(s,r){let{width:e}=s,{height:n}=s,[t,i]=Nn(e,n);switch(r>4&&r<9?(t.width=n,t.height=e):(t.width=e,t.height=n),r){case 2:i.transform(-1,0,0,1,e,0);break;case 3:i.transform(-1,0,0,-1,e,n);break;case 4:i.transform(1,0,0,-1,0,n);break;case 5:i.transform(0,1,1,0,0,0);break;case 6:i.transform(0,1,-1,0,n,0);break;case 7:i.transform(0,-1,-1,0,n,e);break;case 8:i.transform(0,-1,1,0,0,e)}return i.drawImage(s,0,0,e,n),Zt(s),t}function qr(s,r,e=0){return new Promise(function(n,t){let i,o,l,u,g,d,a,c,f,p,_,y,b,O,E,P,L,z,M,C;function x(k=5){if(r.signal&&r.signal.aborted)throw r.signal.reason;i+=k,r.onProgress(Math.min(i,100))}function v(k){if(r.signal&&r.signal.aborted)throw r.signal.reason;i=Math.min(Math.max(k,i),100),r.onProgress(i)}return i=e,o=r.maxIteration||10,l=1024*r.maxSizeMB*1024,x(),Mn(s,r).then((function(k){try{return[,u]=k,x(),g=oo(u,r),x(),new Promise(function(h,I){var N;if(!(N=r.exifOrientation))return ro(s).then((function(S){try{return N=S,F.call(this)}catch(w){return I(w)}}).bind(this),I);function F(){return h(N)}return F.call(this)}).then((function(h){try{return d=h,x(),Pe().then((function(I){try{return a=I?g:so(g,d),x(),c=r.initialQuality||1,f=r.fileType||s.type,Fn(a,f,s.name,s.lastModified,c).then((function(N){try{{let H=function(){if(o--&&(E>l||E>b)){let R,$;return R=C?.95*M.width:M.width,$=C?.95*M.height:M.height,[L,z]=Nn(R,$),z.drawImage(M,0,0,R,$),c*=f==="image/png"?.85:.95,Fn(L,f,s.name,s.lastModified,c).then(function(j){try{return P=j,Zt(M),M=L,E=P.size,v(Math.min(99,Math.floor((O-E)/(O-l)*100))),H}catch(V){return t(V)}},t)}return[1]},A=function(){return Zt(M),Zt(L),Zt(g),Zt(a),Zt(u),v(100),n(P)};var S=H,w=A;if(p=N,x(),_=p.size>l,y=p.size>s.size,!_&&!y)return v(100),n(p);var F;return b=s.size,O=p.size,E=O,M=a,C=!r.alwaysKeepResolution&&_,(F=(function(R){for(;R;){if(R.then)return void R.then(F,t);try{if(R.pop){if(R.length)return R.pop()?A.call(this):R;R=H}else R=R.call(this)}catch($){return t($)}}}).bind(this))(H)}}catch(H){return t(H)}}).bind(this),t)}catch(N){return t(N)}}).bind(this),t)}catch(I){return t(I)}}).bind(this),t)}catch(h){return t(h)}}).bind(this),t)})}var ls=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`,vi;function cs(s,r){return new Promise((e,n)=>{vi||(vi=(function(o){let l=[];return typeof o=="function"?l.push(`(${o})()`):l.push(o),URL.createObjectURL(new Blob(l))})(ls));let t=new Worker(vi);t.addEventListener("message",function(o){if(r.signal&&r.signal.aborted)t.terminate();else if(o.data.progress===void 0){if(o.data.error)return n(new Error(o.data.error)),void t.terminate();e(o.data.file),t.terminate()}else r.onProgress(o.data.progress)}),t.addEventListener("error",n),r.signal&&r.signal.addEventListener("abort",()=>{n(r.signal.reason),t.terminate()}),t.postMessage({file:s,imageCompressionLibUrl:r.libURL,options:Vi(te({},r),{onProgress:void 0,signal:void 0})})})}function It(s,r){return new Promise(function(e,n){let t,i,o,l,u,g;if(t=te({},r),o=0,{onProgress:l}=t,t.maxSizeMB=t.maxSizeMB||Number.POSITIVE_INFINITY,u=typeof t.useWebWorker!="boolean"||t.useWebWorker,delete t.useWebWorker,t.onProgress=f=>{o=f,typeof l=="function"&&l(o)},!(s instanceof Blob||s instanceof as))return n(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(s.type))return n(new Error("The file given is not an image"));if(g=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!u||typeof Worker!="function"||g)return qr(s,t).then((function(f){try{return i=f,c.call(this)}catch(p){return n(p)}}).bind(this),n);var d=(function(){try{return c.call(this)}catch(f){return n(f)}}).bind(this),a=function(f){try{return qr(s,t).then(function(p){try{return i=p,d()}catch(_){return n(_)}},n)}catch(p){return n(p)}};try{return t.libURL=t.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",cs(s,t).then(function(f){try{return i=f,d()}catch{return a()}},a)}catch{a()}function c(){try{i.name=s.name,i.lastModified=s.lastModified}catch{}try{t.preserveExif&&s.type==="image/jpeg"&&(!t.fileType||t.fileType&&t.fileType===s.type)&&(i=$r(s,i))}catch{}return e(i)}})}It.getDataUrlFromFile=to,It.getFilefromDataUrl=bi,It.loadImage=eo,It.drawImageInCanvas=io,It.drawFileInCanvas=Mn,It.canvasToFile=Fn,It.getExifOrientation=ro,It.handleMaxWidthOrHeight=oo,It.followExifOrientation=so,It.cleanupCanvasMemory=Zt,It.isAutoOrientationInBrowser=Pe,It.approximateBelowMaximumCanvasSizeOfBrowser=no,It.copyExifWithoutOrientation=$r,It.getBrowserName=ge,It.version="2.0.2";var Si=Gi(ao(),1),ho=Gi(co(),1);function Yt(s){return s!=null&&typeof s=="object"&&s["@@functional/placeholder"]===!0}function fn(s){return function r(e){return arguments.length===0||Yt(e)?r:s.apply(this,arguments)}}function zi(s){return function r(e,n){switch(arguments.length){case 0:return r;case 1:return Yt(e)?r:fn(function(t){return s(e,t)});default:return Yt(e)&&Yt(n)?r:Yt(e)?fn(function(t){return s(t,n)}):Yt(n)?fn(function(t){return s(e,t)}):s(e,n)}}}function ki(s,r){return Object.prototype.hasOwnProperty.call(r,s)}function ds(s){if(s==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(s),e=1,n=arguments.length;e<n;){var t=arguments[e];if(t!=null)for(var i in t)ki(i,t)&&(r[i]=t[i]);e+=1}return r}var fo=typeof Object.assign=="function"?Object.assign:ds;var fs=zi(function(r,e){return fo({},r,e)}),Me=fs;var hn=class s{imageCompress=It;renderer=nt(bn);downloadFile(r){return ee(this,null,function*(){if(r.length===1)(0,Si.saveAs)(r[0].compressedUrl,r[0].compressedFile.name);else{let e=new ho.default;for(let t of r)e.file(t.compressedFile.name,t.compressedFile);let n=yield e.generateAsync({type:"blob"});(0,Si.saveAs)(n,"organized_files.zip")}})}compressFile(r,e){return ee(this,null,function*(){let n={initialQuality:50,alwaysKeepResolution:!1,useWebWorker:!0};try{let t=Array.from(r).map(i=>ee(this,null,function*(){let o=yield this.imageCompress(i,Me(n,e)),l=yield this.imageCompress.getDataUrlFromFile(o);return{compressedFile:o,compressedUrl:l}}));return yield Promise.all(t)}catch(t){throw console.log(t),t}})}static \u0275fac=function(e){return new(e||s)};static \u0275prov=de({token:s,factory:s.\u0275fac})};var Ln=class s{el=nt(he);dropped=new gt;hovered=new gt;onDrop(r){r.preventDefault(),this.dropped.emit(r.dataTransfer?.files),this.hovered.emit(!1)}onDragOver(r){r.preventDefault(),console.log(r),this.hovered.emit(!0)}onDragLeave(r){r.preventDefault(),this.hovered.emit(!1)}static \u0275fac=function(e){return new(e||s)};static \u0275dir=Vt({type:s,selectors:[["","droparea",""]],hostBindings:function(e,n){e&1&&Ct("drop",function(i){return n.onDrop(i)})("dragover",function(i){return n.onDragOver(i)})("dragleave",function(i){return n.onDragLeave(i)})},outputs:{dropped:"dropped",hovered:"hovered"}})};var uo=class s{static formats={B:{max:1024},kB:{max:Math.pow(1024,2),prev:"B"},KB:{max:Math.pow(1024,2),prev:"B"},MB:{max:Math.pow(1024,3),prev:"kB"},GB:{max:Math.pow(1024,4),prev:"MB"},TB:{max:Number.MAX_SAFE_INTEGER,prev:"GB"}};transform(r,e=0,n="B",t){if(!(oi(r)&&oi(e)&&e%1===0&&e>=0))return r;let i=r,o=n;for(;o!=="B";)i*=1024,o=s.formats[o].prev;if(t){let l=s.formats[t],u=si(s.calculateResult(l,i),e);return s.formatResult(u,t)}for(let l in s.formats)if(s.formats.hasOwnProperty(l)){let u=s.formats[l];if(i<u.max){let g=si(s.calculateResult(u,i),e);return s.formatResult(g,l)}}}static formatResult(r,e){return`${r} ${e}`}static calculateResult(r,e){let n=r.prev?s.formats[r.prev]:void 0;return n?e/n.max:e}static \u0275fac=function(e){return new(e||s)};static \u0275pipe=De({name:"nzBytes",type:s,pure:!0})},Di=(()=>{class s{transform(e,n="px"){return typeof e=="number"?`${e}${n}`:e}static \u0275fac=function(n){return new(n||s)};static \u0275pipe=De({name:"nzToCssUnit",type:s,pure:!0})}return s})();var Ai=(()=>{class s{static \u0275fac=function(n){return new(n||s)};static \u0275mod=Se({type:s});static \u0275inj=Ce({})}return s})();function Ii(s){let r=s.cloneNode(!0),e=r.querySelectorAll("[id]"),n=s.nodeName.toLowerCase();r.removeAttribute("id");for(let t=0;t<e.length;t++)e[t].removeAttribute("id");return n==="canvas"?go(s,r):(n==="input"||n==="select"||n==="textarea")&&mo(s,r),po("canvas",s,r,go),po("input, textarea, select",s,r,mo),r}function po(s,r,e,n){let t=r.querySelectorAll(s);if(t.length){let i=e.querySelectorAll(s);for(let o=0;o<t.length;o++)n(t[o],i[o])}}var us=0;function mo(s,r){r.type!=="file"&&(r.value=s.value),r.type==="radio"&&r.name&&(r.name=`mat-clone-${r.name}-${us++}`)}function go(s,r){let e=r.getContext("2d");if(e)try{e.drawImage(s,0,0)}catch{}}function Li(s){let r=s.getBoundingClientRect();return{top:r.top,right:r.right,bottom:r.bottom,left:r.left,width:r.width,height:r.height,x:r.x,y:r.y}}function Ri(s,r,e){let{top:n,bottom:t,left:i,right:o}=s;return e>=n&&e<=t&&r>=i&&r<=o}function ps(s,r){let e=r.left<s.left,n=r.left+r.width>s.right,t=r.top<s.top,i=r.top+r.height>s.bottom;return e||n||t||i}function mn(s,r,e){s.top+=r,s.bottom=s.top+s.height,s.left+=e,s.right=s.left+s.width}function _o(s,r,e,n){let{top:t,right:i,bottom:o,left:l,width:u,height:g}=s,d=u*r,a=g*r;return n>t-a&&n<o+a&&e>l-d&&e<i+d}var Bn=class{_document;positions=new Map;constructor(r){this._document=r}clear(){this.positions.clear()}cache(r){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),r.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:Li(e)})})}handleScroll(r){let e=sn(r),n=this.positions.get(e);if(!n)return null;let t=n.scrollPosition,i,o;if(e===this._document){let g=this.getViewportScrollPosition();i=g.top,o=g.left}else i=e.scrollTop,o=e.scrollLeft;let l=t.top-i,u=t.left-o;return this.positions.forEach((g,d)=>{g.clientRect&&e!==d&&e.contains(d)&&mn(g.clientRect,l,u)}),t.top=i,t.left=o,{top:l,left:u}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function Ao(s,r){let e=s.rootNodes;if(e.length===1&&e[0].nodeType===r.ELEMENT_NODE)return e[0];let n=r.createElement("div");return e.forEach(t=>n.appendChild(t)),n}function Bi(s,r,e){for(let n in r)if(r.hasOwnProperty(n)){let t=r[n];t?s.setProperty(n,t,e?.has(n)?"important":""):s.removeProperty(n)}return s}function Fe(s,r){let e=r?"":"none";Bi(s.style,{"touch-action":r?"":"none","-webkit-user-drag":r?"":"none","-webkit-tap-highlight-color":r?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function vo(s,r,e){Bi(s.style,{position:r?"":"fixed",top:r?"":"0",opacity:r?"":"0",left:r?"":"-999em"},e)}function Un(s,r){return r&&r!="none"?s+" "+r:s}function yo(s,r){s.style.width=`${r.width}px`,s.style.height=`${r.height}px`,s.style.transform=gn(r.left,r.top)}function gn(s,r){return`translate3d(${Math.round(s)}px, ${Math.round(r)}px, 0)`}function bo(s){let r=s.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(s)*r}function ms(s){let r=getComputedStyle(s),e=Ei(r,"transition-property"),n=e.find(l=>l==="transform"||l==="all");if(!n)return 0;let t=e.indexOf(n),i=Ei(r,"transition-duration"),o=Ei(r,"transition-delay");return bo(i[t])+bo(o[t])}function Ei(s,r){return s.getPropertyValue(r).split(",").map(n=>n.trim())}var gs=new Set(["position"]),Oi=class{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(r,e,n,t,i,o,l,u,g,d){this._document=r,this._rootElement=e,this._direction=n,this._initialDomRect=t,this._previewTemplate=i,this._previewClass=o,this._pickupPositionOnPage=l,this._initialTransform=u,this._zIndex=g,this._renderer=d}attach(r){this._preview=this._createPreview(),r.appendChild(this._preview),wo(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(r){this._preview.style.transform=r}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(r){this._preview.classList.add(r)}getTransitionDuration(){return ms(this._preview)}addEventListener(r,e){return this._renderer.listen(this._preview,r,e)}_createPreview(){let r=this._previewTemplate,e=this._previewClass,n=r?r.template:null,t;if(n&&r){let i=r.matchSize?this._initialDomRect:null,o=r.viewContainer.createEmbeddedView(n,r.context);o.detectChanges(),t=Ao(o,this._document),this._previewEmbeddedView=o,r.matchSize?yo(t,i):t.style.transform=gn(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else t=Ii(this._rootElement),yo(t,this._initialDomRect),this._initialTransform&&(t.style.transform=this._initialTransform);return Bi(t.style,{"pointer-events":"none",margin:wo(t)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},gs),Fe(t,!1),t.classList.add("cdk-drag-preview"),t.setAttribute("popover","manual"),t.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(i=>t.classList.add(i)):t.classList.add(e)),t}};function wo(s){return"showPopover"in s}var _s={passive:!0},Co={passive:!1},vs={passive:!1,capture:!0},ys=800,xo="cdk-drag-placeholder",zo=new Set(["position"]),Pi=class{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_marker;_anchor=null;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=qe(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new mt;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=ye.EMPTY;_pointerUpSubscription=ye.EMPTY;_scrollSubscription=ye.EMPTY;_resizeSubscription=ye.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(r){r!==this._disabled&&(this._disabled=r,this._toggleNativeDragInteractions(),this._handles.forEach(e=>Fe(e,r)))}_disabled=!1;beforeStarted=new mt;started=new mt;released=new mt;ended=new mt;entered=new mt;exited=new mt;dropped=new mt;moved=this._moveEvents;data;constrainPosition;constructor(r,e,n,t,i,o,l){this._config=e,this._document=n,this._ngZone=t,this._viewportRuler=i,this._dragDropRegistry=o,this._renderer=l,this.withRootElement(r).withParent(e.parentDragRef||null),this._parentPositions=new Bn(n),o.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(r){this._handles=r.map(n=>$t(n)),this._handles.forEach(n=>Fe(n,this.disabled)),this._toggleNativeDragInteractions();let e=new Set;return this._disabledHandles.forEach(n=>{this._handles.indexOf(n)>-1&&e.add(n)}),this._disabledHandles=e,this}withPreviewTemplate(r){return this._previewTemplate=r,this}withPlaceholderTemplate(r){return this._placeholderTemplate=r,this}withRootElement(r){let e=$t(r);if(e!==this._rootElement){this._removeRootElementListeners();let n=this._renderer;this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[n.listen(e,"mousedown",this._pointerDown,Co),n.listen(e,"touchstart",this._pointerDown,_s),n.listen(e,"dragstart",this._nativeDragStart,Co)]),this._initialTransform=void 0,this._rootElement=e}return typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(r){return this._boundaryElement=r?$t(r):null,this._resizeSubscription.unsubscribe(),r&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(r){return this._parentDragRef=r,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._marker?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._marker=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}resetToBoundary(){if(this._boundaryElement&&this._rootElement&&ps(this._boundaryElement.getBoundingClientRect(),this._rootElement.getBoundingClientRect())){let r=this._boundaryElement.getBoundingClientRect(),e=this._rootElement.getBoundingClientRect(),n=0,t=0;e.left<r.left?n=r.left-e.left:e.right>r.right&&(n=r.right-e.right),e.top<r.top?t=r.top-e.top:e.bottom>r.bottom&&(t=r.bottom-e.bottom);let i=this._activeTransform.x,o=this._activeTransform.y,l=i+n,u=o+t;this._rootElement.style.transform=gn(l,u),this._activeTransform={x:l,y:u},this._passiveTransform={x:l,y:u}}}disableHandle(r){!this._disabledHandles.has(r)&&this._handles.indexOf(r)>-1&&(this._disabledHandles.add(r),Fe(r,!0))}enableHandle(r){this._disabledHandles.has(r)&&(this._disabledHandles.delete(r),Fe(r,this.disabled))}withDirection(r){return this._direction=r,this}_withDropContainer(r){this._dropContainer=r}getFreeDragPosition(){let r=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:r.x,y:r.y}}setFreeDragPosition(r){return this._activeTransform={x:0,y:0},this._passiveTransform.x=r.x,this._passiveTransform.y=r.y,this._dropContainer||this._applyRootElementTransform(r.x,r.y),this}withPreviewContainer(r){return this._previewContainer=r,this}_sortFromLastPointerPosition(){let r=this._lastKnownPointerPosition;r&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(r),r)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._anchor?.remove(),this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._anchor=this._placeholderRef=null}_pointerDown=r=>{if(this.beforeStarted.next(),this._handles.length){let e=this._getTargetHandle(r);e&&!this._disabledHandles.has(e)&&!this.disabled&&this._initializeDragSequence(e,r)}else this.disabled||this._initializeDragSequence(this._rootElement,r)};_pointerMove=r=>{let e=this._getPointerPositionOnPage(r);if(!this._hasStartedDragging()){let t=Math.abs(e.x-this._pickupPositionOnPage.x),i=Math.abs(e.y-this._pickupPositionOnPage.y);if(t+i>=this._config.dragStartThreshold){let l=Date.now()>=this._dragStartTime+this._getDragStartDelay(r),u=this._dropContainer;if(!l){this._endDragSequence(r);return}(!u||!u.isDragging()&&!u.isReceiving())&&(r.cancelable&&r.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(r)))}return}r.cancelable&&r.preventDefault();let n=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._lastKnownPointerPosition=e,this._updatePointerDirectionDelta(n),this._dropContainer)this._updateActiveDropContainer(n,e);else{let t=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,i=this._activeTransform;i.x=n.x-t.x+this._passiveTransform.x,i.y=n.y-t.y+this._passiveTransform.y,this._applyRootElementTransform(i.x,i.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:n,event:r,distance:this._getDragDistance(n),delta:this._pointerDirectionDelta})})};_pointerUp=r=>{this._endDragSequence(r)};_endDragSequence(r){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:r}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(r),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let e=this._getPointerPositionOnPage(r);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:r})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(r){un(r)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let e=this._getShadowRoot(),n=this._dropContainer;if(e&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=this._renderer.listen(e,"selectstart",bs,vs)}),n){let t=this._rootElement,i=t.parentNode,o=this._placeholder=this._createPlaceholderElement(),l=this._marker=this._marker||this._document.createComment("");i.insertBefore(l,t),this._initialTransform=t.style.transform||"",this._preview=new Oi(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(i,e)),vo(t,!1,zo),this._document.body.appendChild(i.replaceChild(o,t)),this.started.next({source:this,event:r}),n.start(),this._initialContainer=n,this._initialIndex=n.getItemIndex(this)}else this.started.next({source:this,event:r}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(n?n.getScrollableParents():[])}_initializeDragSequence(r,e){this._parentDragRef&&e.stopPropagation();let n=this.isDragging(),t=un(e),i=!t&&e.button!==0,o=this._rootElement,l=sn(e),u=!t&&this._lastTouchEventTime&&this._lastTouchEventTime+ys>Date.now(),g=t?Wr(e):jr(e);if(l&&l.draggable&&e.type==="mousedown"&&e.preventDefault(),n||i||u||g)return;if(this._handles.length){let c=o.style;this._rootElementTapHighlight=c.webkitTapHighlightColor||"",c.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(c=>this._updateOnScroll(c)),this._boundaryElement&&(this._boundaryRect=Li(this._boundaryElement));let d=this._previewTemplate;this._pickupPositionInElement=d&&d.template&&!d.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,r,e);let a=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:a.x,y:a.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(r){vo(this._rootElement,!0,zo),this._marker.parentNode.replaceChild(this._rootElement,this._marker),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let e=this._dropContainer,n=e.getItemIndex(this),t=this._getPointerPositionOnPage(r),i=this._getDragDistance(t),o=e._isOverContainer(t.x,t.y);this.ended.next({source:this,distance:i,dropPoint:t,event:r}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:i,dropPoint:t,event:r}),e.drop(this,n,this._initialIndex,this._initialContainer,o,i,t,r),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:r,y:e},{x:n,y:t}){let i=this._initialContainer._getSiblingContainerFromPosition(this,r,e);!i&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(r,e)&&(i=this._initialContainer),i&&i!==this._dropContainer&&this._ngZone.run(()=>{let o=this._dropContainer.getItemIndex(this),l=this._dropContainer.getItemAtIndex(o+1)?.getVisibleElement()||null;this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._conditionallyInsertAnchor(i,this._dropContainer,l),this._dropContainer=i,this._dropContainer.enter(this,r,e,i===this._initialContainer&&i.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:i,currentIndex:i.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(n,t),this._dropContainer._sortItem(this,r,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(r,e):this._applyPreviewTransform(r-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let r=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(r.left,r.top);let e=this._preview.getTransitionDuration();return e===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(n=>{let t=l=>{(!l||this._preview&&sn(l)===this._preview.element&&l.propertyName==="transform")&&(o(),n(),clearTimeout(i))},i=setTimeout(t,e*1.5),o=this._preview.addEventListener("transitionend",t)}))}_createPlaceholderElement(){let r=this._placeholderTemplate,e=r?r.template:null,n;return e?(this._placeholderRef=r.viewContainer.createEmbeddedView(e,r.context),this._placeholderRef.detectChanges(),n=Ao(this._placeholderRef,this._document)):n=Ii(this._rootElement),n.style.pointerEvents="none",n.classList.add(xo),n}_getPointerPositionInElement(r,e,n){let t=e===this._rootElement?null:e,i=t?t.getBoundingClientRect():r,o=un(n)?n.targetTouches[0]:n,l=this._getViewportScrollPosition(),u=o.pageX-i.left-l.left,g=o.pageY-i.top-l.top;return{x:i.left-r.left+u,y:i.top-r.top+g}}_getPointerPositionOnPage(r){let e=this._getViewportScrollPosition(),n=un(r)?r.touches[0]||r.changedTouches[0]||{pageX:0,pageY:0}:r,t=n.pageX-e.left,i=n.pageY-e.top;if(this._ownerSVGElement){let o=this._ownerSVGElement.getScreenCTM();if(o){let l=this._ownerSVGElement.createSVGPoint();return l.x=t,l.y=i,l.matrixTransform(o.inverse())}}return{x:t,y:i}}_getConstrainedPointerPosition(r){let e=this._dropContainer?this._dropContainer.lockAxis:null,{x:n,y:t}=this.constrainPosition?this.constrainPosition(r,this,this._initialDomRect,this._pickupPositionInElement):r;if(this.lockAxis==="x"||e==="x"?t=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||e==="y")&&(n=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:i,y:o}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,l=this._boundaryRect,{width:u,height:g}=this._getPreviewRect(),d=l.top+o,a=l.bottom-(g-o),c=l.left+i,f=l.right-(u-i);n=ko(n,c,f),t=ko(t,d,a)}return{x:n,y:t}}_updatePointerDirectionDelta(r){let{x:e,y:n}=r,t=this._pointerDirectionDelta,i=this._pointerPositionAtLastDirectionChange,o=Math.abs(e-i.x),l=Math.abs(n-i.y);return o>this._config.pointerDirectionChangeThreshold&&(t.x=e>i.x?1:-1,i.x=e),l>this._config.pointerDirectionChangeThreshold&&(t.y=n>i.y?1:-1,i.y=n),t}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let r=this._handles.length>0||!this.isDragging();r!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=r,Fe(this._rootElement,r))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(r=>r()),this._rootElementCleanups=void 0}_applyRootElementTransform(r,e){let n=1/this.scale,t=gn(r*n,e*n),i=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=i.transform&&i.transform!="none"?i.transform:""),i.transform=Un(t,this._initialTransform)}_applyPreviewTransform(r,e){let n=this._previewTemplate?.template?void 0:this._initialTransform,t=gn(r,e);this._preview.setTransform(Un(t,n))}_getDragDistance(r){let e=this._pickupPositionOnPage;return e?{x:r.x-e.x,y:r.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:r,y:e}=this._passiveTransform;if(r===0&&e===0||this.isDragging()||!this._boundaryElement)return;let n=this._rootElement.getBoundingClientRect(),t=this._boundaryElement.getBoundingClientRect();if(t.width===0&&t.height===0||n.width===0&&n.height===0)return;let i=t.left-n.left,o=n.right-t.right,l=t.top-n.top,u=n.bottom-t.bottom;t.width>n.width?(i>0&&(r+=i),o>0&&(r-=o)):r=0,t.height>n.height?(l>0&&(e+=l),u>0&&(e-=u)):e=0,(r!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:r})}_getDragStartDelay(r){let e=this.dragStartDelay;return typeof e=="number"?e:un(r)?e.touch:e?e.mouse:0}_updateOnScroll(r){let e=this._parentPositions.handleScroll(r);if(e){let n=sn(r);this._boundaryRect&&n!==this._boundaryElement&&n.contains(this._boundaryElement)&&mn(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=En(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(r,e){let n=this._previewContainer||"global";if(n==="parent")return r;if(n==="global"){let t=this._document;return e||t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement||t.body}return $t(n)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=r=>{if(this._handles.length){let e=this._getTargetHandle(r);e&&!this._disabledHandles.has(e)&&!this.disabled&&r.preventDefault()}else this.disabled||r.preventDefault()};_getTargetHandle(r){return this._handles.find(e=>r.target&&(r.target===e||e.contains(r.target)))}_conditionallyInsertAnchor(r,e,n){if(r===this._initialContainer)this._anchor?.remove(),this._anchor=null;else if(e===this._initialContainer&&e.hasAnchor){let t=this._anchor??=Ii(this._placeholder);t.classList.remove(xo),t.classList.add("cdk-drag-anchor"),t.style.transform="",n?n.before(t):$t(e.element).appendChild(t)}}};function ko(s,r,e){return Math.max(r,Math.min(e,s))}function un(s){return s.type[0]==="t"}function bs(s){s.preventDefault()}function Eo(s,r,e){let n=So(r,s.length-1),t=So(e,s.length-1);if(n===t)return;let i=s[n],o=t<n?-1:1;for(let l=n;l!==t;l+=o)s[l]=s[l+o];s[t]=i}function So(s,r){return Math.max(0,Math.min(r,s))}var Hn=class{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(r){this._dragDropRegistry=r}_previousSwap={drag:null,delta:0,overlaps:!1};start(r){this.withItems(r)}sort(r,e,n,t){let i=this._itemPositions,o=this._getItemIndexFromPointerPosition(r,e,n,t);if(o===-1&&i.length>0)return null;let l=this.orientation==="horizontal",u=i.findIndex(y=>y.drag===r),g=i[o],d=i[u].clientRect,a=g.clientRect,c=u>o?1:-1,f=this._getItemOffsetPx(d,a,c),p=this._getSiblingOffsetPx(u,i,c),_=i.slice();return Eo(i,u,o),i.forEach((y,b)=>{if(_[b]===y)return;let O=y.drag===r,E=O?f:p,P=O?r.getPlaceholderElement():y.drag.getRootElement();y.offset+=E;let L=Math.round(y.offset*(1/y.drag.scale));l?(P.style.transform=Un(`translate3d(${L}px, 0, 0)`,y.initialTransform),mn(y.clientRect,0,E)):(P.style.transform=Un(`translate3d(0, ${L}px, 0)`,y.initialTransform),mn(y.clientRect,E,0))}),this._previousSwap.overlaps=Ri(a,e,n),this._previousSwap.drag=g.drag,this._previousSwap.delta=l?t.x:t.y,{previousIndex:u,currentIndex:o}}enter(r,e,n,t){let i=t==null||t<0?this._getItemIndexFromPointerPosition(r,e,n):t,o=this._activeDraggables,l=o.indexOf(r),u=r.getPlaceholderElement(),g=o[i];if(g===r&&(g=o[i+1]),!g&&(i==null||i===-1||i<o.length-1)&&this._shouldEnterAsFirstChild(e,n)&&(g=o[0]),l>-1&&o.splice(l,1),g&&!this._dragDropRegistry.isDragging(g)){let d=g.getRootElement();d.parentElement.insertBefore(u,d),o.splice(i,0,r)}else this._element.appendChild(u),o.push(r);u.style.transform="",this._cacheItemPositions()}withItems(r){this._activeDraggables=r.slice(),this._cacheItemPositions()}withSortPredicate(r){this._sortPredicate=r}reset(){this._activeDraggables?.forEach(r=>{let e=r.getRootElement();if(e){let n=this._itemPositions.find(t=>t.drag===r)?.initialTransform;e.style.transform=n||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(r){return this._getVisualItemPositions().findIndex(e=>e.drag===r)}getItemAtIndex(r){return this._getVisualItemPositions()[r]?.drag||null}updateOnScroll(r,e){this._itemPositions.forEach(({clientRect:n})=>{mn(n,r,e)}),this._itemPositions.forEach(({drag:n})=>{this._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()})}withElementContainer(r){this._element=r}_cacheItemPositions(){let r=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(e=>{let n=e.getVisibleElement();return{drag:e,offset:0,initialTransform:n.style.transform||"",clientRect:Li(n)}}).sort((e,n)=>r?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top)}_getVisualItemPositions(){return this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions}_getItemOffsetPx(r,e,n){let t=this.orientation==="horizontal",i=t?e.left-r.left:e.top-r.top;return n===-1&&(i+=t?e.width-r.width:e.height-r.height),i}_getSiblingOffsetPx(r,e,n){let t=this.orientation==="horizontal",i=e[r].clientRect,o=e[r+n*-1],l=i[t?"width":"height"]*n;if(o){let u=t?"left":"top",g=t?"right":"bottom";n===-1?l-=o.clientRect[u]-i[g]:l+=i[u]-o.clientRect[g]}return l}_shouldEnterAsFirstChild(r,e){if(!this._activeDraggables.length)return!1;let n=this._itemPositions,t=this.orientation==="horizontal";if(n[0].drag!==this._activeDraggables[0]){let o=n[n.length-1].clientRect;return t?r>=o.right:e>=o.bottom}else{let o=n[0].clientRect;return t?r<=o.left:e<=o.top}}_getItemIndexFromPointerPosition(r,e,n,t){let i=this.orientation==="horizontal",o=this._itemPositions.findIndex(({drag:l,clientRect:u})=>{if(l===r)return!1;if(t){let g=i?t.x:t.y;if(l===this._previousSwap.drag&&this._previousSwap.overlaps&&g===this._previousSwap.delta)return!1}return i?e>=Math.floor(u.left)&&e<Math.floor(u.right):n>=Math.floor(u.top)&&n<Math.floor(u.bottom)});return o===-1||!this._sortPredicate(o,r)?-1:o}},Mi=class{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(r,e){this._document=r,this._dragDropRegistry=e}start(r){let e=this._element.childNodes;this._relatedNodes=[];for(let n=0;n<e.length;n++){let t=e[n];this._relatedNodes.push([t,t.nextSibling])}this.withItems(r)}sort(r,e,n,t){let i=this._getItemIndexFromPointerPosition(r,e,n),o=this._previousSwap;if(i===-1||this._activeItems[i]===r)return null;let l=this._activeItems[i];if(o.drag===l&&o.overlaps&&o.deltaX===t.x&&o.deltaY===t.y)return null;let u=this.getItemIndex(r),g=r.getPlaceholderElement(),d=l.getRootElement();i>u?d.after(g):d.before(g),Eo(this._activeItems,u,i);let a=this._getRootNode().elementFromPoint(e,n);return o.deltaX=t.x,o.deltaY=t.y,o.drag=l,o.overlaps=d===a||d.contains(a),{previousIndex:u,currentIndex:i}}enter(r,e,n,t){let i=this._activeItems.indexOf(r);i>-1&&this._activeItems.splice(i,1);let o=t==null||t<0?this._getItemIndexFromPointerPosition(r,e,n):t;o===-1&&(o=this._getClosestItemIndexToPointer(r,e,n));let l=this._activeItems[o];l&&!this._dragDropRegistry.isDragging(l)?(this._activeItems.splice(o,0,r),l.getRootElement().before(r.getPlaceholderElement())):(this._activeItems.push(r),this._element.appendChild(r.getPlaceholderElement()))}withItems(r){this._activeItems=r.slice()}withSortPredicate(r){this._sortPredicate=r}reset(){let r=this._element,e=this._previousSwap;for(let n=this._relatedNodes.length-1;n>-1;n--){let[t,i]=this._relatedNodes[n];t.parentNode===r&&t.nextSibling!==i&&(i===null?r.appendChild(t):i.parentNode===r&&r.insertBefore(t,i))}this._relatedNodes=[],this._activeItems=[],e.drag=null,e.deltaX=e.deltaY=0,e.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(r){return this._activeItems.indexOf(r)}getItemAtIndex(r){return this._activeItems[r]||null}updateOnScroll(){this._activeItems.forEach(r=>{this._dragDropRegistry.isDragging(r)&&r._sortFromLastPointerPosition()})}withElementContainer(r){r!==this._element&&(this._element=r,this._rootNode=void 0)}_getItemIndexFromPointerPosition(r,e,n){let t=this._getRootNode().elementFromPoint(Math.floor(e),Math.floor(n)),i=t?this._activeItems.findIndex(o=>{let l=o.getRootElement();return t===l||l.contains(t)}):-1;return i===-1||!this._sortPredicate(i,r)?-1:i}_getRootNode(){return this._rootNode||(this._rootNode=En(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(r,e,n){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let t=1/0,i=-1;for(let o=0;o<this._activeItems.length;o++){let l=this._activeItems[o];if(l!==r){let{x:u,y:g}=l.getRootElement().getBoundingClientRect(),d=Math.hypot(e-u,n-g);d<t&&(t=d,i=o)}}return i}},Do=.05,To=.05,Bt=(function(s){return s[s.NONE=0]="NONE",s[s.UP=1]="UP",s[s.DOWN=2]="DOWN",s})(Bt||{}),Ot=(function(s){return s[s.NONE=0]="NONE",s[s.LEFT=1]="LEFT",s[s.RIGHT=2]="RIGHT",s})(Ot||{}),Fi=class{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis;autoScrollDisabled=!1;autoScrollStep=2;hasAnchor=!1;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new mt;entered=new mt;exited=new mt;dropped=new mt;sorted=new mt;receivingStarted=new mt;receivingStopped=new mt;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=ye.EMPTY;_verticalScrollDirection=Bt.NONE;_horizontalScrollDirection=Ot.NONE;_scrollNode;_stopScrollTimers=new mt;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(r,e,n,t,i){this._dragDropRegistry=e,this._ngZone=t,this._viewportRuler=i;let o=this.element=$t(r);this._document=n,this.withOrientation("vertical").withElementContainer(o),e.registerDropContainer(this),this._parentPositions=new Bn(n)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(r,e,n,t){this._draggingStarted(),t==null&&this.sortingDisabled&&(t=this._draggables.indexOf(r)),this._sortStrategy.enter(r,e,n,t),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:r,container:this,currentIndex:this.getItemIndex(r)})}exit(r){this._reset(),this.exited.next({item:r,container:this})}drop(r,e,n,t,i,o,l,u={}){this._reset(),this.dropped.next({item:r,currentIndex:e,previousIndex:n,container:this,previousContainer:t,isPointerOverContainer:i,distance:o,dropPoint:l,event:u})}withItems(r){let e=this._draggables;return this._draggables=r,r.forEach(n=>n._withDropContainer(this)),this.isDragging()&&(e.filter(t=>t.isDragging()).every(t=>r.indexOf(t)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(r){return this._direction=r,this._sortStrategy instanceof Hn&&(this._sortStrategy.direction=r),this}connectedTo(r){return this._siblings=r.slice(),this}withOrientation(r){if(r==="mixed")this._sortStrategy=new Mi(this._document,this._dragDropRegistry);else{let e=new Hn(this._dragDropRegistry);e.direction=this._direction,e.orientation=r,this._sortStrategy=e}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((e,n)=>this.sortPredicate(e,n,this)),this}withScrollableParents(r){let e=this._container;return this._scrollableElements=r.indexOf(e)===-1?[e,...r]:r.slice(),this}withElementContainer(r){if(r===this._container)return this;let e=$t(this.element),n=this._scrollableElements.indexOf(this._container),t=this._scrollableElements.indexOf(r);return n>-1&&this._scrollableElements.splice(n,1),t>-1&&this._scrollableElements.splice(t,1),this._sortStrategy&&this._sortStrategy.withElementContainer(r),this._cachedShadowRoot=null,this._scrollableElements.unshift(r),this._container=r,this}getScrollableParents(){return this._scrollableElements}getItemIndex(r){return this._isDragging?this._sortStrategy.getItemIndex(r):this._draggables.indexOf(r)}getItemAtIndex(r){return this._isDragging?this._sortStrategy.getItemAtIndex(r):this._draggables[r]||null}isReceiving(){return this._activeSiblings.size>0}_sortItem(r,e,n,t){if(this.sortingDisabled||!this._domRect||!_o(this._domRect,Do,e,n))return;let i=this._sortStrategy.sort(r,e,n,t);i&&this.sorted.next({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:r})}_startScrollingIfNecessary(r,e){if(this.autoScrollDisabled)return;let n,t=Bt.NONE,i=Ot.NONE;if(this._parentPositions.positions.forEach((o,l)=>{l===this._document||!o.clientRect||n||_o(o.clientRect,Do,r,e)&&([t,i]=ws(l,o.clientRect,this._direction,r,e),(t||i)&&(n=l))}),!t&&!i){let{width:o,height:l}=this._viewportRuler.getViewportSize(),u={width:o,height:l,top:0,right:o,bottom:l,left:0};t=Io(u,e),i=Ro(u,r),n=window}n&&(t!==this._verticalScrollDirection||i!==this._horizontalScrollDirection||n!==this._scrollNode)&&(this._verticalScrollDirection=t,this._horizontalScrollDirection=i,this._scrollNode=n,(t||i)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let r=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=r.msScrollSnapType||r.scrollSnapType||"",r.scrollSnapType=r.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let r=this._container.style;r.scrollSnapType=r.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),tr(0,qi).pipe(ne(this._stopScrollTimers)).subscribe(()=>{let r=this._scrollNode,e=this.autoScrollStep;this._verticalScrollDirection===Bt.UP?r.scrollBy(0,-e):this._verticalScrollDirection===Bt.DOWN&&r.scrollBy(0,e),this._horizontalScrollDirection===Ot.LEFT?r.scrollBy(-e,0):this._horizontalScrollDirection===Ot.RIGHT&&r.scrollBy(e,0)})};_isOverContainer(r,e){return this._domRect!=null&&Ri(this._domRect,r,e)}_getSiblingContainerFromPosition(r,e,n){return this._siblings.find(t=>t._canReceive(r,e,n))}_canReceive(r,e,n){if(!this._domRect||!Ri(this._domRect,e,n)||!this.enterPredicate(r,this))return!1;let t=this._getShadowRoot().elementFromPoint(e,n);return t?t===this._container||this._container.contains(t):!1}_startReceiving(r,e){let n=this._activeSiblings;!n.has(r)&&e.every(t=>this.enterPredicate(t,this)||this._draggables.indexOf(t)>-1)&&(n.add(r),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:r,receiver:this,items:e}))}_stopReceiving(r){this._activeSiblings.delete(r),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:r,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(r=>{if(this.isDragging()){let e=this._parentPositions.handleScroll(r);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let r=En(this._container);this._cachedShadowRoot=r||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let r=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,r))}};function Io(s,r){let{top:e,bottom:n,height:t}=s,i=t*To;return r>=e-i&&r<=e+i?Bt.UP:r>=n-i&&r<=n+i?Bt.DOWN:Bt.NONE}function Ro(s,r){let{left:e,right:n,width:t}=s,i=t*To;return r>=e-i&&r<=e+i?Ot.LEFT:r>=n-i&&r<=n+i?Ot.RIGHT:Ot.NONE}function ws(s,r,e,n,t){let i=Io(r,t),o=Ro(r,n),l=Bt.NONE,u=Ot.NONE;if(i){let g=s.scrollTop;i===Bt.UP?g>0&&(l=Bt.UP):s.scrollHeight-g>s.clientHeight&&(l=Bt.DOWN)}if(o){let g=s.scrollLeft;e==="rtl"?o===Ot.RIGHT?g<0&&(u=Ot.RIGHT):s.scrollWidth+g>s.clientWidth&&(u=Ot.LEFT):o===Ot.LEFT?g>0&&(u=Ot.LEFT):s.scrollWidth-g>s.clientWidth&&(u=Ot.RIGHT)}return[l,u]}var pn={capture:!0},Ti={passive:!1,capture:!0},Cs=(()=>{class s{static \u0275fac=function(n){return new(n||s)};static \u0275cmp=Nt({type:s,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(n,t){},styles:[`@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}
`],encapsulation:2,changeDetection:0})}return s})(),Ui=(()=>{class s{_ngZone=nt(Ae);_document=nt(Ge);_styleLoader=nt(Ir);_renderer=nt(qn).createRenderer(null,null);_cleanupDocumentTouchmove;_scroll=new mt;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=qe([]);_globalListeners;_draggingPredicate=e=>e.isDragging();_domNodesToDirectives=null;pointerMove=new mt;pointerUp=new mt;constructor(){}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=this._renderer.listen(this._document,"touchmove",this._persistentTouchmoveListener,Ti)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),this._dragInstances.size===0&&this._cleanupDocumentTouchmove?.()}startDragging(e,n){if(!(this._activeDragInstances().indexOf(e)>-1)&&(this._styleLoader.load(Cs),this._activeDragInstances.update(t=>[...t,e]),this._activeDragInstances().length===1)){let t=n.type.startsWith("touch"),i=l=>this.pointerUp.next(l),o=[["scroll",l=>this._scroll.next(l),pn],["selectstart",this._preventDefaultWhileDragging,Ti]];t?o.push(["touchend",i,pn],["touchcancel",i,pn]):o.push(["mouseup",i,pn]),t||o.push(["mousemove",l=>this.pointerMove.next(l),Ti]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=o.map(([l,u,g])=>this._renderer.listen(this._document,l,u,g))})}}stopDragging(e){this._activeDragInstances.update(n=>{let t=n.indexOf(e);return t>-1?(n.splice(t,1),[...n]):n}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(e){return this._activeDragInstances().indexOf(e)>-1}scrolled(e){let n=[this._scroll];return e&&e!==this._document&&n.push(new Ve(t=>this._ngZone.runOutsideAngular(()=>{let i=this._renderer.listen(e,"scroll",o=>{this._activeDragInstances().length&&t.next(o)},pn);return()=>{i()}}))),Gn(...n)}registerDirectiveNode(e,n){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(e,n)}removeDirectiveNode(e){this._domNodesToDirectives?.delete(e)}getDragDirectiveForNode(e){return this._domNodesToDirectives?.get(e)||null}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=e=>{this._activeDragInstances().length>0&&e.preventDefault()};_persistentTouchmoveListener=e=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&e.preventDefault(),this.pointerMove.next(e))};_clearGlobalListeners(){this._globalListeners?.forEach(e=>e()),this._globalListeners=void 0}static \u0275fac=function(n){return new(n||s)};static \u0275prov=de({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),xs={dragStartThreshold:5,pointerDirectionChangeThreshold:5},zs=(()=>{class s{_document=nt(Ge);_ngZone=nt(Ae);_viewportRuler=nt(Rr);_dragDropRegistry=nt(Ui);_renderer=nt(qn).createRenderer(null,null);constructor(){}createDrag(e,n=xs){return new Pi(e,n,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(e){return new Fi(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(n){return new(n||s)};static \u0275prov=de({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),Ni=new fe("CDK_DRAG_PARENT");var Oo=new fe("CdkDragHandle"),Po=(()=>{class s{element=nt(he);_parentDrag=nt(Ni,{optional:!0,skipSelf:!0});_dragDropRegistry=nt(Ui);_stateChanges=new mt;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._stateChanges.next(this)}_disabled=!1;constructor(){this._parentDrag?._addHandle(this)}ngAfterViewInit(){if(!this._parentDrag){let e=this.element.nativeElement.parentElement;for(;e;){let n=this._dragDropRegistry.getDragDirectiveForNode(e);if(n){this._parentDrag=n,n._addHandle(this);break}e=e.parentElement}}}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static \u0275fac=function(n){return new(n||s)};static \u0275dir=Vt({type:s,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[2,"cdkDragHandleDisabled","disabled",zt]},features:[rn([{provide:Oo,useExisting:s}])]})}return s})(),ks=new fe("CDK_DRAG_CONFIG"),Ss=new fe("CdkDropList"),Mo=(()=>{class s{element=nt(he);dropContainer=nt(Ss,{optional:!0,skipSelf:!0});_ngZone=nt(Ae);_viewContainerRef=nt(wn);_dir=nt(Re,{optional:!0});_changeDetectorRef=nt(pe);_selfHandle=nt(Oo,{optional:!0,self:!0});_parentDrag=nt(Ni,{optional:!0,skipSelf:!0});_dragDropRegistry=nt(Ui);_destroyed=new mt;_handles=new yn([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!!(this.dropContainer&&this.dropContainer.disabled)}set disabled(e){this._disabled=e,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new gt;released=new gt;ended=new gt;entered=new gt;exited=new gt;dropped=new gt;moved=new Ve(e=>{let n=this._dragRef.moved.pipe(Xi(t=>({source:this,pointerPosition:t.pointerPosition,event:t.event,delta:t.delta,distance:t.distance}))).subscribe(e);return()=>{n.unsubscribe()}});_injector=nt(xe);constructor(){let e=this.dropContainer,n=nt(ks,{optional:!0}),t=nt(zs);this._dragRef=t.createDrag(this.element,{dragStartThreshold:n&&n.dragStartThreshold!=null?n.dragStartThreshold:5,pointerDirectionChangeThreshold:n&&n.pointerDirectionChangeThreshold!=null?n.pointerDirectionChangeThreshold:5,zIndex:n?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),n&&this._assignDefaults(n),e&&(e.addItem(this),e._dropListRef.beforeStarted.pipe(ne(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}resetToBoundary(){this._dragRef.resetToBoundary()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){or(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(e){let n=e.rootElementSelector,t=e.freeDragPosition;n&&!n.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,t&&!t.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(e){let n=this._handles.getValue();n.push(e),this._handles.next(n)}_removeHandle(e){let n=this._handles.getValue(),t=n.indexOf(e);t>-1&&(n.splice(t,1),this._handles.next(n))}_setPreviewTemplate(e){this._previewTemplate=e}_resetPreviewTemplate(e){e===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(e){this._placeholderTemplate=e}_resetPlaceholderTemplate(e){e===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let e=this.element.nativeElement,n=e;this.rootElementSelector&&(n=e.closest!==void 0?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(n||e)}_getBoundaryElement(){let e=this.boundaryElement;return e?typeof e=="string"?this.element.nativeElement.closest(e):$t(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){let n=this._dir,t=this.dragStartDelay,i=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,o=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.scale=this.scale,e.dragStartDelay=typeof t=="object"&&t?t:zr(t),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(i).withPreviewTemplate(o).withPreviewContainer(this.previewContainer||"global"),n&&e.withDirection(n.value)}}),e.beforeStarted.pipe(be(1)).subscribe(()=>{if(this._parentDrag){e.withParent(this._parentDrag._dragRef);return}let n=this.element.nativeElement.parentElement;for(;n;){let t=this._dragDropRegistry.getDragDirectiveForNode(n);if(t){e.withParent(t._dragRef);break}n=n.parentElement}})}_handleEvents(e){e.started.subscribe(n=>{this.started.emit({source:this,event:n.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(n=>{this.released.emit({source:this,event:n.event})}),e.ended.subscribe(n=>{this.ended.emit({source:this,distance:n.distance,dropPoint:n.dropPoint,event:n.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(n=>{this.entered.emit({container:n.container.data,item:this,currentIndex:n.currentIndex})}),e.exited.subscribe(n=>{this.exited.emit({container:n.container.data,item:this})}),e.dropped.subscribe(n=>{this.dropped.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,previousContainer:n.previousContainer.data,container:n.container.data,isPointerOverContainer:n.isPointerOverContainer,item:this,distance:n.distance,dropPoint:n.dropPoint,event:n.event})})}_assignDefaults(e){let{lockAxis:n,dragStartDelay:t,constrainPosition:i,previewClass:o,boundaryElement:l,draggingDisabled:u,rootElementSelector:g,previewContainer:d}=e;this.disabled=u??!1,this.dragStartDelay=t||0,n&&(this.lockAxis=n),i&&(this.constrainPosition=i),o&&(this.previewClass=o),l&&(this.boundaryElement=l),g&&(this.rootElementSelector=g),d&&(this.previewContainer=d)}_setupHandlesListener(){this._handles.pipe(nr(e=>{let n=e.map(t=>t.element);this._selfHandle&&this.rootElementSelector&&n.push(this.element),this._dragRef.withHandles(n)}),Qe(e=>Gn(...e.map(n=>n._stateChanges.pipe(we(n))))),ne(this._destroyed)).subscribe(e=>{let n=this._dragRef,t=e.element.nativeElement;e.disabled?n.disableHandle(t):n.enableHandle(t)})}static \u0275fac=function(n){return new(n||s)};static \u0275dir=Vt({type:s,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(n,t){n&2&&Gt("cdk-drag-disabled",t.disabled)("cdk-drag-dragging",t._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",zt],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",Ie]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[rn([{provide:Ni,useExisting:s}]),ze]})}return s})();var As=["nz-modal-close",""];function Es(s,r){if(s&1&&(Xe(0),Pt(1,"nz-icon",2),Je()),s&2){let e=r.$implicit;st(),_t("nzType",e)}}var Bo=["modalElement"];function Ts(s,r){if(s&1){let e=Rt();ot(0,"button",16),Ct("click",function(){St(e);let t=lt();return Dt(t.onCloseClick())}),dt()}}function Is(s,r){if(s&1&&(Xe(0),Pt(1,"span",12),Je()),s&2){let e=lt();st(),_t("innerHTML",e.config.nzTitle,ke)}}function Rs(s,r){}function Os(s,r){if(s&1&&Pt(0,"div",12),s&2){let e=lt();_t("innerHTML",e.config.nzContent,ke)}}function Ps(s,r){if(s&1){let e=Rt();ot(0,"button",17),Ct("click",function(){St(e);let t=lt();return Dt(t.onCancel())}),vt(1),dt()}if(s&2){let e=lt();_t("nzLoading",e.config.nzCancelLoading)("disabled",e.config.nzCancelDisabled),Ee("cdkFocusInitial",e.config.nzAutofocus==="cancel"||null),st(),Ht(" ",e.config.nzCancelText||e.locale.cancelText," ")}}function Ms(s,r){if(s&1){let e=Rt();ot(0,"button",18),Ct("click",function(){St(e);let t=lt();return Dt(t.onOk())}),vt(1),dt()}if(s&2){let e=lt();_t("nzType",e.config.nzOkType)("nzLoading",e.config.nzOkLoading)("disabled",e.config.nzOkDisabled)("nzDanger",e.config.nzOkDanger),Ee("cdkFocusInitial",e.config.nzAutofocus==="ok"||null),st(),Ht(" ",e.config.nzOkText||e.locale.okText," ")}}var Fs=["nz-modal-footer",""],Ns=(s,r)=>({$implicit:s,modalRef:r});function Ls(s,r){if(s&1){let e=Rt();ot(0,"button",3),Ct("click",function(){let t=St(e).$implicit,i=lt(4);return Dt(i.onButtonClick(t))}),vt(1),dt()}if(s&2){let e=r.$implicit,n=lt(4);_t("hidden",!n.getButtonCallableProp(e,"show"))("nzLoading",n.getButtonCallableProp(e,"loading"))("disabled",n.getButtonCallableProp(e,"disabled"))("nzType",e.type)("nzDanger",e.danger)("nzShape",e.shape)("nzSize",e.size)("nzGhost",e.ghost),st(),Ht(" ",e.label," ")}}function Bs(s,r){if(s&1&&$e(0,Ls,2,9,"button",2,sr),s&2){let e=lt(3);Ye(e.buttons)}}function Us(s,r){if(s&1&&Pt(0,"div",1),s&2){let e=lt(3);_t("innerHTML",e.config.nzFooter,ke)}}function Hs(s,r){if(s&1&&(Xe(0),bt(1,Bs,2,0)(2,Us,1,1,"div",1),Je()),s&2){let e=lt(2);st(),wt(e.buttonsFooter?1:2)}}function js(s,r){if(s&1&&Lt(0,Hs,3,1,"ng-container",0),s&2){let e=lt();_t("nzStringTemplateOutlet",e.config.nzFooter)("nzStringTemplateOutletContext",dr(2,Ns,e.config.nzData,e.modalRef))}}function Ws(s,r){if(s&1){let e=Rt();ot(0,"button",6),Ct("click",function(){St(e);let t=lt(2);return Dt(t.onCancel())}),vt(1),dt()}if(s&2){let e=lt(2);_t("nzLoading",e.config.nzCancelLoading)("disabled",e.config.nzCancelDisabled),Ee("cdkFocusInitial",e.config.nzAutofocus==="cancel"||null),st(),Ht(" ",e.config.nzCancelText||e.locale.cancelText," ")}}function Vs(s,r){if(s&1){let e=Rt();ot(0,"button",7),Ct("click",function(){St(e);let t=lt(2);return Dt(t.onOk())}),vt(1),dt()}if(s&2){let e=lt(2);_t("nzType",e.config.nzOkType)("nzDanger",e.config.nzOkDanger)("nzLoading",e.config.nzOkLoading)("disabled",e.config.nzOkDisabled),Ee("cdkFocusInitial",e.config.nzAutofocus==="ok"||null),st(),Ht(" ",e.config.nzOkText||e.locale.okText," ")}}function Zs(s,r){if(s&1&&(bt(0,Ws,2,4,"button",4),bt(1,Vs,2,6,"button",5)),s&2){let e=lt();wt(e.config.nzCancelText!==null?0:-1),st(),wt(e.config.nzOkText!==null?1:-1)}}var Qs=["nz-modal-title",""];function Gs(s,r){if(s&1&&(Xe(0),Pt(1,"div",2),Je()),s&2){let e=lt();st(),_t("innerHTML",e.config.nzTitle,ke)}}function Ks(s,r){if(s&1){let e=Rt();ot(0,"button",9),Ct("click",function(){St(e);let t=lt();return Dt(t.onCloseClick())}),dt()}}function qs(s,r){if(s&1&&Pt(0,"div",10),s&2){let e=lt();Te("cursor",e.config.nzDraggable?"move":"auto")}}function $s(s,r){}function Ys(s,r){if(s&1&&Pt(0,"div",7),s&2){let e=lt();_t("innerHTML",e.config.nzContent,ke)}}function Xs(s,r){if(s&1){let e=Rt();ot(0,"div",11),Ct("cancelTriggered",function(){St(e);let t=lt();return Dt(t.onCloseClick())})("okTriggered",function(){St(e);let t=lt();return Dt(t.onOkClick())}),dt()}if(s&2){let e=lt();_t("modalRef",e.modalRef)}}var Fo=()=>{},ae=class{nzCentered=!1;nzClosable=!0;nzOkLoading=!1;nzOkDisabled=!1;nzCancelDisabled=!1;nzCancelLoading=!1;nzDraggable=!1;nzNoAnimation=!1;nzAutofocus="auto";nzMask;nzMaskClosable;nzKeyboard=!0;nzZIndex=1e3;nzWidth=520;nzCloseIcon="close";nzOkType="primary";nzOkDanger=!1;nzModalType="default";nzOnCancel=Fo;nzOnOk=Fo;nzData;nzMaskStyle;nzBodyStyle;nzWrapClassName;nzClassName;nzStyle;nzTitle;nzFooter;nzCancelText;nzOkText;nzContent;nzCloseOnNavigation;nzViewContainerRef;nzAfterOpen;nzAfterClose;nzIconType="question-circle";nzDirection},oe={enter:"ant-zoom-enter",enterActive:"ant-zoom-enter-active",leave:"ant-zoom-leave",leaveActive:"ant-zoom-leave-active"},Ne={enter:"ant-fade-enter",enterActive:"ant-fade-enter-active",leave:"ant-fade-leave",leaveActive:"ant-fade-leave-active"},jn="ant-modal-mask",Wn="modal",Js=new fe("NZ_MODAL_DATA"),Uo={modalContainer:pr("modalContainer",[ei("void, exit",on({})),ei("enter",on({})),ni("* => enter",ti(".24s",on({}))),ni("* => void, * => exit",ti(".2s",on({})))])},Hi=(()=>{class s{config=nt(ae);static \u0275fac=function(n){return new(n||s)};static \u0275cmp=Nt({type:s,selectors:[["button","nz-modal-close",""]],hostAttrs:["aria-label","Close",1,"ant-modal-close"],exportAs:["nzModalCloseBuiltin"],attrs:As,decls:2,vars:1,consts:[[1,"ant-modal-close-x"],[4,"nzStringTemplateOutlet"],[1,"ant-modal-close-icon",3,"nzType"]],template:function(n,t){n&1&&(ot(0,"span",0),Lt(1,Es,2,1,"ng-container",1),dt()),n&2&&(st(),_t("nzStringTemplateOutlet",t.config.nzCloseIcon))},dependencies:[di,ci,ln,an],encapsulation:2,changeDetection:0})}return s})();function ta(s,r){return te(te({},r),s)}function vn(s,r,e){return typeof s>"u"?typeof r>"u"?e:r:s}function No(s){let{nzCentered:r,nzMask:e,nzMaskClosable:n,nzClosable:t,nzOkLoading:i,nzOkDisabled:o,nzCancelDisabled:l,nzCancelLoading:u,nzKeyboard:g,nzNoAnimation:d,nzDraggable:a,nzContent:c,nzFooter:f,nzZIndex:p,nzWidth:_,nzWrapClassName:y,nzClassName:b,nzStyle:O,nzTitle:E,nzCloseIcon:P,nzMaskStyle:L,nzBodyStyle:z,nzOkText:M,nzCancelText:C,nzOkType:x,nzOkDanger:v,nzIconType:k,nzModalType:h,nzOnOk:I,nzOnCancel:N,nzAfterOpen:F,nzAfterClose:S,nzCloseOnNavigation:w,nzAutofocus:H}=s;return{nzCentered:r,nzMask:e,nzMaskClosable:n,nzDraggable:a,nzClosable:t,nzOkLoading:i,nzOkDisabled:o,nzCancelDisabled:l,nzCancelLoading:u,nzKeyboard:g,nzNoAnimation:d,nzContent:c,nzFooter:f,nzZIndex:p,nzWidth:_,nzWrapClassName:y,nzClassName:b,nzStyle:O,nzTitle:E,nzCloseIcon:P,nzMaskStyle:L,nzBodyStyle:z,nzOkText:M,nzCancelText:C,nzOkType:x,nzOkDanger:v,nzIconType:k,nzModalType:h,nzOnOk:I,nzOnCancel:N,nzAfterOpen:F,nzAfterClose:S,nzCloseOnNavigation:w,nzAutofocus:H}}function Lo(){throw Error("Attempting to attach modal content after content is already attached")}var Ho=(()=>{class s extends Pr{document=nt(Ge);cdr=nt(pe);config=nt(ae);ngZone=nt(Ae);host=nt(he);focusTrapFactory=nt(Vr);render=nt(bn);overlayRef=nt(_i);nzConfigService=nt(li);animationType=nt(rr,{optional:!0});destroyRef=nt(Ke);portalOutlet;modalElementRef;animationStateChanged=new gt;containerClick=new gt;cancelTriggered=new gt;okTriggered=new gt;state="enter";modalRef;isStringContent=!1;dir="ltr";elementFocusedBeforeModalWasOpened=null;focusTrap;mouseDown=!1;oldMaskStyle=null;get showMask(){let e=this.nzConfigService.getConfigForComponent(Wn)||{};return!!vn(this.config.nzMask,e.nzMask,!0)}get maskClosable(){let e=this.nzConfigService.getConfigForComponent(Wn)||{};return!!vn(this.config.nzMaskClosable,e.nzMaskClosable,!0)}constructor(){super(),this.dir=this.overlayRef.getDirection(),this.isStringContent=typeof this.config.nzContent=="string",An(Wn,()=>this.updateMaskClassname()),this.destroyRef.onDestroy(()=>{this.setMaskExitAnimationClass(!0)})}onContainerClick(e){e.target===e.currentTarget&&!this.mouseDown&&this.showMask&&this.maskClosable&&this.containerClick.emit()}onCloseClick(){this.cancelTriggered.emit()}onOkClick(){this.okTriggered.emit()}attachComponentPortal(e){return this.portalOutlet.hasAttached()&&Lo(),this.savePreviouslyFocusedElement(),this.setZIndexForBackdrop(),this.portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this.portalOutlet.hasAttached()&&Lo(),this.savePreviouslyFocusedElement(),this.setZIndexForBackdrop(),this.portalOutlet.attachTemplatePortal(e)}attachStringContent(){this.savePreviouslyFocusedElement(),this.setZIndexForBackdrop()}getNativeElement(){return this.host.nativeElement}animationDisabled(){return this.config.nzNoAnimation||this.animationType==="NoopAnimations"}setModalTransformOrigin(){let e=this.modalElementRef.nativeElement;if(this.elementFocusedBeforeModalWasOpened){let n=this.elementFocusedBeforeModalWasOpened.getBoundingClientRect(),t=kr(this.elementFocusedBeforeModalWasOpened),i=t.left+n.width/2,o=t.top+n.height/2,l=`${i-e.offsetLeft}px ${o-e.offsetTop}px 0px`;this.render.setStyle(e,"transform-origin",l)}}savePreviouslyFocusedElement(){this.focusTrap||(this.focusTrap=this.focusTrapFactory.create(this.host.nativeElement)),this.document&&(this.elementFocusedBeforeModalWasOpened=this.document.activeElement,this.host.nativeElement.focus&&this.ngZone.runOutsideAngular(()=>Ar(()=>this.host.nativeElement.focus())))}trapFocus(){let e=this.host.nativeElement;if(this.config.nzAutofocus)this.focusTrap.focusInitialElementWhenReady();else{let n=this.document.activeElement;n!==e&&!e.contains(n)&&e.focus()}}restoreFocus(){let e=this.elementFocusedBeforeModalWasOpened;if(e&&typeof e.focus=="function"){let n=this.document.activeElement,t=this.host.nativeElement;(!n||n===this.document.body||n===t||t.contains(n))&&e.focus()}this.focusTrap&&this.focusTrap.destroy()}setEnterAnimationClass(){if(this.animationDisabled())return;this.setModalTransformOrigin();let e=this.modalElementRef.nativeElement,n=this.overlayRef.backdropElement;e.classList.add(oe.enter),e.classList.add(oe.enterActive),n&&(n.classList.add(Ne.enter),n.classList.add(Ne.enterActive))}setExitAnimationClass(){let e=this.modalElementRef.nativeElement;e.classList.add(oe.leave),e.classList.add(oe.leaveActive),this.setMaskExitAnimationClass()}setMaskExitAnimationClass(e=!1){let n=this.overlayRef.backdropElement;if(n){if(this.animationDisabled()||e){n.classList.remove(jn);return}n.classList.add(Ne.leave),n.classList.add(Ne.leaveActive)}}cleanAnimationClass(){if(this.animationDisabled())return;let e=this.overlayRef.backdropElement,n=this.modalElementRef.nativeElement;e&&(e.classList.remove(Ne.enter),e.classList.remove(Ne.enterActive)),n.classList.remove(oe.enter),n.classList.remove(oe.enterActive),n.classList.remove(oe.leave),n.classList.remove(oe.leaveActive)}setZIndexForBackdrop(){let e=this.overlayRef.backdropElement;e&&ii(this.config.nzZIndex)&&this.render.setStyle(e,"z-index",this.config.nzZIndex)}bindBackdropStyle(){let e=this.overlayRef.backdropElement;if(e){if(this.oldMaskStyle){let n=this.oldMaskStyle;Object.keys(n).forEach(t=>{this.render.removeStyle(e,t)}),this.oldMaskStyle=null}if(this.setZIndexForBackdrop(),typeof this.config.nzMaskStyle=="object"&&Object.keys(this.config.nzMaskStyle).length){let n=te({},this.config.nzMaskStyle);Object.keys(n).forEach(t=>{this.render.setStyle(e,t,n[t])}),this.oldMaskStyle=n}}}updateMaskClassname(){let e=this.overlayRef.backdropElement;e&&(this.showMask?e.classList.add(jn):e.classList.remove(jn))}onAnimationDone(e){e.toState==="enter"?this.trapFocus():e.toState==="exit"&&this.restoreFocus(),this.cleanAnimationClass(),this.animationStateChanged.emit(e)}onAnimationStart(e){e.toState==="enter"?(this.setEnterAnimationClass(),this.bindBackdropStyle()):e.toState==="exit"&&this.setExitAnimationClass(),this.animationStateChanged.emit(e)}startExitAnimation(){this.state="exit",this.cdr.markForCheck()}setupMouseListeners(e){ai(this.host.nativeElement,"mouseup").pipe(qt(this.destroyRef)).subscribe(()=>{this.mouseDown&&setTimeout(()=>{this.mouseDown=!1})}),ai(e.nativeElement,"mousedown").pipe(qt(this.destroyRef)).subscribe(()=>{this.mouseDown=!0})}static \u0275fac=function(n){return new(n||s)};static \u0275dir=Vt({type:s,features:[Cn]})}return s})(),jo=(()=>{class s extends Ho{i18n=nt(ui);set _portalOutlet(e){this.portalOutlet=e}set _modalElementRef(e){this.modalElementRef=e}cancelTriggered=new gt;okTriggered=new gt;locale;constructor(){super(),this.i18n.localeChange.pipe(qt()).subscribe(()=>{this.locale=this.i18n.getLocaleData("Modal")})}ngOnInit(){this.setupMouseListeners(this.modalElementRef)}onCancel(){this.cancelTriggered.emit()}onOk(){this.okTriggered.emit()}static \u0275fac=function(n){return new(n||s)};static \u0275cmp=Nt({type:s,selectors:[["nz-modal-confirm-container"]],viewQuery:function(n,t){if(n&1&&(tn(Oe,7),tn(Bo,7)),n&2){let i;ie(i=re())&&(t._portalOutlet=i.first),ie(i=re())&&(t._modalElementRef=i.first)}},hostAttrs:["tabindex","-1","role","dialog"],hostVars:10,hostBindings:function(n,t){n&1&&(Xn("@modalContainer.start",function(o){return t.onAnimationStart(o)})("@modalContainer.done",function(o){return t.onAnimationDone(o)}),Ct("click",function(o){return t.onContainerClick(o)})),n&2&&(Yn("@.disabled",t.config.nzNoAnimation)("@modalContainer",t.state),nn(t.config.nzWrapClassName?"ant-modal-wrap "+t.config.nzWrapClassName:"ant-modal-wrap"),Te("z-index",t.config.nzZIndex),Gt("ant-modal-wrap-rtl",t.dir==="rtl")("ant-modal-centered",t.config.nzCentered))},outputs:{cancelTriggered:"cancelTriggered",okTriggered:"okTriggered"},exportAs:["nzModalConfirmContainer"],features:[$n([pi]),Cn],decls:17,vars:16,consts:[["modalElement",""],["role","document",1,"ant-modal"],[1,"ant-modal-content"],["nz-modal-close",""],[1,"ant-modal-body"],[1,"ant-modal-confirm-body-wrapper"],[1,"ant-modal-confirm-body"],[3,"nzType"],[1,"ant-modal-confirm-title"],[4,"nzStringTemplateOutlet"],[1,"ant-modal-confirm-content"],["cdkPortalOutlet",""],[3,"innerHTML"],[1,"ant-modal-confirm-btns"],["nz-button","",3,"nzLoading","disabled"],["nz-button","",3,"nzType","nzLoading","disabled","nzDanger"],["nz-modal-close","",3,"click"],["nz-button","",3,"click","nzLoading","disabled"],["nz-button","",3,"click","nzType","nzLoading","disabled","nzDanger"]],template:function(n,t){n&1&&(ot(0,"div",1,0),Kt(2,"nzToCssUnit"),ot(3,"div",2),bt(4,Ts,1,0,"button",3),ot(5,"div",4)(6,"div",5)(7,"div",6),Pt(8,"nz-icon",7),ot(9,"span",8),Lt(10,Is,2,1,"ng-container",9),dt(),ot(11,"div",10),Lt(12,Rs,0,0,"ng-template",11),bt(13,Os,1,1,"div",12),dt()(),ot(14,"div",13),bt(15,Ps,2,4,"button",14),bt(16,Ms,2,6,"button",15),dt()()()()()),n&2&&(en(t.config.nzStyle),nn(t.config.nzClassName),Te("width",ue(2,14,t.config==null?null:t.config.nzWidth)),st(4),wt(t.config.nzClosable?4:-1),st(),en(t.config.nzBodyStyle),st(3),_t("nzType",t.config.nzIconType),st(2),_t("nzStringTemplateOutlet",t.config.nzTitle),st(3),wt(t.isStringContent?13:-1),st(2),wt(t.config.nzCancelText!==null?15:-1),st(),wt(t.config.nzOkText!==null?16:-1))},dependencies:[Ai,di,ci,Hi,ln,an,gi,Oe,hi,dn,fi,cn,Di],encapsulation:2,data:{animation:[Uo.modalContainer]}})}return s})(),Wo=(()=>{class s{i18n=nt(ui);config=nt(ae);buttonsFooter=!1;buttons=[];locale;cancelTriggered=new gt;okTriggered=new gt;modalRef;constructor(){Array.isArray(this.config.nzFooter)&&(this.buttonsFooter=!0,this.buttons=this.config.nzFooter.map(ea)),this.i18n.localeChange.pipe(qt()).subscribe(()=>{this.locale=this.i18n.getLocaleData("Modal")})}onCancel(){this.cancelTriggered.emit()}onOk(){this.okTriggered.emit()}getButtonCallableProp(e,n){let t=e[n],i=this.modalRef.getContentComponent();return typeof t=="function"?t.apply(e,i&&[i]):t}onButtonClick(e){if(!this.getButtonCallableProp(e,"loading")){let t=this.getButtonCallableProp(e,"onClick");e.autoLoading&&ri(t)&&(e.loading=!0,t.then(()=>e.loading=!1).catch(i=>{throw e.loading=!1,i}))}}static \u0275fac=function(n){return new(n||s)};static \u0275cmp=Nt({type:s,selectors:[["div","nz-modal-footer",""]],hostAttrs:[1,"ant-modal-footer"],inputs:{modalRef:"modalRef"},outputs:{cancelTriggered:"cancelTriggered",okTriggered:"okTriggered"},exportAs:["nzModalFooterBuiltin"],attrs:Fs,decls:2,vars:1,consts:[[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],[3,"innerHTML"],["nz-button","",3,"hidden","nzLoading","disabled","nzType","nzDanger","nzShape","nzSize","nzGhost"],["nz-button","",3,"click","hidden","nzLoading","disabled","nzType","nzDanger","nzShape","nzSize","nzGhost"],["nz-button","",3,"nzLoading","disabled"],["nz-button","",3,"nzType","nzDanger","nzLoading","disabled"],["nz-button","",3,"click","nzLoading","disabled"],["nz-button","",3,"click","nzType","nzDanger","nzLoading","disabled"]],template:function(n,t){n&1&&bt(0,js,1,5,"ng-container")(1,Zs,2,2),n&2&&wt(t.config.nzFooter?0:1)},dependencies:[ln,an,hi,dn,fi,cn],encapsulation:2})}return s})();function ea(s){return te({type:null,size:"default",autoLoading:!0,show:!0,loading:!1,disabled:!1},s)}var Vo=(()=>{class s{config=nt(ae);static \u0275fac=function(n){return new(n||s)};static \u0275cmp=Nt({type:s,selectors:[["div","nz-modal-title",""]],hostAttrs:[1,"ant-modal-header"],exportAs:["nzModalTitleBuiltin"],attrs:Qs,decls:2,vars:1,consts:[[1,"ant-modal-title"],[4,"nzStringTemplateOutlet"],[3,"innerHTML"]],template:function(n,t){n&1&&(ot(0,"div",0),Lt(1,Gs,2,1,"ng-container",1),dt()),n&2&&(st(),_t("nzStringTemplateOutlet",t.config.nzTitle))},dependencies:[ln,an],encapsulation:2,changeDetection:0})}return s})(),Zo=(()=>{class s extends Ho{set _portalOutlet(e){this.portalOutlet=e}set _modalElementRef(e){this.modalElementRef=e}ngOnInit(){this.setupMouseListeners(this.modalElementRef)}static \u0275fac=(()=>{let e;return function(t){return(e||(e=ir(s)))(t||s)}})();static \u0275cmp=Nt({type:s,selectors:[["nz-modal-container"]],viewQuery:function(n,t){if(n&1&&(tn(Oe,7),tn(Bo,7)),n&2){let i;ie(i=re())&&(t._portalOutlet=i.first),ie(i=re())&&(t._modalElementRef=i.first)}},hostAttrs:["tabindex","-1","role","dialog"],hostVars:10,hostBindings:function(n,t){n&1&&(Xn("@modalContainer.start",function(o){return t.onAnimationStart(o)})("@modalContainer.done",function(o){return t.onAnimationDone(o)}),Ct("click",function(o){return t.onContainerClick(o)})),n&2&&(Yn("@.disabled",t.config.nzNoAnimation)("@modalContainer",t.state),nn(t.config.nzWrapClassName?"ant-modal-wrap "+t.config.nzWrapClassName:"ant-modal-wrap"),Te("z-index",t.config.nzZIndex),Gt("ant-modal-wrap-rtl",t.dir==="rtl")("ant-modal-centered",t.config.nzCentered))},exportAs:["nzModalContainer"],features:[$n([pi]),Cn],decls:10,vars:15,consts:[["modalElement",""],["cdkDrag","","cdkDragBoundary",".cdk-overlay-container","role","document",1,"ant-modal",3,"cdkDragDisabled"],[1,"ant-modal-content"],["nz-modal-close",""],["nz-modal-title","","cdkDragHandle","",3,"cursor"],[1,"ant-modal-body"],["cdkPortalOutlet",""],[3,"innerHTML"],["nz-modal-footer","",3,"modalRef"],["nz-modal-close","",3,"click"],["nz-modal-title","","cdkDragHandle",""],["nz-modal-footer","",3,"cancelTriggered","okTriggered","modalRef"]],template:function(n,t){n&1&&(ot(0,"div",1,0),Kt(2,"nzToCssUnit"),ot(3,"div",2),bt(4,Ks,1,0,"button",3),bt(5,qs,1,2,"div",4),ot(6,"div",5),Lt(7,$s,0,0,"ng-template",6),bt(8,Ys,1,1,"div",7),dt(),bt(9,Xs,1,1,"div",8),dt()()),n&2&&(en(t.config.nzStyle),nn(t.config.nzClassName),Te("width",ue(2,13,t.config==null?null:t.config.nzWidth)),_t("cdkDragDisabled",!t.config.nzDraggable),st(4),wt(t.config.nzClosable?4:-1),st(),wt(t.config.nzTitle?5:-1),st(),en(t.config.nzBodyStyle),st(2),wt(t.isStringContent?8:-1),st(),wt(t.config.nzFooter!==null?9:-1))},dependencies:[Hi,Vo,gi,Oe,Wo,Ai,Mo,Po,Di],encapsulation:2,data:{animation:[Uo.modalContainer]}})}return s})(),_n={OPEN:0,CLOSING:1,CLOSED:2},se={CANCEL:"cancel",OK:"ok"},Le=class{overlayRef;config;containerInstance;componentInstance=null;componentRef=null;result;state=_n.OPEN;afterClose=new mt;afterOpen=new mt;closeTimeout;destroy$=new mt;constructor(r,e,n){this.overlayRef=r,this.config=e,this.containerInstance=n,n.animationStateChanged.pipe(Ze(t=>t.phaseName==="done"&&t.toState==="enter"),be(1)).subscribe(()=>{this.afterOpen.next(),this.afterOpen.complete(),e.nzAfterOpen instanceof gt&&e.nzAfterOpen.emit()}),n.animationStateChanged.pipe(Ze(t=>t.phaseName==="done"&&t.toState==="exit"),be(1)).subscribe(()=>{clearTimeout(this.closeTimeout),this._finishDialogClose()}),n.containerClick.pipe(ne(this.destroy$)).subscribe(()=>{!this.config.nzCancelLoading&&!this.config.nzOkLoading&&this.trigger(se.CANCEL)}),r.keydownEvents().pipe(Ze(t=>this.config.nzKeyboard&&!this.config.nzCancelLoading&&!this.config.nzOkLoading&&t.keyCode===27&&!Mr(t))).subscribe(t=>{t.preventDefault(),this.trigger(se.CANCEL)}),n.cancelTriggered.pipe(ne(this.destroy$)).subscribe(()=>this.trigger(se.CANCEL)),n.okTriggered.pipe(ne(this.destroy$)).subscribe(()=>this.trigger(se.OK)),r.detachments().subscribe(()=>{this.afterClose.next(this.result),this.afterClose.complete(),e.nzAfterClose instanceof gt&&e.nzAfterClose.emit(this.result),this.componentInstance=null,this.componentRef=null,this.overlayRef.dispose()})}getContentComponent(){return this.componentInstance}getContentComponentRef(){return this.componentRef}getElement(){return this.containerInstance.getNativeElement()}destroy(r){this.close(r)}triggerOk(){return this.trigger(se.OK)}triggerCancel(){return this.trigger(se.CANCEL)}close(r){this.state===_n.OPEN&&(this.result=r,this.containerInstance.animationStateChanged.pipe(Ze(e=>e.phaseName==="start"),be(1)).subscribe(e=>{this.overlayRef.detachBackdrop(),this.closeTimeout=setTimeout(()=>{this._finishDialogClose()},e.totalTime+100)}),this.containerInstance.startExitAnimation(),this.state=_n.CLOSING)}updateConfig(r){Object.assign(this.config,r),this.containerInstance.bindBackdropStyle(),this.containerInstance.cdr.markForCheck()}getState(){return this.state}getConfig(){return this.config}getBackdropElement(){return this.overlayRef.backdropElement}trigger(r){return ee(this,null,function*(){if(this.state===_n.CLOSING)return;let e={[se.OK]:{trigger:this.config.nzOnOk,loadingKey:"nzOkLoading"},[se.CANCEL]:{trigger:this.config.nzOnCancel,loadingKey:"nzCancelLoading"}},{trigger:n,loadingKey:t}=e[r];if(!this.config[t]){if(n instanceof gt)n.emit(this.getContentComponent());else if(typeof n=="function"){let i=n(this.getContentComponent());if(ri(i)){this.config[t]=!0;let o=!1;try{o=yield i}finally{this.config[t]=!1,this.closeWhitResult(o)}}else this.closeWhitResult(i)}}})}closeWhitResult(r){r!==!1&&this.close(r)}_finishDialogClose(){this.state=_n.CLOSED,this.overlayRef.dispose(),this.destroy$.next()}},Qo=(()=>{class s{overlay=nt(Nr);injector=nt(xe);nzConfigService=nt(li);directionality=nt(Re);parentModal=nt(s,{skipSelf:!0,optional:!0});openModalsAtThisLevel=[];afterAllClosedAtThisLevel=new mt;get openModals(){return this.parentModal?this.parentModal.openModals:this.openModalsAtThisLevel}get _afterAllClosed(){let e=this.parentModal;return e?e._afterAllClosed:this.afterAllClosedAtThisLevel}afterAllClose=Ji(()=>this.openModals.length?this._afterAllClosed:this._afterAllClosed.pipe(we(void 0)));create(e){return this.open(e.nzContent,e)}closeAll(){this.closeModals(this.openModals)}confirm(e={},n="confirm"){return"nzFooter"in e&&xr(`The Confirm-Modal doesn't support "nzFooter", this property will be ignored.`),"nzWidth"in e||(e.nzWidth=416),"nzMaskClosable"in e||(e.nzMaskClosable=!1),e.nzModalType="confirm",e.nzClassName=`ant-modal-confirm ant-modal-confirm-${n} ${e.nzClassName||""}`,this.create(e)}info(e={}){return this.confirmFactory(e,"info")}success(e={}){return this.confirmFactory(e,"success")}error(e={}){return this.confirmFactory(e,"error")}warning(e={}){return this.confirmFactory(e,"warning")}open(e,n){let t=ta(n||{},new ae),i=this.createOverlay(t),o=this.attachModalContainer(i,t),l=this.attachModalContent(e,o,i,t);return o.modalRef=l,Lr(i,n?.nzZIndex),this.openModals.push(l),l.afterClose.subscribe(()=>this.removeOpenModal(l)),l}removeOpenModal(e){let n=this.openModals.indexOf(e);n>-1&&(this.openModals.splice(n,1),this.openModals.length||this._afterAllClosed.next())}closeModals(e){let n=e.length;for(;n--;)e[n].close(),this.openModals.length||this._afterAllClosed.next()}createOverlay(e){let n=this.nzConfigService.getConfigForComponent(Wn)||{},t=new Fr({hasBackdrop:!0,scrollStrategy:this.overlay.scrollStrategies.block(),backdropClass:vn(e.nzMask,n.nzMask,!0)?jn:"",positionStrategy:this.overlay.position().global(),disposeOnNavigation:vn(e.nzCloseOnNavigation,n.nzCloseOnNavigation,!0),direction:vn(e.nzDirection,n.nzDirection,this.directionality.value)});return this.overlay.create(t)}attachModalContainer(e,n){let t=n&&n.nzViewContainerRef&&n.nzViewContainerRef.injector,i=xe.create({parent:t||this.injector,providers:[{provide:_i,useValue:e},{provide:ae,useValue:n}]}),o=n.nzModalType==="confirm"?jo:Zo,l=new mi(o,n.nzViewContainerRef,i);return e.attach(l).instance}attachModalContent(e,n,t,i){let o=new Le(t,i,n);if(e instanceof Qt)n.attachTemplatePortal(new Or(e,null,{$implicit:i.nzData,modalRef:o}));else if(ii(e)&&typeof e!="string"){let l=this.createInjector(o,i),u=n.attachComponentPortal(new mi(e,i.nzViewContainerRef,l));o.componentRef=u,o.componentInstance=u.instance}else n.attachStringContent();return o}createInjector(e,n){let t=n&&n.nzViewContainerRef&&n.nzViewContainerRef.injector;return xe.create({parent:t||this.injector,providers:[{provide:Le,useValue:e},{provide:Js,useValue:n.nzData}]})}confirmFactory(e={},n){let t={info:"info-circle",success:"check-circle",error:"close-circle",warning:"exclamation-circle"};return"nzIconType"in e||(e.nzIconType=t[n]),"nzCancelText"in e||(e.nzCancelText=null),this.confirm(e,n)}ngOnDestroy(){this.closeModals(this.openModalsAtThisLevel),this.afterAllClosedAtThisLevel.complete()}static \u0275fac=function(n){return new(n||s)};static \u0275prov=de({token:s,factory:s.\u0275fac})}return s})(),ji=(()=>{class s{templateRef=nt(Qt);static \u0275fac=function(n){return new(n||s)};static \u0275dir=Vt({type:s,selectors:[["","nzModalContent",""]],exportAs:["nzModalContent"]})}return s})(),na=(()=>{class s{templateRef=nt(Qt);nzModalRef=nt(Le,{optional:!0});constructor(){this.nzModalRef?.updateConfig({nzFooter:this.templateRef})}static \u0275fac=function(n){return new(n||s)};static \u0275dir=Vt({type:s,selectors:[["","nzModalFooter",""]],exportAs:["nzModalFooter"]})}return s})(),ia=(()=>{class s{templateRef=nt(Qt);nzModalRef=nt(Le,{optional:!0});constructor(){this.nzModalRef?.updateConfig({nzTitle:this.templateRef})}static \u0275fac=function(n){return new(n||s)};static \u0275dir=Vt({type:s,selectors:[["","nzModalTitle",""]],exportAs:["nzModalTitle"]})}return s})(),Go=(()=>{class s{cdr=nt(pe);modal=nt(Qo);viewContainerRef=nt(wn);destroyRef=nt(Ke);nzMask;nzMaskClosable;nzCloseOnNavigation;nzVisible=!1;nzClosable=!0;nzOkLoading=!1;nzOkDisabled=!1;nzCancelDisabled=!1;nzCancelLoading=!1;nzKeyboard=!0;nzNoAnimation=!1;nzCentered=!1;nzDraggable=!1;nzContent;nzFooter;nzZIndex=1e3;nzWidth=520;nzWrapClassName;nzClassName;nzStyle;nzTitle;nzCloseIcon="close";nzMaskStyle;nzBodyStyle;nzOkText;nzCancelText;nzOkType="primary";nzOkDanger=!1;nzIconType="question-circle";nzModalType="default";nzAutofocus="auto";nzOnOk=new gt;nzOnCancel=new gt;nzAfterOpen=new gt;nzAfterClose=new gt;nzVisibleChange=new gt;set modalTitle(e){e&&this.setTitleWithTemplate(e)}contentFromContentChild;set modalFooter(e){e&&this.setFooterWithTemplate(e)}modalRef=null;get afterOpen(){return this.nzAfterOpen.asObservable()}get afterClose(){return this.nzAfterClose.asObservable()}constructor(){this.destroyRef.onDestroy(()=>{this.modalRef?._finishDialogClose()})}open(){if(this.nzVisible||(this.nzVisible=!0,this.nzVisibleChange.emit(!0)),!this.modalRef){let e=this.getConfig();this.modalRef=this.modal.create(e),this.modalRef.afterClose.asObservable().pipe(qt(this.destroyRef)).subscribe(()=>{this.close()})}}close(e){this.nzVisible&&(this.nzVisible=!1,this.nzVisibleChange.emit(!1)),this.modalRef&&(this.modalRef.close(e),this.modalRef=null)}destroy(e){this.close(e)}triggerOk(){this.modalRef?.triggerOk()}triggerCancel(){this.modalRef?.triggerCancel()}getContentComponent(){return this.modalRef?.getContentComponent()}getElement(){return this.modalRef?.getElement()}getModalRef(){return this.modalRef}setTitleWithTemplate(e){this.nzTitle=e,this.modalRef&&Promise.resolve().then(()=>{this.modalRef.updateConfig({nzTitle:this.nzTitle})})}setFooterWithTemplate(e){this.nzFooter=e,this.modalRef&&Promise.resolve().then(()=>{this.modalRef.updateConfig({nzFooter:this.nzFooter})}),this.cdr.markForCheck()}getConfig(){let e=No(this);return e.nzViewContainerRef=this.viewContainerRef,e.nzContent=this.nzContent||this.contentFromContentChild,e}ngOnChanges(e){let i=e,{nzVisible:n}=i,t=Zi(i,["nzVisible"]);Object.keys(t).length&&this.modalRef&&this.modalRef.updateConfig(No(this)),n&&(this.nzVisible?this.open():this.close())}static \u0275fac=function(n){return new(n||s)};static \u0275cmp=Nt({type:s,selectors:[["nz-modal"]],contentQueries:function(n,t,i){if(n&1&&(xn(i,ia,7,Qt),xn(i,ji,7,Qt),xn(i,na,7,Qt)),n&2){let o;ie(o=re())&&(t.modalTitle=o.first),ie(o=re())&&(t.contentFromContentChild=o.first),ie(o=re())&&(t.modalFooter=o.first)}},inputs:{nzMask:[2,"nzMask","nzMask",zt],nzMaskClosable:[2,"nzMaskClosable","nzMaskClosable",zt],nzCloseOnNavigation:[2,"nzCloseOnNavigation","nzCloseOnNavigation",zt],nzVisible:[2,"nzVisible","nzVisible",zt],nzClosable:[2,"nzClosable","nzClosable",zt],nzOkLoading:[2,"nzOkLoading","nzOkLoading",zt],nzOkDisabled:[2,"nzOkDisabled","nzOkDisabled",zt],nzCancelDisabled:[2,"nzCancelDisabled","nzCancelDisabled",zt],nzCancelLoading:[2,"nzCancelLoading","nzCancelLoading",zt],nzKeyboard:[2,"nzKeyboard","nzKeyboard",zt],nzNoAnimation:[2,"nzNoAnimation","nzNoAnimation",zt],nzCentered:[2,"nzCentered","nzCentered",zt],nzDraggable:[2,"nzDraggable","nzDraggable",zt],nzContent:"nzContent",nzFooter:"nzFooter",nzZIndex:[2,"nzZIndex","nzZIndex",Ie],nzWidth:"nzWidth",nzWrapClassName:"nzWrapClassName",nzClassName:"nzClassName",nzStyle:"nzStyle",nzTitle:"nzTitle",nzCloseIcon:"nzCloseIcon",nzMaskStyle:"nzMaskStyle",nzBodyStyle:"nzBodyStyle",nzOkText:"nzOkText",nzCancelText:"nzCancelText",nzOkType:"nzOkType",nzOkDanger:[2,"nzOkDanger","nzOkDanger",zt],nzIconType:"nzIconType",nzModalType:"nzModalType",nzAutofocus:"nzAutofocus",nzOnOk:"nzOnOk",nzOnCancel:"nzOnCancel"},outputs:{nzOnOk:"nzOnOk",nzOnCancel:"nzOnCancel",nzAfterOpen:"nzAfterOpen",nzAfterClose:"nzAfterClose",nzVisibleChange:"nzVisibleChange"},exportAs:["nzModal"],features:[ze],decls:0,vars:0,template:function(n,t){},encapsulation:2,changeDetection:0})}return s})(),Ko=(()=>{class s{static \u0275fac=function(n){return new(n||s)};static \u0275mod=Se({type:s});static \u0275inj=Ce({providers:[Qo],imports:[Hi,Wo,Vo,Zo,jo]})}return s})();var oa=(s,r)=>r.name,sa=(s,r)=>r.compressedUrl;function aa(s,r){if(s&1){let e=Rt();ot(0,"div",6),Ct("click",function(){St(e);let t=zn(5);return Dt(t.click())}),ot(1,"b"),vt(2,"Choose a file"),dt(),vt(3,"\xA0or drag it here "),ot(4,"input",7,0),Ct("change",function(t){St(e);let i=lt();return Dt(i.uploadFiles(t))}),dt()()}}function la(s,r){if(s&1&&(ot(0,"div"),Pt(1,"img",14),Kt(2,"fileSrc"),ot(3,"div"),vt(4),Kt(5,"fileSize"),Kt(6,"number"),dt()()),s&2){let e=r.$implicit;st(),_t("src",ue(2,2,e),Kn),st(3),Ht(" Original Size ",Jn(6,6,ue(5,4,e),"1.0-2")," MB ")}}function ca(s,r){if(s&1){let e=Rt();ot(0,"button",9),Ct("click",function(){St(e);let t=lt().$implicit,i=lt(3);return Dt(i.downloadSingle(t))}),vt(1," Download Single "),dt()}}function da(s,r){if(s&1&&(ot(0,"div"),Pt(1,"img",14),ot(2,"div"),vt(3),Kt(4,"fileSize"),Kt(5,"number"),dt()(),bt(6,ca,2,0,"button",15)),s&2){let e=r.$implicit,n=lt(3);st(),_t("src",e.compressedUrl,Kn),st(2),Ht(" Original Size ",Jn(5,5,ue(4,3,e.compressedFile),"1.0-2")," MB "),st(3),wt(n.compressedFiles.length>1?6:-1)}}function fa(s,r){if(s&1){let e=Rt();$e(0,da,7,8,null,null,sa),ot(2,"button",9),Ct("click",function(){St(e);let t=lt(2);return Dt(t.download())}),vt(3,"Download"),dt()}if(s&2){let e=lt(2);Ye(e.compressedFiles)}}function ha(s,r){if(s&1){let e=Rt();ot(0,"div",8)(1,"h2"),vt(2,"Current Settings"),dt(),ot(3,"div"),vt(4),dt(),ot(5,"div"),vt(6),dt(),ot(7,"button",9),Ct("click",function(){St(e);let t=lt();return Dt(t.showModal=!0)}),vt(8,"Change Settings"),dt()(),ot(9,"div",10)(10,"div",11)(11,"div",12),$e(12,la,7,9,"div",null,oa),ot(14,"button",13),Ct("click",function(){St(e);let t=lt();return Dt(t.cleanFiles())}),vt(15," Delete "),dt(),ot(16,"button",9),Ct("click",function(){St(e);let t=lt();return Dt(t.compress())}),vt(17,"Compress"),dt(),bt(18,fa,4,0),dt()()()}if(s&2){let e=lt();st(4),Ht(" Max Size MB: ",e.currentCompressorOptions.maxSize),st(2),Ht(" Quality rate: ",e.currentCompressorOptions.maxSize," / 100"),st(6),Ye(e.originalFiles),st(6),wt(e.compressedFiles?18:-1)}}function ua(s,r){if(s&1){let e=Rt();ot(0,"div")(1,"nz-form-item")(2,"nz-form-label",16),vt(3,"Max Size MB"),dt(),ot(4,"nz-form-control")(5,"input",17),Dn("ngModelChange",function(t){St(e);let i=lt();return Sn(i.compressorOptions.maxSize,t)||(i.compressorOptions.maxSize=t),Dt(t)}),dt()()(),ot(6,"nz-form-item")(7,"nz-form-label",16),vt(8,"Quality rate ( 1 - 100 )"),dt(),ot(9,"nz-form-control")(10,"input",18),Dn("ngModelChange",function(t){St(e);let i=lt();return Sn(i.compressorOptions.compressorQuality,t)||(i.compressorOptions.compressorQuality=t),Dt(t)}),dt()()()()}if(s&2){let e=lt();st(5),kn("ngModel",e.compressorOptions.maxSize),st(5),kn("ngModel",e.compressorOptions.compressorQuality)}}var qo=class s{compressService=nt(hn);originalFiles=null;compressedFiles=null;compressInProgress=!1;showModal=!1;currentCompressorOptions={maxSize:1,compressorQuality:50};compressorOptions={maxSize:1,compressorQuality:50};uploadFiles(r){let e=r.target;e.files&&e.files.length>0&&(this.originalFiles=e.files)}compress(){return ee(this,null,function*(){if(this.originalFiles&&!this.compressInProgress){this.compressInProgress=!0;let r={initialQuality:this.compressorOptions.compressorQuality/100,alwaysKeepResolution:!1,useWebWorker:!0,maxSizeMB:this.compressorOptions.maxSize};this.compressedFiles=yield this.compressService.compressFile(this.originalFiles,r),this.compressInProgress=!1}})}cleanFiles(){this.originalFiles=null,this.compressedFiles=null}download(){this.compressedFiles&&this.compressService.downloadFile(this.compressedFiles).then()}downloadSingle(r){this.compressService.downloadFile([r]).then()}handleOk(){this.showModal=!1,this.currentCompressorOptions=Me(this.currentCompressorOptions,this.compressorOptions),this.compress()}handleCancel(){this.showModal=!1,this.compressorOptions=Me(this.compressorOptions,this.currentCompressorOptions)}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=Nt({type:s,selectors:[["app-compress"]],features:[rn([hn])],decls:6,vars:4,consts:[["imgFileInput",""],["nzTip","Loading...",3,"nzSpinning"],["centerContent",""],["droparea","",1,"file-drop"],["nzTitle","Settings",3,"nzVisibleChange","nzOnCancel","nzOnOk","nzVisible"],[4,"nzModalContent"],["droparea","",1,"file-drop",3,"click"],["accept","image/png","hidden","","type","file","multiple","",3,"change"],[1,"settings-wrapper"],["nz-button","",3,"click"],[1,"block-wrapper"],[1,"image-wrapper"],[1,"image-container"],["nz-button","","nzType","primary",3,"click"],["alt","Uploaded Image",1,"image-preview",3,"src"],["nz-button",""],["nzFor","name"],["nz-input","","type","number","min","0","max","100","id","name","placeholder","Max Size",3,"ngModelChange","ngModel"],["nz-input","","type","number","min","1","max","100","id","name","placeholder","Quality",3,"ngModelChange","ngModel"]],template:function(e,n){e&1&&(ot(0,"nz-spin",1)(1,"app-content-wrapper",2),bt(2,aa,6,0,"div",3),bt(3,ha,19,3),dt()(),ot(4,"nz-modal",4),Dn("nzVisibleChange",function(i){return Sn(n.showModal,i)||(n.showModal=i),i}),Ct("nzOnCancel",function(){return n.handleCancel()})("nzOnOk",function(){return n.handleOk()}),Lt(5,ua,11,2,"div",5),dt()),e&2&&(_t("nzSpinning",n.compressInProgress),st(2),wt(n.originalFiles?-1:2),st(),wt(n.originalFiles?3:-1),st(),kn("nzVisible",n.showModal))},dependencies:[Qr,Dr,wr,mr,vr,gr,br,yr,_r,Tr,Ur,Br,Hr,Zr,Er,dn,cn,Cr,Ln,Kr,Ko,Go,ji,ur,Tn,In],styles:[".image-container[_ngcontent-%COMP%]{display:flex;max-width:500px;flex-direction:column;justify-content:center;gap:10px}.block-wrapper[_ngcontent-%COMP%]{display:flex;width:100%}.image-preview[_ngcontent-%COMP%]{max-width:100%;max-height:100%;width:auto;height:auto;padding:10px;border:1px solid grey;border-radius:5px}.image-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;flex:1}.settings-wrapper[_ngcontent-%COMP%]{padding:20px}.sidebar[_ngcontent-%COMP%]{width:150px}.file-drop[_ngcontent-%COMP%]{border:1px dashed var(--main-color);border-radius:10px;background-color:var(--main-color-light);cursor:pointer;display:flex;align-items:center;justify-content:center;min-height:200px;max-height:90%;min-width:80%}"]})};export{qo as CompressComponent};
